import{x as y,y as b,b as w,q as S,W as k,u as D,l as E,n as c,j as R,d as C,e,i as r,f as d,k as A,t as n,w as p,ar as B,$ as h}from"./index-9XWXAznh.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=y("ActivitySquareIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=y("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),U=b("demo",()=>({resetDemo:async()=>{try{const t=w();return t.encuestas=[{id:1,titulo:"Pulso de Bienestar Semanal",descripcion:"Encuesta semanal sobre el bienestar de los empleados",fechaCreacion:"2024-01-15",estado:"activa",totalRespuestas:0,totalEmpleados:120,preguntas:3}],t.encuestaActiva=null,t.loading=!1,t.error=null,console.log("Demo reseteada al estado inicial"),{success:!0,message:"Demo reseteada correctamente"}}catch(t){throw console.error("Error al resetear demo:",t),t}}})),j={class:"bg-white shadow-sm border-b border-gray-200"},H={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},I={class:"flex justify-between items-center h-16"},T={class:"flex items-center"},V={class:"text-xs text-gray-500"},q={class:"flex items-center space-x-4"},M={class:"flex items-center space-x-3"},O={class:"w-8 h-8 bg-primary rounded-full flex items-center justify-center"},P={class:"text-white font-medium text-sm"},$={class:"hidden sm:block"},z={class:"text-sm font-medium text-gray-900"},W={class:"text-xs text-gray-500"},G={__name:"Header",props:{subtitulo:{type:String,default:"Plataforma de Bienestar Corporativo"}},setup(u){const t=S(),o=k(),i=D(),x=U(),l=E(!1),m=c(()=>{var a;return((a=i.user)==null?void 0:a.name)||"Usuario Demo"}),f=c(()=>({administrador:"Administrador",empleado:"Empleado"})[i.userRole]||"Usuario"),v=c(()=>m.value.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2)),g=async()=>{l.value=!0;try{await x.resetDemo(),o.add({severity:"success",summary:"¡Demo Reseteada!",detail:"La aplicación ha vuelto a su estado inicial",life:4e3}),setTimeout(()=>{window.location.reload()},1e3)}catch(a){console.error("Error al resetear demo:",a),o.add({severity:"error",summary:"Error al resetear",detail:"No se pudo resetear la demo. Intenta de nuevo.",life:5e3})}finally{l.value=!1}},_=async()=>{try{await i.logout(),o.add({severity:"info",summary:"Sesión cerrada",detail:"Has cerrado sesión correctamente",life:3e3}),t.push("/login")}catch(a){console.error("Error al cerrar sesión:",a),o.add({severity:"error",summary:"Error",detail:"No se pudo cerrar la sesión",life:4e3})}};return(a,s)=>(R(),C("header",j,[e("div",H,[e("div",I,[e("div",T,[r(d(L),{class:"h-8 w-8 text-primary mr-3"}),e("div",null,[s[0]||(s[0]=e("h1",{class:"text-xl font-bold text-gray-900"},[A(" SMART"),e("span",{class:"text-primary"},"Bienestar")],-1)),e("p",V,n(u.subtitulo),1)])]),e("div",q,[e("div",M,[e("div",O,[e("span",P,n(v.value),1)]),e("div",$,[e("p",z,n(m.value),1),e("p",W,n(f.value),1)])]),r(h,{onClick:g,variant:"outline",loading:l.value,class:"text-orange-600 border-orange-300 hover:bg-orange-50"},{default:p(()=>[r(d(B),{class:"h-4 w-4 mr-2"}),s[1]||(s[1]=e("span",{class:"hidden sm:inline"},"Reiniciar Demo",-1)),s[2]||(s[2]=e("span",{class:"sm:hidden"},"Reset",-1))]),_:1,__:[1,2]},8,["loading"]),r(h,{onClick:_,variant:"outline",class:"text-red-600 border-red-300 hover:bg-red-50"},{default:p(()=>[r(d(N),{class:"h-4 w-4 mr-2"}),s[3]||(s[3]=e("span",{class:"hidden sm:inline"},"Cerrar Sesión",-1)),s[4]||(s[4]=e("span",{class:"sm:hidden"},"Salir",-1))]),_:1,__:[3,4]})])])])]))}};export{G as _};
