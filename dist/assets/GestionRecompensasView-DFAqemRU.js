import{y as ee,l as y,O,n as D,a1 as L,j as x,g as se,w as $,e,i as v,k as E,$ as M,f as p,t as l,z as C,C as V,B as P,X as te,D as ae,W as oe,s as re,o as le,d as f,v as T,h as N,F,r as G,q as ie,U as H,G as A,ak as I,A as ne,R as de}from"./index-9XWXAznh.js";import{g as ce,a as ue,c as me,b as pe,d as ge,e as ve,u as xe,f as fe}from"./recompensas.service-BxAUz_UN.js";import{s as be}from"./dialog.esm-D-A_zY8n.js";import{S as ye}from"./save-YtNVuqqx.js";import{C as he}from"./credit-card-irEx5kBB.js";import{T as we}from"./trash-2-CjVyO1Nz.js";const _e=ee("recompensas",()=>{const n=y([]),b=y([]),h=y({}),d=y(!1),t=y(null);return{recompensas:n,historialCanjes:b,estadisticas:h,loading:d,error:t,cargarRecompensas:async()=>{d.value=!0,t.value=null;try{const i=await ce();n.value=i}catch(i){t.value=i.message||"Error al cargar las recompensas",console.error("Error cargando recompensas:",i)}finally{d.value=!1}},cargarRecompensasPorCategoria:async i=>{d.value=!0,t.value=null;try{const o=await ue(i);n.value=o}catch(o){t.value=o.message||"Error al cargar las recompensas",console.error("Error cargando recompensas por categor√≠a:",o)}finally{d.value=!1}},realizarCanje:async(i,o)=>{d.value=!0,t.value=null;try{const c=await me(i,o);if(c.success)return b.value&&b.value.unshift(c.canje),console.log("Canje realizado exitosamente:",c),c}catch(c){throw t.value=c.message||"Error al realizar el canje",console.error("Error realizando canje:",c),c}finally{d.value=!1}},cargarHistorial:async i=>{d.value=!0,t.value=null;try{const o=await pe(i);b.value=o}catch(o){t.value=o.message||"Error al cargar el historial",console.error("Error cargando historial:",o)}finally{d.value=!1}},cargarEstadisticas:async i=>{d.value=!0,t.value=null;try{const o=await ge(i);h.value=o}catch(o){t.value=o.message||"Error al cargar las estad√≠sticas",console.error("Error cargando estad√≠sticas:",o)}finally{d.value=!1}},crearRecompensa:async i=>{d.value=!0,t.value=null;try{const o=await ve(i);if(o.success)return n.value.push(o.recompensa),console.log("Recompensa creada exitosamente:",o.recompensa),console.log("Estado local actualizado, total recompensas:",n.value.length),o}catch(o){throw t.value=o.message||"Error al crear la recompensa",console.error("Error creando recompensa:",o),o}finally{d.value=!1}},actualizarRecompensa:async i=>{d.value=!0,t.value=null;try{const o=await xe(i);if(o.success){const c=n.value.findIndex(_=>_.id===i.id);return c!==-1&&(n.value[c]=o.recompensa),console.log("Recompensa actualizada exitosamente:",o.recompensa),o}}catch(o){throw t.value=o.message||"Error al actualizar la recompensa",console.error("Error actualizando recompensa:",o),o}finally{d.value=!1}},eliminarRecompensa:async i=>{d.value=!0,t.value=null;try{const o=await fe(i);if(o.success){const c=n.value.findIndex(_=>_.id===i);return c!==-1&&n.value.splice(c,1),console.log("Recompensa eliminada exitosamente"),o}}catch(o){throw t.value=o.message||"Error al eliminar la recompensa",console.error("Error eliminando recompensa:",o),o}finally{d.value=!1}}}}),Ce={class:"form-group"},Ee=["disabled"],$e={class:"form-group"},Re=["disabled"],ke={class:"grid grid-cols-2 gap-4"},je={class:"form-group"},ze=["disabled"],De={class:"form-group"},Me=["disabled"],Se={class:"form-group"},Ve={class:"flex items-center space-x-3"},Te=["disabled"],Ne={class:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center"},Ue={class:"text-2xl"},qe={class:"grid grid-cols-2 gap-4"},Be={class:"form-group"},Le=["disabled"],Pe={class:"form-group"},Fe={class:"flex items-center space-x-3 mt-2"},Ge=["disabled"],He={class:"form-group"},Ae={class:"p-4 bg-gray-50 rounded-lg border border-gray-200"},Ie={class:"flex items-center"},Oe={class:"w-12 h-12 bg-white rounded-lg flex items-center justify-center mr-4 shadow-sm"},We={class:"text-2xl"},Xe={class:"flex-1"},Je={class:"font-medium text-gray-900"},Ke={class:"text-sm text-gray-600"},Qe={class:"flex items-center mt-1"},Ye={class:"text-sm font-medium text-gray-700"},Ze={class:"flex justify-end space-x-4"},es={__name:"RecompensaFormModal",props:{visible:{type:Boolean,default:!1},recompensa:{type:Object,default:null},loading:{type:Boolean,default:!1}},emits:["update:visible","save"],setup(n,{emit:b}){const h=n,d=b,t=y({titulo:"",descripcion:"",coste:100,categoria:"",icono:"üéÅ",popularidad:3,disponible:!0}),k=D({get:()=>h.visible,set:g=>d("update:visible",g)}),R=D(()=>t.value.titulo.trim()&&t.value.descripcion.trim()&&t.value.coste>0&&t.value.categoria&&t.value.icono.trim()),j=()=>{d("update:visible",!1),w()},w=()=>{t.value={titulo:"",descripcion:"",coste:100,categoria:"",icono:"üéÅ",popularidad:3,disponible:!0}},z=()=>{R.value&&(console.log("Enviando datos del formulario:",t.value),d("save",{...t.value}))};return L(()=>h.recompensa,g=>{g?(console.log("Editando recompensa:",g),t.value={titulo:g.titulo||"",descripcion:g.descripcion||"",coste:g.coste||100,categoria:g.categoria||"",icono:g.icono||"üéÅ",popularidad:g.popularidad||3,disponible:g.disponible!==!1}):w()},{immediate:!0}),L(()=>h.visible,g=>{g||w()}),(g,a)=>(x(),se(p(be),{visible:k.value,"onUpdate:visible":a[7]||(a[7]=u=>k.value=u),modal:"",header:n.recompensa?"Editar Recompensa":"Nueva Recompensa",style:{width:"600px"},closable:!n.loading},{footer:$(()=>[e("div",Ze,[v(M,{onClick:j,variant:"outline",disabled:n.loading},{default:$(()=>a[21]||(a[21]=[E(" Cancelar ")])),_:1,__:[21]},8,["disabled"]),v(M,{onClick:z,loading:n.loading,disabled:!R.value},{default:$(()=>[v(p(ye),{class:"h-4 w-4 mr-2"}),E(" "+l(n.recompensa?"Actualizar":"Crear")+" Recompensa ",1)]),_:1},8,["loading","disabled"])])]),default:$(()=>[e("form",{onSubmit:ae(z,["prevent"]),class:"space-y-6"},[e("div",Ce,[a[8]||(a[8]=e("label",{for:"titulo",class:"form-label"}," T√≠tulo de la Recompensa * ",-1)),C(e("input",{id:"titulo","onUpdate:modelValue":a[0]||(a[0]=u=>t.value.titulo=u),type:"text",class:"input",placeholder:"Ej: D√≠a Libre Adicional",required:"",disabled:n.loading},null,8,Ee),[[V,t.value.titulo]])]),e("div",$e,[a[9]||(a[9]=e("label",{for:"descripcion",class:"form-label"}," Descripci√≥n * ",-1)),C(e("textarea",{id:"descripcion","onUpdate:modelValue":a[1]||(a[1]=u=>t.value.descripcion=u),rows:"3",class:"input resize-none",placeholder:"Describe brevemente la recompensa...",required:"",disabled:n.loading},null,8,Re),[[V,t.value.descripcion]])]),e("div",ke,[e("div",je,[a[10]||(a[10]=e("label",{for:"coste",class:"form-label"}," Coste en Puntos * ",-1)),C(e("input",{id:"coste","onUpdate:modelValue":a[2]||(a[2]=u=>t.value.coste=u),type:"number",class:"input",min:"1",max:"1000",step:"5",required:"",disabled:n.loading},null,8,ze),[[V,t.value.coste]])]),e("div",De,[a[12]||(a[12]=e("label",{for:"categoria",class:"form-label"}," Categor√≠a * ",-1)),C(e("select",{id:"categoria","onUpdate:modelValue":a[3]||(a[3]=u=>t.value.categoria=u),class:"input",required:"",disabled:n.loading},a[11]||(a[11]=[e("option",{value:""},"Selecciona categor√≠a",-1),e("option",{value:"tiempo"},"‚è∞ Tiempo Libre",-1),e("option",{value:"bienestar"},"üíÜ‚Äç‚ôÄÔ∏è Bienestar",-1),e("option",{value:"gastronomia"},"üçΩÔ∏è Gastronom√≠a",-1),e("option",{value:"compras"},"üéÅ Compras",-1),e("option",{value:"entretenimiento"},"üé¨ Entretenimiento",-1),e("option",{value:"comodidad"},"üöó Comodidad",-1),e("option",{value:"salud"},"ü•ó Salud",-1)]),8,Me),[[P,t.value.categoria]])])]),e("div",Se,[a[13]||(a[13]=e("label",{for:"icono",class:"form-label"}," Icono (Emoji) * ",-1)),e("div",Ve,[C(e("input",{id:"icono","onUpdate:modelValue":a[4]||(a[4]=u=>t.value.icono=u),type:"text",class:"input flex-1",placeholder:"üéÅ",maxlength:"2",required:"",disabled:n.loading},null,8,Te),[[V,t.value.icono]]),e("div",Ne,[e("span",Ue,l(t.value.icono||"‚ùì"),1)])]),a[14]||(a[14]=e("p",{class:"mt-1 text-xs text-gray-500"}," Usa un emoji que represente la recompensa ",-1))]),e("div",qe,[e("div",Be,[a[16]||(a[16]=e("label",{for:"popularidad",class:"form-label"}," Popularidad (1-5 estrellas) ",-1)),C(e("select",{id:"popularidad","onUpdate:modelValue":a[5]||(a[5]=u=>t.value.popularidad=u),class:"input",disabled:n.loading},a[15]||(a[15]=[e("option",{value:1},"‚≠ê (1 estrella)",-1),e("option",{value:2},"‚≠ê‚≠ê (2 estrellas)",-1),e("option",{value:3},"‚≠ê‚≠ê‚≠ê (3 estrellas)",-1),e("option",{value:4},"‚≠ê‚≠ê‚≠ê‚≠ê (4 estrellas)",-1),e("option",{value:5},"‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5 estrellas)",-1)]),8,Le),[[P,t.value.popularidad]])]),e("div",Pe,[a[18]||(a[18]=e("label",{class:"form-label"}," Estado ",-1)),e("div",Fe,[C(e("input",{id:"disponible","onUpdate:modelValue":a[6]||(a[6]=u=>t.value.disponible=u),type:"checkbox",class:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded",disabled:n.loading},null,8,Ge),[[te,t.value.disponible]]),a[17]||(a[17]=e("label",{for:"disponible",class:"text-sm text-gray-700"}," Disponible para canje ",-1))])])]),e("div",He,[a[20]||(a[20]=e("label",{class:"form-label"},"Vista Previa",-1)),e("div",Ae,[e("div",Ie,[e("div",Oe,[e("span",We,l(t.value.icono||"‚ùì"),1)]),e("div",Xe,[e("h4",Je,l(t.value.titulo||"T√≠tulo de la recompensa"),1),e("p",Ke,l(t.value.descripcion||"Descripci√≥n de la recompensa"),1),e("div",Qe,[a[19]||(a[19]=e("svg",{class:"w-4 h-4 text-yellow-500 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),e("span",Ye,l(t.value.coste||0)+" puntos",1)])])])])])],32)]),_:1},8,["visible","header","closable"]))}},ss=O(es,[["__scopeId","data-v-e824570a"]]),ts={class:"space-y-8"},as={class:"flex justify-between items-center"},os={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},rs={class:"border-b border-gray-200"},ls={class:"flex space-x-8 px-6","aria-label":"Tabs"},is={class:"flex items-center"},ns={class:"flex items-center"},ds={key:0,class:"ml-2 bg-primary text-white text-xs px-2 py-1 rounded-full"},cs={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-6"},us={class:"bg-white rounded-lg shadow-sm p-6 text-center border border-gray-200"},ms={class:"text-2xl font-bold text-primary"},ps={class:"bg-white rounded-lg shadow-sm p-6 text-center border border-gray-200"},gs={class:"text-2xl font-bold text-green-600"},vs={class:"bg-white rounded-lg shadow-sm p-6 text-center border border-gray-200"},xs={class:"text-2xl font-bold text-orange-600"},fs={class:"bg-white rounded-lg shadow-sm p-6 text-center border border-gray-200"},bs={class:"text-2xl font-bold text-blue-600"},ys={key:1,class:"bg-white rounded-lg shadow-sm p-8 text-center"},hs={class:"text-gray-600"},ws={key:2,class:"bg-red-50 border border-red-200 rounded-lg p-6 text-center"},_s={class:"text-red-600 mb-4"},Cs={key:3},Es={key:0,class:"bg-white rounded-lg shadow-sm p-12 text-center"},$s={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Rs={class:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 text-center"},ks={class:"text-3xl mb-2"},js={class:"text-lg font-semibold text-gray-900"},zs={class:"p-4"},Ds={class:"text-sm text-gray-600 mb-4"},Ms={class:"space-y-3 mb-4"},Ss={class:"flex items-center justify-between text-sm"},Vs={class:"font-bold text-primary"},Ts={class:"flex items-center justify-between text-sm"},Ns={class:"font-medium text-gray-900 capitalize"},Us={class:"flex items-center justify-between text-sm"},qs={class:"flex items-center justify-between pt-4 border-t border-gray-200"},Bs=["onClick"],Ls=["onClick"],Ps={key:4},Fs={key:0,class:"bg-white rounded-lg shadow-sm p-12 text-center"},Gs={key:1,class:"bg-white rounded-lg shadow-sm overflow-hidden"},Hs={class:"overflow-x-auto"},As={class:"min-w-full divide-y divide-gray-200"},Is={class:"bg-white divide-y divide-gray-200"},Os={class:"px-6 py-4 whitespace-nowrap"},Ws={class:"text-sm text-gray-900"},Xs={class:"text-sm text-gray-500"},Js={class:"px-6 py-4 whitespace-nowrap"},Ks={class:"flex items-center"},Qs={class:"w-8 h-8 bg-primary rounded-full flex items-center justify-center mr-3"},Ys={class:"text-white font-medium text-sm"},Zs={class:"text-sm font-medium text-gray-900"},et={class:"text-sm text-gray-500"},st={class:"px-6 py-4 whitespace-nowrap"},tt={class:"flex items-center"},at={class:"text-2xl mr-3"},ot={class:"text-sm font-medium text-gray-900"},rt={class:"text-sm text-gray-500 capitalize"},lt={class:"px-6 py-4 whitespace-nowrap"},it={class:"flex items-center"},nt={class:"text-sm font-bold text-gray-900"},dt={__name:"GestionRecompensasView",setup(n){ie();const b=oe(),h=_e(),{recompensas:d,historialCanjes:t,loading:k,error:R}=re(h),{cargarRecompensas:j,cargarHistorial:w,crearRecompensa:z,actualizarRecompensa:g,eliminarRecompensa:a}=h,u=y(!1),i=y(null),o=y(!1),c=y("recompensas"),_=D(()=>t.value.length),W=D(()=>{const m=new Date;return m.setDate(1),m.setHours(0,0,0,0),t.value.filter(s=>new Date(s.fechaCanje)>=m).length}),U=D(()=>t.value.reduce((m,s)=>m+s.coste,0)),q=m=>{c.value=m,m==="historial"&&w()},B=()=>{i.value=null,u.value=!0},X=m=>{i.value=m,u.value=!0},J=()=>{u.value=!1,i.value=null},K=async m=>{o.value=!0;try{i.value?(await g({...m,id:i.value.id}),b.add({severity:"success",summary:"¬°Recompensa actualizada!",detail:"Los cambios han sido guardados correctamente",life:4e3})):(await z(m),b.add({severity:"success",summary:"¬°Recompensa creada!",detail:"La nueva recompensa est√° disponible para los empleados",life:4e3})),J()}catch(s){console.error("Error al guardar recompensa:",s),b.add({severity:"error",summary:"Error al guardar",detail:s.message||"No se pudo guardar la recompensa",life:5e3})}finally{o.value=!1}},Q=async m=>{if(confirm(`¬øEst√°s seguro de que quieres eliminar "${m.titulo}"?

Esta acci√≥n no se puede deshacer.`))try{await a(m.id),b.add({severity:"success",summary:"Recompensa eliminada",detail:`"${m.titulo}" ha sido eliminada del cat√°logo`,life:4e3})}catch(r){console.error("Error al eliminar recompensa:",r),b.add({severity:"error",summary:"Error al eliminar",detail:r.message||"No se pudo eliminar la recompensa",life:5e3})}},Y=m=>new Date(m).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"}),Z=m=>new Date(m).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"});return le(async()=>{await j(),await w()}),(m,s)=>(x(),f("div",ts,[e("div",as,[s[5]||(s[5]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Gesti√≥n de Recompensas"),e("p",{class:"mt-2 text-lg text-gray-600"},"Administra el cat√°logo y controla los canjes realizados")],-1)),v(M,{onClick:B},{default:$(()=>[v(p(H),{class:"h-5 w-5 mr-2"}),s[4]||(s[4]=E(" Nueva Recompensa "))]),_:1,__:[4]})]),e("div",os,[e("div",rs,[e("nav",ls,[e("button",{onClick:s[0]||(s[0]=r=>q("recompensas")),class:T(["py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200",c.value==="recompensas"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[e("div",is,[v(p(A),{class:"h-5 w-5 mr-2"}),s[6]||(s[6]=E(" Cat√°logo de Recompensas "))])],2),e("button",{onClick:s[1]||(s[1]=r=>q("historial")),class:T(["py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200",c.value==="historial"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[e("div",ns,[v(p(I),{class:"h-5 w-5 mr-2"}),s[7]||(s[7]=E(" Historial de Canjes ")),_.value>0?(x(),f("span",ds,l(_.value),1)):N("",!0)])],2)])])]),c.value==="historial"?(x(),f("div",cs,[e("div",us,[e("div",ms,l(_.value),1),s[8]||(s[8]=e("div",{class:"text-sm text-gray-500"},"Total Canjes",-1))]),e("div",ps,[e("div",gs,l(W.value),1),s[9]||(s[9]=e("div",{class:"text-sm text-gray-500"},"Este Mes",-1))]),e("div",vs,[e("div",xs,l(U.value),1),s[10]||(s[10]=e("div",{class:"text-sm text-gray-500"},"Puntos Canjeados",-1))]),e("div",fs,[e("div",bs,l(Math.round(U.value/Math.max(_.value,1))),1),s[11]||(s[11]=e("div",{class:"text-sm text-gray-500"},"Promedio por Canje",-1))])])):N("",!0),p(k)?(x(),f("div",ys,[s[12]||(s[12]=e("div",{class:"animate-spin rounded-full h-12 w-12 border-2 border-primary border-t-transparent mx-auto mb-4"},null,-1)),e("p",hs,l(c.value==="recompensas"?"Cargando cat√°logo...":"Cargando historial de canjes..."),1)])):p(R)?(x(),f("div",ws,[v(p(ne),{class:"h-12 w-12 text-red-500 mx-auto mb-4"}),s[14]||(s[14]=e("h3",{class:"text-lg font-medium text-red-800 mb-2"},"Error al cargar datos",-1)),e("p",_s,l(p(R)),1),v(M,{onClick:s[2]||(s[2]=r=>c.value==="recompensas"?p(j)():p(w)()),variant:"outline"},{default:$(()=>[v(p(de),{class:"h-4 w-4 mr-2"}),s[13]||(s[13]=E(" Reintentar "))]),_:1,__:[13]})])):c.value==="recompensas"?(x(),f("div",Cs,[p(d).length===0?(x(),f("div",Es,[v(p(A),{class:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s[16]||(s[16]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No hay recompensas",-1)),s[17]||(s[17]=e("p",{class:"text-gray-500 mb-6"},"Comienza creando tu primera recompensa para los empleados",-1)),v(M,{onClick:B},{default:$(()=>[v(p(H),{class:"h-4 w-4 mr-2"}),s[15]||(s[15]=E(" Crear Primera Recompensa "))]),_:1,__:[15]})])):(x(),f("div",$s,[(x(!0),f(F,null,G(p(d),r=>(x(),f("div",{key:r.id,class:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200 overflow-hidden"},[e("div",Rs,[e("div",ks,l(r.icono),1),e("h3",js,l(r.titulo),1)]),e("div",zs,[e("p",Ds,l(r.descripcion),1),e("div",Ms,[e("div",Ss,[s[18]||(s[18]=e("span",{class:"text-gray-500"},"Coste",-1)),e("span",Vs,l(r.coste)+" puntos",1)]),e("div",Ts,[s[19]||(s[19]=e("span",{class:"text-gray-500"},"Categor√≠a",-1)),e("span",Ns,l(r.categoria),1)]),e("div",Us,[s[20]||(s[20]=e("span",{class:"text-gray-500"},"Estado",-1)),e("span",{class:T(["px-2 py-1 rounded-full text-xs font-medium",r.disponible?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},l(r.disponible?"Disponible":"No disponible"),3)])]),e("div",qs,[e("button",{onClick:S=>X(r),class:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200"},[v(p(he),{class:"h-4 w-4 mr-1"}),s[21]||(s[21]=e("span",{class:"text-sm font-medium"},"Editar",-1))],8,Bs),e("button",{onClick:S=>Q(r),class:"flex items-center text-red-600 hover:text-red-800 transition-colors duration-200"},[v(p(we),{class:"h-4 w-4 mr-1"}),s[22]||(s[22]=e("span",{class:"text-sm font-medium"},"Eliminar",-1))],8,Ls)])])]))),128))]))])):c.value==="historial"?(x(),f("div",Ps,[p(t).length===0?(x(),f("div",Fs,[v(p(I),{class:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s[23]||(s[23]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No hay canjes registrados",-1)),s[24]||(s[24]=e("p",{class:"text-gray-500"},"Los canjes de recompensas aparecer√°n aqu√≠ cuando los empleados empiecen a canjear",-1))])):(x(),f("div",Gs,[e("div",Hs,[e("table",As,[s[27]||(s[27]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fecha "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Empleado "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Recompensa "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Coste "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Estado ")])],-1)),e("tbody",Is,[(x(!0),f(F,null,G(p(t),r=>{var S;return x(),f("tr",{key:r.id,class:"hover:bg-gray-50"},[e("td",Os,[e("div",Ws,l(Y(r.fechaCanje)),1),e("div",Xs,l(Z(r.fechaCanje)),1)]),e("td",Js,[e("div",Ks,[e("div",Qs,[e("span",Ys,l(((S=r.nombreEmpleado)==null?void 0:S.charAt(0))||"E"),1)]),e("div",null,[e("div",Zs,l(r.nombreEmpleado||"Empleado"),1),e("div",et,l(r.emailEmpleado||"empleado@empresa.com"),1)])])]),e("td",st,[e("div",tt,[e("span",at,l(r.recompensaIcono||"üéÅ"),1),e("div",null,[e("div",ot,l(r.recompensaTitulo),1),e("div",rt,l(r.categoria||"general"),1)])])]),e("td",lt,[e("div",it,[s[25]||(s[25]=e("svg",{class:"w-4 h-4 text-yellow-500 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),e("span",nt,l(r.coste),1)])]),s[26]||(s[26]=e("td",{class:"px-6 py-4 whitespace-nowrap"},[e("span",{class:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium"}," Completado ")],-1))])}),128))])])])]))])):N("",!0),v(ss,{visible:u.value,"onUpdate:visible":s[3]||(s[3]=r=>u.value=r),recompensa:i.value,loading:o.value,onSave:K},null,8,["visible","recompensa","loading"])]))}},xt=O(dt,[["__scopeId","data-v-ca766bcd"]]);export{xt as default};
