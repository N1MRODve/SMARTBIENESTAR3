import{_}from"./Card-CRkor_uq.js";import{u as B,a as C,b as N,c as A,s as d,o as j,d as a,e,t as l,f as n,g as E,w as t,h as I,i,j as o,k as u,_ as c,F as S,r as w}from"./index-BNX75qeA.js";import{u as P}from"./reservas.store-DeVieQVf.js";const T={class:"space-y-6"},D={class:"flex justify-between items-center"},F={class:"text-3xl font-bold text-on-background"},M={class:"bg-primary text-on-primary font-bold py-2 px-4 rounded-xl shadow-lg"},$={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},G={class:"lg:col-span-2 space-y-6"},H={class:"flex justify-between items-center"},L={key:0,class:"space-y-3"},U={class:"font-bold"},q={class:"text-sm text-on-surface-variant"},z={key:1,class:"text-on-surface-variant"},J={class:"space-y-6"},K={key:0,class:"space-y-2"},O={key:1,class:"text-on-surface-variant"},Q={class:"text-right"},W={class:"space-y-3"},es={__name:"DashboardView",setup(X){const R=B(),m=P(),p=C(),x=N(),v=A(),{user:y}=d(R),{misReservas:g}=d(m),{puntosUsuario:V}=d(p),{activeSurvey:h}=d(x),{comunicados:b}=d(v);return j(()=>{var s;const f=((s=y.value)==null?void 0:s.id)||"user-empleado-01";f&&(m.fetchMisReservas(f),p.cargarPuntos(f),x.fetchActiveSurvey(),v.cargarComunicados())}),(f,s)=>{var k;return o(),a("div",T,[e("div",D,[e("h1",F,"Hola, "+l(((k=n(y))==null?void 0:k.name)||"Empleado"),1),e("div",M,[e("span",null,l(n(V)||0)+" Puntos de Bienestar",1)])]),e("div",$,[e("div",G,[n(h)?(o(),E(_,{key:0},{header:t(()=>s[0]||(s[0]=[e("h2",{class:"text-xl font-semibold text-on-surface"},"Tienes una encuesta pendiente",-1)])),default:t(()=>[e("div",H,[e("p",null,l(n(h).titulo),1),i(c,{variant:"primary"},{default:t(()=>s[1]||(s[1]=[u("Responder Ahora")])),_:1,__:[1]})])]),_:1})):I("",!0),i(_,null,{header:t(()=>s[2]||(s[2]=[e("h2",{class:"text-xl font-semibold text-on-surface"},"Próximas Sesiones Reservadas",-1)])),default:t(()=>[n(g).length>0?(o(),a("div",L,[(o(!0),a(S,null,w(n(g),r=>(o(),a("div",{key:r.id,class:"bg-background p-3 rounded-lg"},[e("p",U,l(r.sesionInfo.titulo),1),e("p",q,l(r.sesionInfo.fecha)+" a las "+l(r.sesionInfo.hora),1)]))),128))])):(o(),a("p",z,"No tienes próximas sesiones."))]),_:1})]),e("div",J,[i(_,null,{header:t(()=>s[3]||(s[3]=[e("h2",{class:"text-xl font-semibold text-on-surface"},"Últimos Comunicados",-1)])),footer:t(()=>[e("div",Q,[i(c,{variant:"text"},{default:t(()=>s[4]||(s[4]=[u("Ver todos")])),_:1,__:[4]})])]),default:t(()=>[n(b).length>0?(o(),a("div",K,[(o(!0),a(S,null,w(n(b).slice(0,3),r=>(o(),a("p",{key:r.id,class:"text-sm p-2 bg-background rounded-md"},l(r.titulo),1))),128))])):(o(),a("p",O,"No hay comunicados recientes."))]),_:1}),i(_,null,{header:t(()=>s[5]||(s[5]=[e("h2",{class:"text-xl font-semibold text-on-surface"},"Explorar",-1)])),default:t(()=>[e("div",W,[i(c,{variant:"outline",class:"w-full"},{default:t(()=>s[6]||(s[6]=[u("Ver Actividades")])),_:1,__:[6]}),i(c,{variant:"outline",class:"w-full"},{default:t(()=>s[7]||(s[7]=[u("Canjear Recompensas")])),_:1,__:[7]}),i(c,{variant:"outline",class:"w-full"},{default:t(()=>s[8]||(s[8]=[u("Buscar Apoyo Profesional")])),_:1,__:[8]})])]),_:1})])])])}}};export{es as default};
