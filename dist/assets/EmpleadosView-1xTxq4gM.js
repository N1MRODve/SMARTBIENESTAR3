import{g as v,i as f}from"./empleados.service-CAU2JaJn.js";import{l as u,j as r,d as n,e as s,z as y,A as g,F as c,o as x,r as w,g as k,h as E,t as p,v as h}from"./index-BNX75qeA.js";const $={class:"fixed inset-0 z-50 flex items-center justify-center"},_={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},C={class:"border-b p-4 flex justify-between items-center"},I={class:"p-6"},j={class:"bg-gray-50 p-4 flex justify-end space-x-4"},V={__name:"InvitarEmpleadosModal",emits:["close","submit"],setup(b,{emit:d}){const i=d,o=u(""),m=()=>{const l=o.value.split(/[\n,]+/).map(e=>e.trim()).filter(e=>e);l.length>0&&i("submit",l)};return(l,e)=>(r(),n(c,null,[s("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:e[0]||(e[0]=t=>l.$emit("close"))}),s("div",$,[s("div",_,[s("div",C,[e[4]||(e[4]=s("h2",{class:"text-xl font-semibold"},"Invitar Nuevos Empleados",-1)),s("button",{onClick:e[1]||(e[1]=t=>l.$emit("close")),class:"text-gray-500 hover:text-gray-800"},"×")]),s("div",I,[e[5]||(e[5]=s("label",{for:"emails",class:"block text-sm font-medium text-gray-700 mb-2"}," Correos Electrónicos ",-1)),e[6]||(e[6]=s("p",{class:"text-sm text-gray-500 mb-4"}," Introduce uno o varios correos electrónicos, separados por comas o saltos de línea. ",-1)),y(s("textarea",{id:"emails","onUpdate:modelValue":e[2]||(e[2]=t=>o.value=t),rows:"5",placeholder:"empleado1@empresa.com, empleado2@empresa.com",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary"},null,512),[[g,o.value]])]),s("div",j,[s("button",{onClick:e[3]||(e[3]=t=>l.$emit("close")),class:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-md hover:bg-gray-300 transition-colors"}," Cancelar "),s("button",{onClick:m,class:"bg-primary text-white font-bold py-2 px-4 rounded-md hover:bg-primary-dark transition-colors"}," Enviar Invitaciones ")])])])],64))}},z={class:"p-4 md:p-8"},B={class:"flex justify-between items-center mb-6"},M={key:0,class:"text-center py-10"},N={key:1,class:"bg-white rounded-lg shadow-md"},A={class:"w-full text-left"},L={class:"p-4"},S={class:"p-4"},D={class:"p-4"},T={__name:"EmpleadosView",setup(b){const d=u([]),i=u(!0),o=u(!1),m=async()=>{i.value=!0;try{d.value=await v()}catch(e){console.error("Error al cargar los empleados:",e)}finally{i.value=!1}};x(m);const l=async e=>{await f(e),o.value=!1,await m()};return(e,t)=>(r(),n("div",z,[s("div",B,[t[2]||(t[2]=s("h1",{class:"text-3xl font-bold text-gray-800"},"Gestión de Empleados",-1)),s("button",{onClick:t[0]||(t[0]=a=>o.value=!0),class:"bg-primary text-white font-bold py-2 px-4 rounded-md hover:bg-primary-dark transition-colors"}," Invitar Empleados ")]),i.value?(r(),n("div",M,t[3]||(t[3]=[s("p",null,"Cargando empleados...",-1)]))):(r(),n("div",N,[s("table",A,[t[5]||(t[5]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"p-4 font-semibold"},"Nombre"),s("th",{class:"p-4 font-semibold"},"Email"),s("th",{class:"p-4 font-semibold"},"Estado"),s("th",{class:"p-4 font-semibold"},"Acciones")])],-1)),s("tbody",null,[(r(!0),n(c,null,w(d.value,a=>(r(),n("tr",{key:a.id,class:"border-b"},[s("td",L,p(a.nombre),1),s("td",S,p(a.email),1),s("td",D,[s("span",{class:h([{"bg-green-100 text-green-800":a.estado==="Activo","bg-yellow-100 text-yellow-800":a.estado==="Invitado"},"px-2 py-1 text-sm font-medium rounded-full"])},p(a.estado),3)]),t[4]||(t[4]=s("td",{class:"p-4"},[s("button",{class:"text-primary hover:underline"},"Editar")],-1))]))),128))])])])),o.value?(r(),k(V,{key:2,onClose:t[1]||(t[1]=a=>o.value=!1),onSubmit:l})):E("",!0)]))}};export{T as default};
