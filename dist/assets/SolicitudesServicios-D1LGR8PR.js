import{x as I,l as g,d,i as a,e as t,f as l,t as s,F as f,r as w,k as B,h,w as p,q as N,j as c,P as k,am as V,a4 as $,aj as L,v as C,U as q,Z as z}from"./index-9XWXAznh.js";import{u as M}from"./index-BBOQ62Pn.js";import{s as E}from"./dialog.esm-D-A_zY8n.js";import{_ as U}from"./Header-CQM0Mtxj.js";import{s as G,F as O,o as S,e as R,b as Z,c as H}from"./solicitudesMock-C-Am33sr.js";import{B as J}from"./building-4GKlUfSm.js";import{E as K}from"./eye-DW_jvoXF.js";import{T as Q}from"./trash-2-CjVyO1Nz.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=I("PlayCircleIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),X={class:"min-h-screen bg-gray-50"},Y={class:"py-8"},tt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},et={class:"mb-8"},st={class:"flex items-center justify-between mb-4"},ot={class:"flex items-center gap-2 px-4 py-2 bg-indigo-100 rounded-full"},lt={class:"text-sm font-semibold text-indigo-700"},at={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},it={class:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-yellow-500"},nt={class:"flex items-center justify-between"},rt={class:"text-2xl font-bold text-yellow-700"},dt={class:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-blue-500"},ct={class:"flex items-center justify-between"},xt={class:"text-2xl font-bold text-blue-700"},mt={class:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-green-500"},ut={class:"flex items-center justify-between"},gt={class:"text-2xl font-bold text-green-700"},pt={class:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-gray-500"},vt={class:"flex items-center justify-between"},yt={class:"text-2xl font-bold text-gray-700"},bt={class:"bg-white shadow-sm rounded-xl overflow-hidden"},ht={class:"overflow-x-auto"},_t={class:"min-w-full divide-y divide-gray-200"},ft={class:"bg-white divide-y divide-gray-200"},wt={class:"px-6 py-4"},kt={class:"flex items-center gap-3"},Ct={class:"text-2xl"},Et={class:"text-sm font-semibold text-gray-900"},St={class:"text-xs text-gray-500"},jt={class:"px-6 py-4"},Dt={class:"flex items-center gap-2"},Ft={class:"text-sm text-gray-900"},Tt={class:"px-6 py-4"},Pt={class:"flex items-center gap-2"},At={class:"text-sm text-gray-900"},It={class:"px-6 py-4"},Bt=["value","onChange"],Nt=["value"],Vt={class:"px-6 py-4"},$t={class:"flex items-center gap-2"},Lt=["onClick"],qt=["onClick"],zt={key:0,class:"text-center py-12"},Mt={class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},Ut={class:"flex items-center gap-3"},Gt={class:"text-3xl"},Ot={class:"text-sm text-gray-600"},Rt={key:0,class:"space-y-6"},Zt={class:"text-base text-gray-900"},Ht={class:"grid grid-cols-2 gap-4"},Jt={class:"text-base text-gray-900"},Kt={class:"text-base text-gray-900"},Qt={class:"text-base text-gray-900"},Wt={class:"text-sm text-gray-900 bg-gray-50 p-4 rounded-lg"},Xt={key:0},Yt={class:"text-sm text-gray-900 bg-gray-50 p-4 rounded-lg"},te={class:"text-base text-gray-900"},ee={class:"flex items-center gap-3"},se={class:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center"},oe={class:"space-y-4"},le={class:"bg-gray-50 p-4 rounded-lg"},ae={class:"text-sm font-semibold text-gray-900"},ie={class:"text-xs text-gray-600 mt-1"},ne={class:"flex items-center justify-end gap-3"},ye={__name:"SolicitudesServicios",setup(re){const j=N(),_=M(),x=g(G),i=g(null),m=g(null),v=g(!1),u=g(!1),y=r=>x.value.filter(e=>e.estado===r).length,b=r=>r?new Date(r+"T00:00:00").toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}):"-",D=(r,e)=>{Z(r,e),_.info(`Estado actualizado a "${e}"`,{timeout:3e3})},F=r=>{i.value=r,v.value=!0},T=r=>{m.value=r,u.value=!0},P=()=>{m.value&&(H(m.value.id),_.success("Solicitud eliminada correctamente",{timeout:3e3}),u.value=!1,m.value=null)},A=()=>{j.push({name:"admin-servicios"})};return(r,e)=>(c(),d("div",X,[a(U,{subtitulo:"Solicitudes de Servicios"}),t("div",Y,[t("div",tt,[t("div",et,[t("div",st,[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"}," Solicitudes de Servicios "),t("p",{class:"text-gray-600 mt-2"}," Gestiona las solicitudes de implementación de programas y talleres ")],-1)),t("div",ot,[a(l(k),{class:"h-5 w-5 text-indigo-600"}),t("span",lt,s(x.value.length)+" solicitud"+s(x.value.length!==1?"es":""),1)])]),t("div",at,[t("div",it,[t("div",nt,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm text-gray-600"},"Pendientes",-1)),t("p",rt,s(y("Pendiente")),1)]),a(l(V),{class:"h-8 w-8 text-yellow-500"})])]),t("div",dt,[t("div",ct,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm text-gray-600"},"En curso",-1)),t("p",xt,s(y("En curso")),1)]),a(l(W),{class:"h-8 w-8 text-blue-500"})])]),t("div",mt,[t("div",ut,[t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm text-gray-600"},"Completados",-1)),t("p",gt,s(y("Completado")),1)]),a(l($),{class:"h-8 w-8 text-green-500"})])]),t("div",pt,[t("div",vt,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-600"},"Total",-1)),t("p",yt,s(x.value.length),1)]),a(l(O),{class:"h-8 w-8 text-gray-500"})])])])]),t("div",bt,[t("div",ht,[t("table",_t,[e[8]||(e[8]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Servicio "),t("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Departamento "),t("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fecha Implementación "),t("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Estado "),t("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Acciones ")])],-1)),t("tbody",ft,[(c(!0),d(f,null,w(x.value,o=>(c(),d("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors"},[t("td",wt,[t("div",kt,[t("span",Ct,s(o.servicio.icono),1),t("div",null,[t("p",Et,s(o.servicio.nombre),1),t("p",St," ID: "+s(o.id),1)])])]),t("td",jt,[t("div",Dt,[a(l(J),{class:"h-4 w-4 text-gray-400"}),t("span",Ft,s(o.departamento),1)])]),t("td",Tt,[t("div",Pt,[a(l(L),{class:"h-4 w-4 text-gray-400"}),t("span",At,s(b(o.fecha_implementacion)),1)])]),t("td",It,[t("select",{value:o.estado,onChange:n=>D(o.id,n.target.value),class:C(["text-xs font-medium px-3 py-1.5 rounded-full border-0 cursor-pointer transition-colors",l(S)(o.estado).badge])},[(c(!0),d(f,null,w(l(R),n=>(c(),d("option",{key:n,value:n},s(n),9,Nt))),128))],42,Bt)]),t("td",Vt,[t("div",$t,[t("button",{onClick:n=>F(o),class:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Ver detalles"},[a(l(K),{class:"h-5 w-5"})],8,Lt),t("button",{onClick:n=>T(o),class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar"},[a(l(Q),{class:"h-5 w-5"})],8,qt)])])]))),128))])])]),x.value.length===0?(c(),d("div",zt,[t("div",Mt,[a(l(k),{class:"h-8 w-8 text-gray-400"})]),e[10]||(e[10]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-2"}," No hay solicitudes registradas ",-1)),e[11]||(e[11]=t("p",{class:"text-gray-600 mb-4"}," Las solicitudes de implementación aparecerán aquí ",-1)),t("button",{onClick:A,class:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors"},[a(l(q),{class:"h-5 w-5"}),e[9]||(e[9]=B(" Explorar servicios "))])])):h("",!0)])])]),a(l(E),{visible:v.value,"onUpdate:visible":e[0]||(e[0]=o=>v.value=o),modal:"",dismissableMask:!0,style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:p(()=>{var o,n;return[t("div",Ut,[t("span",Gt,s((o=i.value)==null?void 0:o.servicio.icono),1),t("div",null,[e[12]||(e[12]=t("h3",{class:"text-xl font-bold text-gray-900"}," Detalles de la Solicitud ",-1)),t("p",Ot," ID: "+s((n=i.value)==null?void 0:n.id),1)])])]}),default:p(()=>[i.value?(c(),d("div",Rt,[t("div",null,[e[13]||(e[13]=t("h4",{class:"text-sm font-semibold text-gray-700 mb-2"},"Servicio",-1)),t("p",Zt,s(i.value.servicio.nombre),1)]),t("div",Ht,[t("div",null,[e[14]||(e[14]=t("h4",{class:"text-sm font-semibold text-gray-700 mb-2"},"Departamento",-1)),t("p",Jt,s(i.value.departamento),1)]),t("div",null,[e[15]||(e[15]=t("h4",{class:"text-sm font-semibold text-gray-700 mb-2"},"Estado",-1)),t("span",{class:C(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",l(S)(i.value.estado).badge])},s(i.value.estado),3)]),t("div",null,[e[16]||(e[16]=t("h4",{class:"text-sm font-semibold text-gray-700 mb-2"},"Fecha de Solicitud",-1)),t("p",Kt,s(b(i.value.fecha_solicitud)),1)]),t("div",null,[e[17]||(e[17]=t("h4",{class:"text-sm font-semibold text-gray-700 mb-2"},"Fecha de Implementación",-1)),t("p",Qt,s(b(i.value.fecha_implementacion)),1)])]),t("div",null,[e[18]||(e[18]=t("h4",{class:"text-sm font-semibold text-gray-700 mb-2"},"Objetivos Específicos",-1)),t("p",Wt,s(i.value.objetivos),1)]),i.value.comentarios?(c(),d("div",Xt,[e[19]||(e[19]=t("h4",{class:"text-sm font-semibold text-gray-700 mb-2"},"Comentarios",-1)),t("p",Yt,s(i.value.comentarios),1)])):h("",!0),t("div",null,[e[20]||(e[20]=t("h4",{class:"text-sm font-semibold text-gray-700 mb-2"},"Solicitante",-1)),t("p",te,s(i.value.solicitante),1)])])):h("",!0)]),_:1},8,["visible"]),a(l(E),{visible:u.value,"onUpdate:visible":e[2]||(e[2]=o=>u.value=o),modal:"",dismissableMask:!0,style:{width:"30rem"}},{header:p(()=>[t("div",ee,[t("div",se,[a(l(z),{class:"h-6 w-6 text-red-600"})]),e[21]||(e[21]=t("h3",{class:"text-xl font-bold text-gray-900"}," Confirmar eliminación ",-1))])]),footer:p(()=>[t("div",ne,[t("button",{onClick:e[1]||(e[1]=o=>u.value=!1),class:"px-4 py-2 rounded-lg text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors"}," Cancelar "),t("button",{onClick:P,class:"px-4 py-2 rounded-lg text-white bg-red-600 hover:bg-red-700 transition-colors"}," Eliminar ")])]),default:p(()=>{var o,n;return[t("div",oe,[e[22]||(e[22]=t("p",{class:"text-gray-700"}," ¿Estás seguro de que deseas eliminar esta solicitud? ",-1)),t("div",le,[t("p",ae,s((o=m.value)==null?void 0:o.servicio.nombre),1),t("p",ie," Departamento: "+s((n=m.value)==null?void 0:n.departamento),1)]),e[23]||(e[23]=t("p",{class:"text-sm text-red-600"}," Esta acción no se puede deshacer. ",-1))])]}),_:1},8,["visible"])]))}};export{ye as default};
