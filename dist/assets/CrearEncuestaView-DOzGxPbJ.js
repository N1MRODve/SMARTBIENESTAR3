import{d as P,f as ae,B as L,h as r,j as a,v as n,u as b,t as u,b as v,G as te,q as c,H as h,L as w,K as x,z as d,F as k,y as C,E as M,O as N,V as oe,D as se,U as ie,o as i,I as y,c as re}from"./vue-vendor-DLSXyIw7.js";import{e as ne,f as le,b as de,_ as g,S as ue,B as ce,L as pe,H as me,g as ve}from"./index-D33O_vwf.js";import{A as be}from"./arrow-left-DGT1lY9t.js";import{L as ge}from"./lightbulb-BKd5l1Kr.js";import{P as q}from"./plus-n9pYVzkT.js";import{S as fe,U as xe}from"./user-check-BfZhHJN9.js";import{A as ye}from"./alert-triangle-Dg4Dpai8.js";import{H as _e}from"./help-circle-Cgf4FoU8.js";import{T as he}from"./trash-2-OdR_kCZk.js";import{X as we}from"./x-qOn0wnZo.js";import{S as ke}from"./save-BO0ouwoH.js";import"./supabase-B7V2753y.js";const Ce=[{id:"clima360",nombre:"Clima360 Insight",descripcion:"Diagn√≥stico integral del clima laboral y bienestar organizacional.",categoria:"Clima laboral",icon:"üå°Ô∏è",preguntas:[{id:1,texto:"La tasa de rotaci√≥n est√° dentro de los est√°ndares aceptables.",tipo:"escala_1_5",variable:"rotacion",opciones:[]},{id:2,texto:"El absentismo no afecta significativamente la productividad.",tipo:"escala_1_5",variable:"absentismo",opciones:[]},{id:3,texto:"Los empleados alcanzan consistentemente los objetivos de productividad establecidos.",tipo:"escala_1_5",variable:"productividad",opciones:[]},{id:4,texto:"El liderazgo contribuye positivamente a la retenci√≥n de talento.",tipo:"escala_1_5",variable:"liderazgo",opciones:[]},{id:5,texto:"La comunicaci√≥n interna es clara, transparente y efectiva.",tipo:"escala_1_5",variable:"comunicacion",opciones:[]},{id:6,texto:"Ofrecemos oportunidades de desarrollo profesional y movilidad interna.",tipo:"escala_1_5",variable:"desarrollo",opciones:[]},{id:7,texto:"Los empleados reciben reconocimiento oportuno y feedback constructivo.",tipo:"escala_1_5",variable:"reconocimiento",opciones:[]},{id:8,texto:"Promovemos una cultura de bienestar y equilibrio vida-trabajo.",tipo:"escala_1_5",variable:"bienestar",opciones:[]},{id:9,texto:"La empresa se adapta eficazmente a los cambios.",tipo:"escala_1_5",variable:"adaptabilidad",opciones:[]},{id:10,texto:"Los empleados muestran sentido de pertenencia y compromiso.",tipo:"escala_1_5",variable:"pertenencia",opciones:[]}],metricas:[{id:11,texto:"Tasa de rotaci√≥n anual",tipo:"opcion_multiple",opciones:["<5%","5‚Äì10%","11‚Äì15%",">15%"],valores:[5,4,3,1]},{id:12,texto:"Tasa de absentismo",tipo:"opcion_multiple",opciones:["Bajo","Medio","Alto"],valores:[5,3,1]},{id:13,texto:"√çndice de productividad",tipo:"opcion_multiple",opciones:["Muy alta","Alta","Media","Baja","Muy baja"],valores:[5,4,3,2,1]}]},{id:"bienestarBasico",nombre:"Pulse Bienestar B√°sico",descripcion:"Mini encuesta mensual sobre bienestar y motivaci√≥n general.",categoria:"Bienestar emocional",icon:"üíö",preguntas:[{id:1,texto:"¬øC√≥mo te sientes en general con tu trabajo esta semana?",tipo:"escala_1_5",variable:"satisfaccion_semanal",opciones:[]},{id:2,texto:"¬øTe sientes motivado y comprometido con tus tareas?",tipo:"escala_1_5",variable:"motivacion",opciones:[]},{id:3,texto:"¬øSientes que tu carga de trabajo es manejable?",tipo:"si_no",variable:"carga_manejable",opciones:[]},{id:4,texto:"¬øQu√© es lo que m√°s afecta tu bienestar laboral actualmente?",tipo:"opcion_multiple",variable:"factor_bienestar",opciones:["Estr√©s","Carga de trabajo","Ambiente laboral","Falta de reconocimiento","Otro"]},{id:5,texto:"¬øTienes alg√∫n comentario o sugerencia sobre tu bienestar en el trabajo?",tipo:"texto_abierto",variable:"comentarios",opciones:[]}],metricas:[]},{id:"satisfaccionLaboral",nombre:"Satisfacci√≥n Laboral Integral",descripcion:"Evaluaci√≥n completa de la satisfacci√≥n del empleado en diferentes √°reas.",categoria:"Satisfacci√≥n general",icon:"‚≠ê",preguntas:[{id:1,texto:"¬øQu√© tan satisfecho est√°s con tu rol actual?",tipo:"escala_1_5",variable:"satisfaccion_rol",opciones:[]},{id:2,texto:"¬øConsideras que recibes un salario justo por tu trabajo?",tipo:"si_no",variable:"salario_justo",opciones:[]},{id:3,texto:"¬øC√≥mo calificar√≠as la relaci√≥n con tu supervisor inmediato?",tipo:"escala_1_5",variable:"relacion_supervisor",opciones:[]},{id:4,texto:"¬øTe sientes valorado por tu trabajo y contribuci√≥n?",tipo:"escala_1_5",variable:"sentido_valor",opciones:[]},{id:5,texto:"¬øQu√© aspecto de tu trabajo te genera mayor satisfacci√≥n?",tipo:"opcion_multiple",variable:"aspecto_satisfactorio",opciones:["Desaf√≠os del puesto","Compa√±eros de trabajo","Autonom√≠a","Impacto del trabajo","Beneficios y compensaci√≥n"]},{id:6,texto:"¬øRecomendar√≠as esta empresa como un lugar para trabajar?",tipo:"si_no",variable:"recomendaria_empresa",opciones:[]},{id:7,texto:"¬øQu√© cambio tendr√≠a el mayor impacto positivo en tu satisfacci√≥n laboral?",tipo:"texto_abierto",variable:"cambio_sugerido",opciones:[]}],metricas:[]}],je={class:"min-h-screen bg-gray-50"},Se={class:"py-8"},Ee={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},Pe={class:"mb-8"},qe={class:"flex items-center justify-between"},Le={key:0,class:"bg-indigo-50 border border-indigo-200 rounded-lg p-4 mb-6"},Me={class:"flex items-start"},Ne={class:"flex-shrink-0 text-2xl mr-3"},$e={class:"flex-1"},Te={class:"text-sm font-semibold text-indigo-900"},Ae={class:"text-sm text-indigo-700 mt-1"},Ve={class:"bg-white rounded-lg shadow-sm overflow-hidden"},De={class:"p-6 border-b border-gray-200"},Re={class:"space-y-6"},ze={class:"form-group"},Be={class:"form-group"},Ue={class:"form-group"},Oe={key:0,class:"form-group"},Ie={class:"p-4 bg-blue-50 border border-blue-200 rounded-lg"},Qe={class:"flex items-start"},Fe={class:"flex-1"},He={class:"text-sm font-medium text-blue-800 mb-2"},Ge={class:"space-y-2"},Je={class:"flex-1"},Ke={class:"text-sm text-blue-900 font-medium"},Xe={class:"text-xs text-blue-700 mt-1"},We={class:"text-xs text-blue-600 mt-3"},Ye={class:"p-6 border-b border-gray-200 bg-gradient-to-br from-blue-50 to-indigo-50"},Ze={class:"flex items-center mb-6"},ea={class:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center mr-4"},aa={class:"space-y-4"},ta={class:"flex items-start flex-1"},oa={class:"flex-1"},sa={class:"flex items-center justify-between mb-2"},ia={class:"flex items-center"},ra={class:"flex items-start bg-white/70 border border-green-200 rounded-lg p-3"},na={class:"flex items-start flex-1"},la={class:"flex-1"},da={class:"flex items-center mb-2"},ua={class:"space-y-2"},ca={class:"flex items-start bg-white/70 border border-orange-200 rounded-lg p-3"},pa={class:"flex items-start bg-white/70 border border-orange-200 rounded-lg p-3"},ma={class:"flex items-start flex-1"},va={class:"flex-1"},ba={class:"flex items-center mb-2"},ga={class:"space-y-2"},fa={class:"flex items-start bg-white/70 border border-blue-200 rounded-lg p-3"},xa={class:"flex items-start bg-yellow-50 border border-yellow-300 rounded-lg p-3"},ya={class:"mt-6 bg-white border-2 border-indigo-200 rounded-xl p-5"},_a={class:"flex items-start"},ha={class:"flex-shrink-0"},wa={class:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center"},ka={class:"p-6"},Ca={class:"flex items-center justify-between mb-6"},ja={class:"text-xl font-semibold text-gray-900"},Sa={key:0,class:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg"},Ea={key:1,class:"space-y-6"},Pa={class:"flex items-start justify-between mb-4"},qa={class:"text-lg font-medium text-gray-900"},La={class:"form-group mb-4"},Ma=["for"],Na=["id","onUpdate:modelValue"],$a={class:"form-group mb-4"},Ta=["for"],Aa=["id","onUpdate:modelValue","onChange"],Va={key:0,class:"form-group"},Da={class:"space-y-3"},Ra=["onUpdate:modelValue","placeholder"],za={key:1,class:"form-group"},Ba={class:"mt-6 p-4 bg-white border border-gray-200 rounded-lg"},Ua={class:"space-y-3"},Oa={class:"font-medium text-gray-900"},Ia={key:0,class:"space-y-2"},Qa=["name"],Fa={class:"text-gray-700"},Ha={key:1,class:"space-y-2"},Ga={key:2,class:"space-y-3"},Ja={class:"flex items-center justify-between"},Ka={class:"text-sm font-medium text-gray-700"},Xa={key:3,class:"space-y-3"},Wa={class:"form-group"},Ya={class:"flex items-center space-x-3 mb-4"},Za={key:0,class:"ml-7 space-y-4 p-4 bg-blue-50 border border-blue-200 rounded-lg"},et={class:"grid grid-cols-2 gap-4"},at={key:0},tt={key:1},ot=["value"],st={class:"grid grid-cols-2 gap-4"},it=["min"],rt={key:0,class:"mt-4 p-3 bg-white border border-blue-300 rounded-lg"},nt={class:"text-sm text-blue-700"},lt={class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},dt={class:"flex justify-between items-center"},ut={class:"text-sm text-gray-500"},ct={key:0},pt={key:1},mt={class:"flex space-x-4"},vt={__name:"CrearEncuestaView",setup(bt){const S=se(),z=ie(),l=le(),$=de(),j=P(null),_=P(!1),t=P({titulo:"",descripcion:"",categoria:"",privacidadNivel:"anonimato_completo",preguntas:[],esRecurrente:!1,creada_desde:"custom",recurrencia:{frecuencia:"",diaSemana:"",diaMes:"",horaEnvio:"09:00",duracionActiva:"7",fechaInicio:""}});ae(()=>{const s=z.query.plantilla;s&&B(s)});const B=s=>{const e=Ce.find(o=>o.id===s);e&&(j.value=e,t.value.titulo=e.nombre,t.value.descripcion=e.descripcion,t.value.categoria=U(e.categoria),t.value.creada_desde="plantilla",t.value.preguntas=e.preguntas.map(o=>({id:Date.now()+Math.random(),texto:o.texto,tipo:o.tipo,opciones:o.opciones?[...o.opciones]:[]})),e.metricas&&e.metricas.length>0&&e.metricas.forEach(o=>{t.value.preguntas.push({id:Date.now()+Math.random(),texto:o.texto,tipo:o.tipo,opciones:o.opciones?[...o.opciones]:[]})}),l.add({severity:"info",summary:"Plantilla cargada",detail:`Plantilla "${e.nombre}" cargada. Puedes editar y personalizar las preguntas.`,life:5e3}))},U=s=>({"Clima laboral":"general","Bienestar emocional":"salud-mental","Satisfacci√≥n general":"general"})[s]||"general",E=P([]),T={"salud-mental":[{texto:"¬øC√≥mo calificar√≠as tu nivel de estr√©s en el trabajo durante la √∫ltima semana?",tipo:"escala_1_5",opciones:[]},{texto:"¬øTe sientes emocionalmente agotado al final del d√≠a laboral?",tipo:"si_no",opciones:[]},{texto:"¬øQu√© factores contribuyen m√°s a tu estr√©s laboral?",tipo:"opcion_multiple",opciones:["Carga de trabajo excesiva","Falta de tiempo","Presi√≥n de deadlines","Conflictos interpersonales","Incertidumbre laboral"]},{texto:"¬øQu√© estrategias o recursos te ayudar√≠an a gestionar mejor el estr√©s?",tipo:"texto_abierto",opciones:[]}],"carga-laboral":[{texto:"¬øConsideras que tu carga de trabajo actual es manejable?",tipo:"escala_1_5",opciones:[]},{texto:"¬øLogras mantener un equilibrio saludable entre trabajo y vida personal?",tipo:"si_no",opciones:[]},{texto:"¬øCon qu√© frecuencia trabajas fuera de tu horario habitual?",tipo:"opcion_multiple",opciones:["Nunca","Ocasionalmente","Frecuentemente","Casi siempre","Siempre"]},{texto:"¬øQu√© cambios en la organizaci√≥n del trabajo mejorar√≠an tu bienestar?",tipo:"texto_abierto",opciones:[]}],comunicacion:[{texto:"¬øQu√© tan clara y efectiva consideras la comunicaci√≥n en tu equipo?",tipo:"escala_1_5",opciones:[]},{texto:"¬øTe sientes c√≥modo expresando tus ideas y opiniones en el trabajo?",tipo:"si_no",opciones:[]},{texto:"¬øCu√°l es el principal desaf√≠o en la comunicaci√≥n de tu equipo?",tipo:"opcion_multiple",opciones:["Falta de claridad en instrucciones","Comunicaci√≥n tard√≠a","Demasiadas reuniones","Canales inadecuados","Falta de feedback"]},{texto:"¬øC√≥mo podr√≠amos mejorar la comunicaci√≥n en tu √°rea de trabajo?",tipo:"texto_abierto",opciones:[]}],ergonomia:[{texto:"¬øQu√© tan c√≥modo te sientes f√≠sicamente en tu puesto de trabajo?",tipo:"escala_1_5",opciones:[]},{texto:"¬øExperimentas dolores o molestias f√≠sicas relacionadas con tu trabajo?",tipo:"si_no",opciones:[]},{texto:"¬øQu√© aspectos de tu espacio de trabajo te causan m√°s incomodidad?",tipo:"opcion_multiple",opciones:["Silla inadecuada","Altura del escritorio","Iluminaci√≥n","Ruido","Temperatura","Espacio insuficiente"]},{texto:"¬øQu√© mejoras en tu espacio de trabajo tendr√≠an mayor impacto en tu comodidad?",tipo:"texto_abierto",opciones:[]}],desarrollo:[{texto:"¬øSientes que tienes oportunidades de crecimiento profesional en la empresa?",tipo:"escala_1_5",opciones:[]},{texto:"¬øRecibes feedback regular sobre tu desempe√±o y desarrollo?",tipo:"si_no",opciones:[]},{texto:"¬øQu√© tipo de desarrollo profesional te interesa m√°s?",tipo:"opcion_multiple",opciones:["Capacitaci√≥n t√©cnica","Habilidades de liderazgo","Certificaciones","Mentoring","Proyectos desafiantes"]},{texto:"¬øQu√© obst√°culos encuentras para tu desarrollo profesional en la empresa?",tipo:"texto_abierto",opciones:[]}],general:[{texto:"¬øC√≥mo calificar√≠as tu satisfacci√≥n general con el trabajo?",tipo:"escala_1_5",opciones:[]},{texto:"¬øRecomendar√≠as esta empresa como un buen lugar para trabajar?",tipo:"si_no",opciones:[]},{texto:"¬øCu√°l es el aspecto m√°s positivo de trabajar en esta empresa?",tipo:"opcion_multiple",opciones:["Ambiente de trabajo","Beneficios","Flexibilidad","Oportunidades de crecimiento","Compa√±eros de trabajo"]},{texto:"¬øQu√© sugerencias tienes para mejorar el bienestar general en la empresa?",tipo:"texto_abierto",opciones:[]}]},O=L(()=>{if(!(t.value.titulo.trim()&&t.value.categoria&&t.value.privacidadNivel&&t.value.preguntas.length>0&&t.value.preguntas.every(e=>e.texto.trim()&&e.tipo&&(e.tipo!=="opcion_multiple"||e.opciones&&e.opciones.every(o=>o.trim())))))return!1;if(t.value.esRecurrente){const e=t.value.recurrencia;return e.frecuencia&&e.horaEnvio&&e.duracionActiva&&e.fechaInicio&&(e.frecuencia==="semanal"||e.frecuencia==="quincenal"?e.diaSemana:e.frecuencia==="mensual"||e.frecuencia==="trimestral"?e.diaMes:!0)}return!0}),I=L(()=>new Date().toISOString().split("T")[0]),A=L(()=>{if(!t.value.esRecurrente||!t.value.recurrencia.frecuencia)return null;const s=t.value.recurrencia;let e="";switch(s.frecuencia){case"semanal":e=`Cada ${s.diaSemana||"[d√≠a]"} a las ${s.horaEnvio||"[hora]"}`;break;case"quincenal":e=`Cada dos semanas los ${s.diaSemana||"[d√≠a]"} a las ${s.horaEnvio||"[hora]"}`;break;case"mensual":e=`El d√≠a ${s.diaMes||"[d√≠a]"} de cada mes a las ${s.horaEnvio||"[hora]"}`;break;case"trimestral":e=`El d√≠a ${s.diaMes||"[d√≠a]"} cada 3 meses a las ${s.horaEnvio||"[hora]"}`;break}return s.duracionActiva&&(e+=`. Estar√° activa por ${s.duracionActiva} d√≠a${s.duracionActiva!=="1"?"s":""}.`),s.fechaInicio&&(e+=` Comenzar√° el ${new Date(s.fechaInicio).toLocaleDateString("es-ES")}.`),e}),V=s=>({"salud-mental":"Salud Mental","carga-laboral":"Carga Laboral",comunicacion:"Comunicaci√≥n",ergonomia:"Ergonom√≠a",desarrollo:"Desarrollo Profesional",general:"Bienestar General"})[s]||s,Q=s=>({opcion_multiple:"Opci√≥n M√∫ltiple",si_no:"S√≠ / No",escala_1_5:"Escala 1-5",texto_abierto:"Texto Abierto"})[s]||s,F=()=>{t.value.categoria&&T[t.value.categoria]?E.value=T[t.value.categoria]:E.value=[]},H=s=>{const e={id:Date.now()+Math.random(),texto:s.texto,tipo:s.tipo,opciones:[...s.opciones]};t.value.preguntas.push(e),l.add({severity:"success",summary:"Pregunta a√±adida",detail:"La pregunta sugerida ha sido agregada a tu encuesta",life:3e3})},D=()=>{const s={id:Date.now()+Math.random(),texto:"",tipo:"",opciones:["",""]};t.value.preguntas.push(s)},G=s=>{t.value.preguntas.splice(s,1),l.add({severity:"info",summary:"Pregunta eliminada",detail:"La pregunta ha sido removida de la encuesta",life:3e3})},J=s=>{const e=t.value.preguntas[s];e.tipo==="opcion_multiple"?e.opciones=["",""]:e.opciones=[]},K=s=>{t.value.preguntas[s].opciones.push("")},X=(s,e)=>{t.value.preguntas[s].opciones.splice(e,1)},W=()=>{S.push("/admin/dashboard")},Y=async()=>{if(!t.value.titulo.trim()){l.add({severity:"warn",summary:"T√≠tulo requerido",detail:"Debes escribir un t√≠tulo para la encuesta",life:4e3});return}if(t.value.preguntas.length===0){l.add({severity:"warn",summary:"Preguntas requeridas",detail:"Debes agregar al menos una pregunta",life:4e3});return}for(let s=0;s<t.value.preguntas.length;s++){const e=t.value.preguntas[s];if(!e.texto.trim()){l.add({severity:"warn",summary:"Pregunta incompleta",detail:`La pregunta ${s+1} necesita un texto`,life:4e3});return}if(!e.tipo){l.add({severity:"warn",summary:"Tipo de pregunta requerido",detail:`Selecciona un tipo para la pregunta ${s+1}`,life:4e3});return}if(e.tipo==="opcion_multiple"){if(!e.opciones||e.opciones.length<2){l.add({severity:"warn",summary:"Opciones insuficientes",detail:`La pregunta ${s+1} necesita al menos 2 opciones`,life:4e3});return}for(let o=0;o<e.opciones.length;o++)if(!e.opciones[o].trim()){l.add({severity:"warn",summary:"Opci√≥n vac√≠a",detail:`Completa todas las opciones de la pregunta ${s+1}`,life:4e3});return}}}sessionStorage.setItem("encuesta_preview",JSON.stringify(t.value)),S.push("/admin/encuestas/preview-envio")},Z=async()=>{if(!t.value.titulo.trim()){l.add({severity:"warn",summary:"T√≠tulo requerido",detail:"Debes escribir un t√≠tulo para guardar el borrador",life:4e3});return}_.value=!0;try{await $.createNewSurvey({...t.value,estado:"borrador",privacidadNivel:t.value.privacidadNivel,esRecurrente:t.value.esRecurrente,recurrencia:t.value.esRecurrente?t.value.recurrencia:null}),l.add({severity:"success",summary:"Borrador guardado",detail:"La encuesta ha sido guardada como borrador",life:4e3}),S.push("/admin/dashboard")}catch(s){l.add({severity:"error",summary:"Error al guardar",detail:s.message||"No se pudo guardar el borrador",life:5e3})}finally{_.value=!1}},ee=async()=>{if(!t.value.titulo.trim()){l.add({severity:"warn",summary:"T√≠tulo requerido",detail:"Debes escribir un t√≠tulo para la encuesta",life:4e3});return}if(t.value.preguntas.length===0){l.add({severity:"warn",summary:"Preguntas requeridas",detail:"Debes agregar al menos una pregunta",life:4e3});return}for(let s=0;s<t.value.preguntas.length;s++){const e=t.value.preguntas[s];if(!e.texto.trim()){l.add({severity:"warn",summary:"Pregunta incompleta",detail:`La pregunta ${s+1} necesita un texto`,life:4e3});return}if(!e.tipo){l.add({severity:"warn",summary:"Tipo de pregunta requerido",detail:`Selecciona un tipo para la pregunta ${s+1}`,life:4e3});return}if(e.tipo==="opcion_multiple"){if(!e.opciones||e.opciones.length<2){l.add({severity:"warn",summary:"Opciones insuficientes",detail:`La pregunta ${s+1} necesita al menos 2 opciones`,life:4e3});return}for(let o=0;o<e.opciones.length;o++)if(!e.opciones[o].trim()){l.add({severity:"warn",summary:"Opci√≥n vac√≠a",detail:`Completa todas las opciones de la pregunta ${s+1}`,life:4e3});return}}}_.value=!0;try{await $.createNewSurvey({...t.value,estado:"activa",privacidadNivel:t.value.privacidadNivel,esRecurrente:t.value.esRecurrente,recurrencia:t.value.esRecurrente?t.value.recurrencia:null});const s=t.value.esRecurrente?"recurrente":"√∫nica";l.add({severity:"success",summary:"¬°Encuesta lanzada!",detail:`La encuesta ${s} est√° ahora ${t.value.esRecurrente?"programada":"disponible"} para los empleados`,life:5e3}),S.push("/admin/dashboard")}catch(s){console.error("Error al lanzar encuesta:",s),l.add({severity:"error",summary:"Error al lanzar",detail:s.message||"No se pudo lanzar la encuesta",life:5e3})}finally{_.value=!1}};return(s,e)=>(i(),r("div",je,[a("div",Se,[a("div",Ee,[a("div",Pe,[a("div",qe,[e[14]||(e[14]=a("div",null,[a("h1",{class:"text-3xl font-bold text-gray-900"},"Crear Nueva Encuesta"),a("p",{class:"mt-2 text-lg text-gray-600"},"Dise√±a una encuesta de bienestar para tus empleados")],-1)),n(g,{onClick:W,variant:"outline"},{default:b(()=>[n(d(be),{class:"h-5 w-5 mr-2"}),e[13]||(e[13]=y(" Volver al Dashboard "))]),_:1,__:[13]})])]),j.value?(i(),r("div",Le,[a("div",Me,[a("div",Ne,u(j.value.icon),1),a("div",$e,[a("h3",Te," Basado en la plantilla: "+u(j.value.nombre),1),a("p",Ae,u(j.value.descripcion)+" Puedes editar las preguntas o agregar nuevas antes de lanzar la encuesta. ",1)])])])):v("",!0),a("div",Ve,[a("form",{onSubmit:te(ee,["prevent"]),class:"space-y-8"},[a("div",De,[e[21]||(e[21]=a("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Informaci√≥n B√°sica",-1)),a("div",Re,[a("div",ze,[e[15]||(e[15]=a("label",{for:"titulo",class:"form-label"}," T√≠tulo de la Encuesta * ",-1)),c(a("input",{id:"titulo","onUpdate:modelValue":e[0]||(e[0]=o=>t.value.titulo=o),type:"text",class:"input",placeholder:"Ej: Encuesta de Satisfacci√≥n Laboral",required:""},null,512),[[h,t.value.titulo]]),e[16]||(e[16]=a("p",{class:"mt-1 text-sm text-gray-500"}," Este ser√° el t√≠tulo principal que ver√°n los empleados ",-1))]),a("div",Be,[e[17]||(e[17]=a("label",{for:"descripcion",class:"form-label"}," Descripci√≥n (Opcional) ",-1)),c(a("textarea",{id:"descripcion","onUpdate:modelValue":e[1]||(e[1]=o=>t.value.descripcion=o),rows:"3",class:"input",placeholder:"Describe brevemente el prop√≥sito de esta encuesta..."},null,512),[[h,t.value.descripcion]])]),a("div",Ue,[e[19]||(e[19]=a("label",{for:"categoria",class:"form-label"}," Categor√≠a de la Encuesta * ",-1)),c(a("select",{id:"categoria","onUpdate:modelValue":e[2]||(e[2]=o=>t.value.categoria=o),class:"input",required:"",onChange:F},e[18]||(e[18]=[x('<option value="" data-v-00754fba>Selecciona una categor√≠a</option><option value="salud-mental" data-v-00754fba>üß† Salud Mental</option><option value="carga-laboral" data-v-00754fba>‚öñÔ∏è Carga Laboral</option><option value="comunicacion" data-v-00754fba>üí¨ Comunicaci√≥n</option><option value="ergonomia" data-v-00754fba>ü™ë Ergonom√≠a</option><option value="desarrollo" data-v-00754fba>üìà Desarrollo Profesional</option><option value="general" data-v-00754fba>üìä Bienestar General</option>',7)]),544),[[w,t.value.categoria]]),e[20]||(e[20]=a("p",{class:"mt-1 text-sm text-gray-500"}," Selecciona el √°rea principal que evaluar√° esta encuesta ",-1))]),E.value.length>0?(i(),r("div",Oe,[a("div",Ie,[a("div",Qe,[n(d(ge),{class:"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),a("div",Fe,[a("h4",He,"Preguntas Sugeridas para "+u(V(t.value.categoria)),1),a("div",Ge,[(i(!0),r(k,null,C(E.value,(o,m)=>(i(),r("div",{key:m,class:"flex items-start justify-between p-3 bg-white border border-blue-200 rounded-lg"},[a("div",Je,[a("p",Ke,u(o.texto),1),a("p",Xe,"Tipo: "+u(Q(o.tipo)),1)]),n(g,{type:"button",onClick:p=>H(o),variant:"outline",class:"ml-3 text-blue-600 border-blue-300 hover:bg-blue-50"},{default:b(()=>[n(d(q),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]))),128))]),a("p",We," üí° Estas preguntas est√°n dise√±adas espec√≠ficamente para evaluar "+u(V(t.value.categoria).toLowerCase()),1)])])])])):v("",!0)])]),a("div",Ye,[a("div",Ze,[a("div",ea,[n(d(ue),{class:"h-6 w-6 text-white"})]),e[22]||(e[22]=a("div",null,[a("h2",{class:"text-xl font-semibold text-gray-900"},"Configuraci√≥n de Privacidad y Anonimato"),a("p",{class:"text-sm text-gray-600 mt-1"}," Define c√≥mo se gestionar√°n las respuestas y qu√© nivel de anonimato tendr√°n los participantes ")],-1))]),a("div",aa,[a("label",{class:M(["flex items-start p-5 border-2 rounded-xl cursor-pointer transition-all shadow-sm hover:shadow-md",{"border-green-500 bg-green-50 ring-2 ring-green-200":t.value.privacidadNivel==="anonimato_completo","border-gray-300 bg-white":t.value.privacidadNivel!=="anonimato_completo"}])},[a("div",ta,[e[27]||(e[27]=a("div",{class:"flex-shrink-0 mr-4"},[a("div",{class:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center"},[a("span",{class:"text-2xl"},"üü¢")])],-1)),a("div",oa,[a("div",sa,[a("div",ia,[c(a("input",{type:"radio","onUpdate:modelValue":e[3]||(e[3]=o=>t.value.privacidadNivel=o),value:"anonimato_completo",class:"h-5 w-5 text-green-600 focus:ring-green-500 border-gray-300"},null,512),[[N,t.value.privacidadNivel]]),e[23]||(e[23]=a("span",{class:"ml-3 text-lg font-bold text-gray-900"},"An√≥nimo completo",-1))]),e[24]||(e[24]=a("span",{class:"px-3 py-1 text-xs font-semibold bg-green-100 text-green-800 rounded-full border border-green-300"}," Recomendado ",-1))]),e[26]||(e[26]=a("p",{class:"text-sm text-gray-700 leading-relaxed mb-3"}," No se guarda ning√∫n identificador personal. Solo se muestran resultados agregados globales. ",-1)),a("div",ra,[n(d(fe),{class:"h-5 w-5 text-green-600 mt-0.5 mr-2 flex-shrink-0"}),e[25]||(e[25]=a("p",{class:"text-xs text-green-800 font-medium"}," M√°xima confianza: Los empleados se sentir√°n seguros compartiendo su opini√≥n honesta ",-1))])])])],2),a("label",{class:M(["flex items-start p-5 border-2 rounded-xl cursor-pointer transition-all shadow-sm hover:shadow-md",{"border-orange-500 bg-orange-50 ring-2 ring-orange-200":t.value.privacidadNivel==="anonimato_parcial","border-gray-300 bg-white":t.value.privacidadNivel!=="anonimato_parcial"}])},[a("div",na,[e[32]||(e[32]=a("div",{class:"flex-shrink-0 mr-4"},[a("div",{class:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center"},[a("span",{class:"text-2xl"},"üü†")])],-1)),a("div",la,[a("div",da,[c(a("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=o=>t.value.privacidadNivel=o),value:"anonimato_parcial",class:"h-5 w-5 text-orange-600 focus:ring-orange-500 border-gray-300"},null,512),[[N,t.value.privacidadNivel]]),e[28]||(e[28]=a("span",{class:"ml-3 text-lg font-bold text-gray-900"},"An√≥nimo parcial",-1))]),e[31]||(e[31]=a("p",{class:"text-sm text-gray-700 leading-relaxed mb-3"}," Se agrupan las respuestas por departamento, sin mostrar datos individuales. ",-1)),a("div",ua,[a("div",ca,[n(d(ce),{class:"h-5 w-5 text-orange-600 mt-0.5 mr-2 flex-shrink-0"}),e[29]||(e[29]=a("p",{class:"text-xs text-orange-800 font-medium"}," An√°lisis por √°rea: Identifica departamentos con oportunidades de mejora ",-1))]),a("div",pa,[n(d(pe),{class:"h-5 w-5 text-orange-600 mt-0.5 mr-2 flex-shrink-0"}),e[30]||(e[30]=a("p",{class:"text-xs text-orange-800 font-medium"}," Protecci√≥n garantizada: No se revelan identidades individuales ",-1))])])])])],2),a("label",{class:M(["flex items-start p-5 border-2 rounded-xl cursor-pointer transition-all shadow-sm hover:shadow-md",{"border-blue-500 bg-blue-50 ring-2 ring-blue-200":t.value.privacidadNivel==="identificado","border-gray-300 bg-white":t.value.privacidadNivel!=="identificado"}])},[a("div",ma,[e[37]||(e[37]=a("div",{class:"flex-shrink-0 mr-4"},[a("div",{class:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center"},[a("span",{class:"text-2xl"},"üîµ")])],-1)),a("div",va,[a("div",ba,[c(a("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=o=>t.value.privacidadNivel=o),value:"identificado",class:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[N,t.value.privacidadNivel]]),e[33]||(e[33]=a("span",{class:"ml-3 text-lg font-bold text-gray-900"},"Identificado (con prop√≥sito)",-1))]),e[36]||(e[36]=a("p",{class:"text-sm text-gray-700 leading-relaxed mb-3"}," Las respuestas se asocian al usuario solo con fines de seguimiento interno. Requiere consentimiento. ",-1)),a("div",ga,[a("div",fa,[n(d(xe),{class:"h-5 w-5 text-blue-600 mt-0.5 mr-2 flex-shrink-0"}),e[34]||(e[34]=a("p",{class:"text-xs text-blue-800 font-medium"}," Seguimiento personalizado: Permite dar feedback directo y apoyo individualizado ",-1))]),a("div",xa,[n(d(ye),{class:"h-5 w-5 text-yellow-600 mt-0.5 mr-2 flex-shrink-0"}),e[35]||(e[35]=a("p",{class:"text-xs text-yellow-800 font-medium"}," Importante: Puede reducir la sinceridad de las respuestas. Comunica claramente el prop√≥sito ",-1))])])])])],2)]),a("div",ya,[a("div",_a,[a("div",ha,[a("div",wa,[n(d(me),{class:"h-5 w-5 text-indigo-600"})])]),e[38]||(e[38]=a("div",{class:"ml-4"},[a("h4",{class:"text-sm font-bold text-gray-900 mb-1"},"Compromiso con la privacidad"),a("p",{class:"text-xs text-gray-700 leading-relaxed"}," SMART Bienestar cumple con las normativas de protecci√≥n de datos (GDPR). Todas las respuestas se cifran y almacenan de forma segura. Tu configuraci√≥n ser√° visible para los empleados antes de responder. ")],-1))])])]),a("div",ka,[a("div",Ca,[a("h2",ja," Preguntas ("+u(t.value.preguntas.length)+") ",1),n(g,{type:"button",onClick:D,variant:"outline"},{default:b(()=>[n(d(q),{class:"h-5 w-5 mr-2"}),e[39]||(e[39]=y(" A√±adir Pregunta "))]),_:1,__:[39]})]),t.value.preguntas.length===0?(i(),r("div",Sa,[n(d(_e),{class:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e[41]||(e[41]=a("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No hay preguntas a√∫n",-1)),e[42]||(e[42]=a("p",{class:"text-gray-500 mb-4"},"Comienza agregando tu primera pregunta",-1)),n(g,{type:"button",onClick:D},{default:b(()=>[n(d(q),{class:"h-5 w-5 mr-2"}),e[40]||(e[40]=y(" A√±adir Primera Pregunta "))]),_:1,__:[40]})])):(i(),r("div",Ea,[(i(!0),r(k,null,C(t.value.preguntas,(o,m)=>(i(),r("div",{key:o.id,class:"border border-gray-200 rounded-lg p-6 bg-gray-50"},[a("div",Pa,[a("h3",qa," Pregunta "+u(m+1),1),n(g,{type:"button",onClick:p=>G(m),variant:"outline",class:"text-red-600 hover:text-red-700 hover:bg-red-50"},{default:b(()=>[n(d(he),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]),a("div",La,[a("label",{for:`pregunta-texto-${m}`,class:"form-label"}," Texto de la Pregunta * ",8,Ma),c(a("textarea",{id:`pregunta-texto-${m}`,"onUpdate:modelValue":p=>o.texto=p,rows:"2",class:"input",placeholder:"Escribe tu pregunta aqu√≠...",required:""},null,8,Na),[[h,o.texto]])]),a("div",$a,[a("label",{for:`pregunta-tipo-${m}`,class:"form-label"}," Tipo de Pregunta * ",8,Ta),c(a("select",{id:`pregunta-tipo-${m}`,"onUpdate:modelValue":p=>o.tipo=p,class:"input",required:"",onChange:p=>J(m)},e[43]||(e[43]=[x('<option value="" data-v-00754fba>Selecciona un tipo</option><option value="opcion_multiple" data-v-00754fba>Opci√≥n M√∫ltiple</option><option value="si_no" data-v-00754fba>S√≠ / No</option><option value="escala_1_5" data-v-00754fba>Escala 1-5</option><option value="texto_abierto" data-v-00754fba>Texto Abierto (An√≥nimo)</option>',5)]),40,Aa),[[w,o.tipo]])]),o.tipo==="opcion_multiple"?(i(),r("div",Va,[e[45]||(e[45]=a("label",{class:"form-label"},"Opciones de Respuesta *",-1)),a("div",Da,[(i(!0),r(k,null,C(o.opciones,(p,f)=>(i(),r("div",{key:f,class:"flex items-center space-x-3"},[c(a("input",{"onUpdate:modelValue":R=>o.opciones[f]=R,type:"text",class:"input flex-1",placeholder:`Opci√≥n ${f+1}`,required:""},null,8,Ra),[[h,o.opciones[f]]]),o.opciones.length>2?(i(),re(g,{key:0,type:"button",onClick:R=>X(m,f),variant:"outline",class:"text-red-600 hover:text-red-700"},{default:b(()=>[n(d(we),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):v("",!0)]))),128)),n(g,{type:"button",onClick:p=>K(m),variant:"outline",class:"w-full"},{default:b(()=>[n(d(q),{class:"h-4 w-4 mr-2"}),e[44]||(e[44]=y(" Agregar Opci√≥n "))]),_:2,__:[44]},1032,["onClick"])])])):v("",!0),o.tipo==="texto_abierto"?(i(),r("div",za,e[46]||(e[46]=[x('<div class="p-4 bg-blue-50 border border-blue-200 rounded-lg" data-v-00754fba><div class="flex items-start" data-v-00754fba><svg class="h-5 w-5 text-blue-500 mt-0.5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-00754fba><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-00754fba></path></svg><div data-v-00754fba><h4 class="text-sm font-medium text-blue-800 mb-1" data-v-00754fba>Pregunta de Texto Abierto</h4><p class="text-sm text-blue-700" data-v-00754fba> Los empleados podr√°n escribir respuestas libres y an√≥nimas. Ideal para recopilar feedback cualitativo y sugerencias. </p></div></div></div>',1)]))):v("",!0),a("div",Ba,[e[51]||(e[51]=a("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Vista Previa:",-1)),a("div",Ua,[a("p",Oa,u(o.texto||"Texto de la pregunta..."),1),o.tipo==="opcion_multiple"?(i(),r("div",Ia,[(i(!0),r(k,null,C(o.opciones,(p,f)=>(i(),r("div",{key:f,class:"flex items-center"},[a("input",{type:"radio",name:`preview-${m}`,class:"mr-2",disabled:""},null,8,Qa),a("span",Fa,u(p||`Opci√≥n ${f+1}`),1)]))),128))])):o.tipo==="si_no"?(i(),r("div",Ha,e[47]||(e[47]=[x('<div class="flex items-center" data-v-00754fba><input type="radio" name="preview-sino" class="mr-2" disabled data-v-00754fba><span class="text-gray-700" data-v-00754fba>S√≠</span></div><div class="flex items-center" data-v-00754fba><input type="radio" name="preview-sino" class="mr-2" disabled data-v-00754fba><span class="text-gray-700" data-v-00754fba>No</span></div>',2)]))):o.tipo==="escala_1_5"?(i(),r("div",Ga,[e[49]||(e[49]=a("div",{class:"flex items-center justify-between text-sm text-gray-500"},[a("span",null,"Muy insatisfecho"),a("span",null,"Muy satisfecho")],-1)),a("div",Ja,[(i(),r(k,null,C([1,2,3,4,5],p=>a("div",{key:p,class:"flex flex-col items-center"},[e[48]||(e[48]=a("input",{type:"radio",name:"preview-escala",class:"mb-2",disabled:""},null,-1)),a("span",Ka,u(p),1)])),64))])])):o.tipo==="texto_abierto"?(i(),r("div",Xa,e[50]||(e[50]=[a("textarea",{class:"w-full px-3 py-2 border border-gray-300 rounded-md resize-none",rows:"4",placeholder:"Los empleados podr√°n escribir su respuesta aqu√≠...",disabled:""},null,-1),a("p",{class:"text-xs text-green-600 flex items-center"},[a("svg",{class:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),y(" Tu respuesta a esta pregunta es 100% an√≥nima ")],-1)]))):v("",!0)])])]))),128)),a("div",Wa,[a("div",Ya,[c(a("input",{id:"es-recurrente","onUpdate:modelValue":e[6]||(e[6]=o=>t.value.esRecurrente=o),type:"checkbox",class:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"},null,512),[[oe,t.value.esRecurrente]]),e[52]||(e[52]=a("label",{for:"es-recurrente",class:"text-sm font-medium text-gray-700"}," Hacer esta encuesta recurrente ",-1))]),t.value.esRecurrente?(i(),r("div",Za,[e[64]||(e[64]=a("h4",{class:"text-sm font-medium text-blue-800 mb-3"},"Configuraci√≥n de Recurrencia",-1)),a("div",et,[a("div",null,[e[54]||(e[54]=a("label",{for:"frecuencia",class:"block text-sm font-medium text-gray-700 mb-1"}," Frecuencia * ",-1)),c(a("select",{id:"frecuencia","onUpdate:modelValue":e[7]||(e[7]=o=>t.value.recurrencia.frecuencia=o),class:"input",required:""},e[53]||(e[53]=[x('<option value="" data-v-00754fba>Selecciona frecuencia</option><option value="semanal" data-v-00754fba>Semanal</option><option value="quincenal" data-v-00754fba>Quincenal</option><option value="mensual" data-v-00754fba>Mensual</option><option value="trimestral" data-v-00754fba>Trimestral</option>',5)]),512),[[w,t.value.recurrencia.frecuencia]])]),t.value.recurrencia.frecuencia==="semanal"||t.value.recurrencia.frecuencia==="quincenal"?(i(),r("div",at,[e[56]||(e[56]=a("label",{for:"dia-semana",class:"block text-sm font-medium text-gray-700 mb-1"}," D√≠a de la semana * ",-1)),c(a("select",{id:"dia-semana","onUpdate:modelValue":e[8]||(e[8]=o=>t.value.recurrencia.diaSemana=o),class:"input",required:""},e[55]||(e[55]=[x('<option value="" data-v-00754fba>Selecciona d√≠a</option><option value="lunes" data-v-00754fba>Lunes</option><option value="martes" data-v-00754fba>Martes</option><option value="miercoles" data-v-00754fba>Mi√©rcoles</option><option value="jueves" data-v-00754fba>Jueves</option><option value="viernes" data-v-00754fba>Viernes</option>',6)]),512),[[w,t.value.recurrencia.diaSemana]])])):v("",!0),t.value.recurrencia.frecuencia==="mensual"||t.value.recurrencia.frecuencia==="trimestral"?(i(),r("div",tt,[e[58]||(e[58]=a("label",{for:"dia-mes",class:"block text-sm font-medium text-gray-700 mb-1"}," D√≠a del mes * ",-1)),c(a("select",{id:"dia-mes","onUpdate:modelValue":e[9]||(e[9]=o=>t.value.recurrencia.diaMes=o),class:"input",required:""},[e[57]||(e[57]=a("option",{value:""},"Selecciona d√≠a",-1)),(i(),r(k,null,C(28,o=>a("option",{key:o,value:o},u(o),9,ot)),64))],512),[[w,t.value.recurrencia.diaMes]])])):v("",!0)]),a("div",st,[a("div",null,[e[59]||(e[59]=a("label",{for:"hora-envio",class:"block text-sm font-medium text-gray-700 mb-1"}," Hora de env√≠o * ",-1)),c(a("input",{id:"hora-envio","onUpdate:modelValue":e[10]||(e[10]=o=>t.value.recurrencia.horaEnvio=o),type:"time",class:"input",required:""},null,512),[[h,t.value.recurrencia.horaEnvio]])]),a("div",null,[e[61]||(e[61]=a("label",{for:"duracion-activa",class:"block text-sm font-medium text-gray-700 mb-1"}," D√≠as activa * ",-1)),c(a("select",{id:"duracion-activa","onUpdate:modelValue":e[11]||(e[11]=o=>t.value.recurrencia.duracionActiva=o),class:"input",required:""},e[60]||(e[60]=[x('<option value="" data-v-00754fba>Selecciona duraci√≥n</option><option value="1" data-v-00754fba>1 d√≠a</option><option value="3" data-v-00754fba>3 d√≠as</option><option value="7" data-v-00754fba>7 d√≠as</option><option value="14" data-v-00754fba>14 d√≠as</option>',5)]),512),[[w,t.value.recurrencia.duracionActiva]])])]),a("div",null,[e[62]||(e[62]=a("label",{for:"fecha-inicio",class:"block text-sm font-medium text-gray-700 mb-1"}," Fecha de inicio * ",-1)),c(a("input",{id:"fecha-inicio","onUpdate:modelValue":e[12]||(e[12]=o=>t.value.recurrencia.fechaInicio=o),type:"date",class:"input",min:I.value,required:""},null,8,it),[[h,t.value.recurrencia.fechaInicio]])]),A.value?(i(),r("div",rt,[e[63]||(e[63]=a("h5",{class:"text-sm font-medium text-blue-800 mb-2"},"Vista previa del cronograma:",-1)),a("p",nt,u(A.value),1)])):v("",!0)])):v("",!0)])]))]),a("div",lt,[a("div",dt,[a("div",ut,[t.value.preguntas.length===0?(i(),r("span",ct," Agrega al menos una pregunta para continuar ")):(i(),r("span",pt,u(t.value.preguntas.length)+" pregunta"+u(t.value.preguntas.length!==1?"s":"")+" lista"+u(t.value.preguntas.length!==1?"s":""),1))]),a("div",mt,[n(g,{type:"button",onClick:Z,variant:"outline",disabled:_.value||!t.value.titulo.trim()},{default:b(()=>[n(d(ke),{class:"h-4 w-4 mr-2"}),e[65]||(e[65]=y(" Guardar Borrador "))]),_:1,__:[65]},8,["disabled"]),n(g,{type:"button",onClick:Y,loading:_.value,disabled:!O.value,class:"bg-indigo-600 text-white hover:bg-indigo-700"},{default:b(()=>[e[66]||(e[66]=y(" Continuar a env√≠o ")),n(d(ve),{class:"h-4 w-4 ml-2"})]),_:1,__:[66]},8,["loading","disabled"])])])])],32)])])])]))}},Pt=ne(vt,[["__scopeId","data-v-00754fba"]]);export{Pt as default};
