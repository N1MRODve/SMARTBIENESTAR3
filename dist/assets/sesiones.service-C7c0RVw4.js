let t=[{id:1,servicioId:"serv-01",titulo:"Taller de Mindfulness - Sesión Matutina",descripcion:"Aprende técnicas de mindfulness para reducir el estrés laboral",fecha:new Date(Date.now()+2592e5).toISOString().split("T")[0],hora:"09:00",duracion:120,plazasTotales:15,modalidad:"presencial",ubicacion:"Sala de Reuniones Principal",instructor:"Dra. María González",participantes:[{id:"emp-001",nombre:"Ana García",email:"ana@empresa.com"},{id:"emp-002",nombre:"Carlos López",email:"carlos@empresa.com"}],estado:"programada",fechaCreacion:new Date().toISOString()},{id:2,servicioId:"serv-04",titulo:"Clase de Yoga para Principiantes",descripcion:"Sesión de yoga relajante para reducir el estrés",fecha:new Date(Date.now()+432e6).toISOString().split("T")[0],hora:"18:00",duracion:60,plazasTotales:12,modalidad:"presencial",ubicacion:"Sala de Bienestar",instructor:"Instructora Laura Pérez",participantes:[],estado:"programada",fechaCreacion:new Date().toISOString()}],c=[{id:"sol-001",servicioId:"serv-01",servicioTitulo:"Taller de Mindfulness y Gestión del Estrés",fechaSolicitud:new Date(Date.now()-2*24*60*60*1e3).toISOString(),solicitadoPor:"admin@demo.com",estado:"aprobado",notas:"Solicitado para reducir el estrés del equipo de desarrollo"},{id:"sol-002",servicioId:"serv-04",servicioTitulo:"Clase de Yoga para Principiantes",fechaSolicitud:new Date(Date.now()-1*24*60*60*1e3).toISOString(),solicitadoPor:"admin@demo.com",estado:"aprobado",notas:"Actividad para mejorar el bienestar físico del equipo"},{id:"sol-003",servicioId:"serv-02",servicioTitulo:"Consulta de Ergonomía y Postura Laboral",fechaSolicitud:new Date().toISOString(),solicitadoPor:"admin@demo.com",estado:"pendiente",notas:"Evaluación de puestos de trabajo tras feedback de empleados"}];const d=()=>new Promise(e=>{setTimeout(()=>{const i=[...t].sort((s,o)=>{const a=new Date(`${s.fecha}T${s.hora}`),n=new Date(`${o.fecha}T${o.hora}`);return a-n});e(i)},300)}),l=e=>new Promise(i=>{setTimeout(()=>{const s=t.filter(o=>o.participantes.some(a=>a.id===e));i(s)},300)}),p=()=>new Promise(e=>{setTimeout(()=>{e([...c])},300)}),u=e=>new Promise(i=>{setTimeout(()=>{const s={id:Date.now(),servicioId:e.servicioId,titulo:e.titulo,descripcion:e.descripcion||"",fecha:e.fecha,hora:e.hora,duracion:e.duracion||60,plazasTotales:e.plazasTotales,modalidad:e.modalidad||"presencial",ubicacion:e.ubicacion||"",instructor:e.instructor||"",participantes:[],estado:"programada",fechaCreacion:new Date().toISOString()};t.push(s),console.log("Nueva sesión añadida:",s),i({success:!0,sesion:s})},500)}),m=(e,i)=>new Promise((s,o)=>{setTimeout(()=>{const a=t.find(r=>r.id===parseInt(e));if(!a){o(new Error("Sesión no encontrada"));return}if(a.participantes.some(r=>r.id===i.id)){o(new Error("Ya tienes una reserva para esta sesión"));return}if(a.participantes.length>=a.plazasTotales){o(new Error("No hay plazas disponibles"));return}a.participantes.push({id:i.id,nombre:i.nombre||"Empleado Demo",email:i.email||"empleado@demo.com",fechaReserva:new Date().toISOString()}),console.log("Plaza reservada:",{sesionId:e,empleado:i.nombre}),s({success:!0,sesion:a,plazasDisponibles:a.plazasTotales-a.participantes.length})},800)}),f=(e,i)=>new Promise((s,o)=>{setTimeout(()=>{const a=t.find(r=>r.id===parseInt(e));if(!a){o(new Error("Sesión no encontrada"));return}const n=a.participantes.findIndex(r=>r.id===i);if(n===-1){o(new Error("No tienes una reserva para esta sesión"));return}a.participantes.splice(n,1),console.log("Reserva cancelada:",{sesionId:e,empleadoId:i}),s({success:!0,sesion:a,plazasDisponibles:a.plazasTotales-a.participantes.length})},500)}),w=e=>new Promise((i,s)=>{setTimeout(()=>{const o=t.find(a=>a.id===parseInt(e));o?i({...o}):s(new Error("Sesión no encontrada"))},300)});export{p as a,l as b,u as c,f as d,w as e,d as g,m as r};
