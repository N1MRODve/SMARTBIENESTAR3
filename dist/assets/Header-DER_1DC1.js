import{x as i,y as w,b,q as S,E as k,u as D,l as E,n as d,j as R,d as A,e,i as r,f as u,k as C,t as n,w as h,M as y}from"./index-BNX75qeA.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=i("ActivitySquareIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=i("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=i("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=i("RotateCcwIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),I=w("demo",()=>({resetDemo:async()=>{try{const t=b();return t.encuestas=[{id:1,titulo:"Pulso de Bienestar Semanal",descripcion:"Encuesta semanal sobre el bienestar de los empleados",fechaCreacion:"2024-01-15",estado:"activa",totalRespuestas:0,totalEmpleados:120,preguntas:3}],t.encuestaActiva=null,t.loading=!1,t.error=null,console.log("Demo reseteada al estado inicial"),{success:!0,message:"Demo reseteada correctamente"}}catch(t){throw console.error("Error al resetear demo:",t),t}}})),H={class:"bg-white shadow-sm border-b border-gray-200"},N={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},U={class:"flex justify-between items-center h-16"},j={class:"flex items-center"},q={class:"text-xs text-gray-500"},T={class:"flex items-center space-x-4"},V={class:"flex items-center space-x-3"},z={class:"w-8 h-8 bg-primary rounded-full flex items-center justify-center"},O={class:"text-white font-medium text-sm"},P={class:"hidden sm:block"},$={class:"text-sm font-medium text-gray-900"},F={class:"text-xs text-gray-500"},K={__name:"Header",props:{subtitulo:{type:String,default:"Plataforma de Bienestar Corporativo"}},setup(m){const t=S(),o=k(),l=D(),x=I(),c=E(!1),p=d(()=>{var a;return((a=l.user)==null?void 0:a.name)||"Usuario Demo"}),f=d(()=>({administrador:"Administrador",empleado:"Empleado"})[l.userRole]||"Usuario"),v=d(()=>p.value.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2)),g=async()=>{c.value=!0;try{await x.resetDemo(),o.add({severity:"success",summary:"¡Demo Reseteada!",detail:"La aplicación ha vuelto a su estado inicial",life:4e3}),setTimeout(()=>{window.location.reload()},1e3)}catch(a){console.error("Error al resetear demo:",a),o.add({severity:"error",summary:"Error al resetear",detail:"No se pudo resetear la demo. Intenta de nuevo.",life:5e3})}finally{c.value=!1}},_=async()=>{try{await l.logout(),o.add({severity:"info",summary:"Sesión cerrada",detail:"Has cerrado sesión correctamente",life:3e3}),t.push("/login")}catch(a){console.error("Error al cerrar sesión:",a),o.add({severity:"error",summary:"Error",detail:"No se pudo cerrar la sesión",life:4e3})}};return(a,s)=>(R(),A("header",H,[e("div",N,[e("div",U,[e("div",j,[r(u(L),{class:"h-8 w-8 text-primary mr-3"}),e("div",null,[s[0]||(s[0]=e("h1",{class:"text-xl font-bold text-gray-900"},[C(" SMART"),e("span",{class:"text-primary"},"Bienestar")],-1)),e("p",q,n(m.subtitulo),1)])]),e("div",T,[e("div",V,[e("div",z,[e("span",O,n(v.value),1)]),e("div",P,[e("p",$,n(p.value),1),e("p",F,n(f.value),1)])]),r(y,{onClick:g,variant:"outline",loading:c.value,class:"text-orange-600 border-orange-300 hover:bg-orange-50"},{default:h(()=>[r(u(B),{class:"h-4 w-4 mr-2"}),s[1]||(s[1]=e("span",{class:"hidden sm:inline"},"Reiniciar Demo",-1)),s[2]||(s[2]=e("span",{class:"sm:hidden"},"Reset",-1))]),_:1,__:[1,2]},8,["loading"]),r(y,{onClick:_,variant:"outline",class:"text-red-600 border-red-300 hover:bg-red-50"},{default:h(()=>[r(u(M),{class:"h-4 w-4 mr-2"}),s[3]||(s[3]=e("span",{class:"hidden sm:inline"},"Cerrar Sesión",-1)),s[4]||(s[4]=e("span",{class:"sm:hidden"},"Salir",-1))]),_:1,__:[3,4]})])])])]))}};export{J as A,K as _};
