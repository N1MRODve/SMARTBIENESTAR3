import{x as A,H as B,I as q,l as $,n as k,o as O,J as F,j as r,d as i,e,i as f,f as y,v,t as l,F as C,r as j,K as S,M as N,k as P,z as I,N as T,g as M,O as G,h as E,P as U,Q as H,T as W,w as Q,_ as J,q as K,U as X,V as Z}from"./index-9XWXAznh.js";import{X as V}from"./x-BqrVQl_H.js";import{p as Y}from"./plantillasMock-BxGfXcfz.js";import{C as ee}from"./credit-card-irEx5kBB.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=A("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=A("PlayIcon",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),se={class:"p-8 max-h-[90vh] overflow-y-auto"},ae={class:"mb-8"},oe={class:"flex justify-between items-start mb-4"},re={class:"text-center"},le={class:"text-gray-600 mt-3 max-w-2xl mx-auto"},ie={class:"bg-white rounded-xl shadow-sm p-6 mb-8"},ne={class:"relative h-96"},de={class:"bg-white rounded-xl shadow-sm p-6 mb-8"},ce={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ue={class:"flex items-center justify-between mb-2"},me={class:"font-medium text-gray-800"},be={class:"w-full bg-gray-200 rounded-full h-2"},ge={class:"bg-white rounded-xl shadow-sm p-6 mb-8"},pe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ve={class:"text-sm font-medium text-gray-700"},xe={class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl shadow-sm p-6 mb-8 border border-blue-200"},ye={class:"flex items-start"},fe={class:"flex-shrink-0 bg-blue-500 rounded-full p-3 mr-4"},he={class:"flex-1"},_e={class:"space-y-3"},we={class:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3 mt-0.5"},$e={class:"text-gray-700"},Ce={class:"flex justify-between items-center pt-6 border-t"},ke={__name:"DemoResultadosClima360",props:{resultados:{type:Object,required:!0}},emits:["close","volver"],setup(R,{emit:D}){B.register(...q);const p=R,u=$(null);let c=null;const g={rotacion:"Tasa de Rotación",absentismo:"Absentismo",productividad:"Productividad",liderazgo:"Liderazgo",comunicacion:"Comunicación",desarrollo:"Desarrollo Profesional",reconocimiento:"Reconocimiento",bienestar:"Bienestar",adaptabilidad:"Adaptabilidad",pertenencia:"Pertenencia"},_=k(()=>Object.keys(g).map(s=>({nombre:s,label:g[s],valor:p.resultados[s]||0}))),z=k(()=>[{nombre:"rotacion",label:"Rotación Anual",valor:p.resultados.metricas[11]||0},{nombre:"absentismo",label:"Absentismo",valor:p.resultados.metricas[12]||0},{nombre:"productividad",label:"Productividad",valor:p.resultados.metricas[13]||0}]),w=k(()=>{const s=p.resultados.total;return s<=32?{titulo:"Alto Riesgo",descripcion:"Requiere intervención inmediata. Se identifican áreas críticas que necesitan atención prioritaria para mejorar el clima laboral.",color:"red"}:s<=42?{titulo:"Riesgo Moderado",descripcion:"Necesidad de mejoras significativas. Hay oportunidades importantes para fortalecer el ambiente laboral y la satisfacción del equipo.",color:"orange"}:s<=52?{titulo:"Clima Laboral Estable",descripcion:"Oportunidades de mejora continua. El clima laboral es positivo, pero existen áreas específicas donde se puede seguir avanzando.",color:"yellow"}:{titulo:"Clima Laboral Sólido",descripcion:"Fortalezas a mantener y potenciar. Excelente ambiente laboral con indicadores muy positivos en todas las dimensiones evaluadas.",color:"green"}}),x=k(()=>{const s=w.value.color;return{red:"bg-red-50 border-2 border-red-200",orange:"bg-orange-50 border-2 border-orange-200",yellow:"bg-yellow-50 border-2 border-yellow-200",green:"bg-green-50 border-2 border-green-200"}[s]}),n=k(()=>{const s=w.value.color;return{red:"text-red-600",orange:"text-orange-600",yellow:"text-yellow-600",green:"text-green-600"}[s]}),d=k(()=>{const s=p.resultados.total,t=[];return s<=32?(t.push("Realizar una auditoría completa del clima laboral con entrevistas individuales."),t.push("Implementar un plan de acción inmediato en las áreas más críticas identificadas."),t.push("Establecer canales de comunicación abiertos y confidenciales para el equipo."),t.push("Considerar apoyo externo especializado en clima organizacional.")):s<=42?(t.push("Priorizar las dimensiones con puntuaciones más bajas para intervenciones dirigidas."),t.push("Desarrollar programas de bienestar y balance vida-trabajo."),t.push("Fortalecer los canales de comunicación interna y feedback continuo."),t.push("Implementar iniciativas de reconocimiento y desarrollo profesional.")):s<=52?(t.push("Mantener las fortalezas actuales con seguimiento periódico."),t.push("Enfocarse en las áreas de oportunidad identificadas con planes específicos."),t.push("Promover espacios de participación y co-creación con el equipo."),t.push("Establecer métricas de seguimiento para evaluar el progreso continuo.")):(t.push("Documentar y compartir las mejores prácticas que han llevado a estos resultados."),t.push("Mantener los programas y políticas que han demostrado ser efectivos."),t.push("Implementar un sistema de reconocimiento que celebre estos logros."),t.push("Considerar benchmarking externo para seguir elevando los estándares.")),t}),a=s=>s>=4.5?"text-green-600":s>=3.5?"text-yellow-600":s>=2.5?"text-orange-600":"text-red-600",o=s=>s>=4.5?"bg-green-500":s>=3.5?"bg-yellow-500":s>=2.5?"bg-orange-500":"bg-red-500",m=()=>{if(!u.value)return;c&&c.destroy();const s=u.value.getContext("2d"),t=_.value.map(h=>h.label),b=_.value.map(h=>h.valor);c=new B(s,{type:"radar",data:{labels:t,datasets:[{label:"Puntuación Actual",data:b,backgroundColor:"rgba(42, 75, 140, 0.2)",borderColor:"rgba(42, 75, 140, 1)",borderWidth:2,pointBackgroundColor:"rgba(42, 75, 140, 1)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:6,pointHoverRadius:8},{label:"Objetivo Ideal (4.0)",data:Array(b.length).fill(4),backgroundColor:"rgba(16, 185, 129, 0.1)",borderColor:"rgba(16, 185, 129, 0.5)",borderWidth:2,borderDash:[5,5],pointRadius:0,pointHoverRadius:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:13,weight:"500"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",padding:12,borderColor:"#ffffff",borderWidth:1,callbacks:{label:function(h){return h.datasetIndex===0?`${h.label}: ${h.parsed.r.toFixed(1)}/5`:`Objetivo: ${h.parsed.r.toFixed(1)}/5`}}}},scales:{r:{beginAtZero:!0,max:5,min:0,ticks:{stepSize:1,font:{size:12},color:"#6B7280"},grid:{color:"rgba(0, 0, 0, 0.1)"},angleLines:{color:"rgba(0, 0, 0, 0.1)"},pointLabels:{font:{size:12,weight:"600"},color:"#374151"}}},animation:{duration:1500,easing:"easeOutQuart"}}})};return O(async()=>{await F(),setTimeout(()=>{m()},100)}),(s,t)=>(r(),i("div",se,[e("div",ae,[e("div",oe,[t[3]||(t[3]=e("div",null,[e("h2",{class:"text-3xl font-bold text-gray-800"},"Resultados del Diagnóstico Clima360"),e("p",{class:"text-gray-600 mt-2"},"Análisis integral del clima laboral de tu organización")],-1)),e("button",{onClick:t[0]||(t[0]=b=>s.$emit("close")),class:"text-gray-400 hover:text-gray-600"},[f(y(V),{class:"h-6 w-6"})])])]),e("div",{class:v(["rounded-xl shadow-sm p-8 mb-8",x.value])},[e("div",re,[e("div",{class:v(["text-6xl font-bold mb-2",n.value])},l(R.resultados.total),3),t[4]||(t[4]=e("div",{class:"text-xl font-semibold text-gray-700 mb-2"},"Puntuación Total",-1)),e("div",{class:v(["text-lg font-medium",n.value])},l(w.value.titulo),3),e("p",le,l(w.value.descripcion),1)])],2),e("div",ie,[t[5]||(t[5]=e("h3",{class:"text-xl font-semibold text-gray-800 mb-6"},"Análisis por Dimensión",-1)),e("div",ne,[e("canvas",{ref_key:"chartCanvas",ref:u,class:"w-full h-full"},null,512)])]),e("div",de,[t[6]||(t[6]=e("h3",{class:"text-xl font-semibold text-gray-800 mb-6"},"Desglose Detallado",-1)),e("div",ce,[(r(!0),i(C,null,j(_.value,b=>(r(),i("div",{key:b.nombre,class:"bg-gray-50 rounded-lg p-4"},[e("div",ue,[e("span",me,l(b.label),1),e("span",{class:v(["text-lg font-bold",a(b.valor)])},l(b.valor)+"/5 ",3)]),e("div",be,[e("div",{class:v(["h-2 rounded-full transition-all duration-1000",o(b.valor)]),style:S({width:`${b.valor/5*100}%`})},null,6)])]))),128))])]),e("div",ge,[t[7]||(t[7]=e("h3",{class:"text-xl font-semibold text-gray-800 mb-6"},"Métricas Organizacionales",-1)),e("div",pe,[(r(!0),i(C,null,j(z.value,b=>(r(),i("div",{key:b.nombre,class:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-6 text-center"},[e("div",{class:v(["text-3xl font-bold mb-2",a(b.valor)])},l(b.valor)+"/5 ",3),e("div",ve,l(b.label),1)]))),128))])]),e("div",xe,[e("div",ye,[e("div",fe,[f(y(N),{class:"h-6 w-6 text-white"})]),e("div",he,[t[8]||(t[8]=e("h3",{class:"text-xl font-semibold text-gray-800 mb-4"},"Recomendaciones Estratégicas",-1)),e("ul",_e,[(r(!0),i(C,null,j(d.value,(b,h)=>(r(),i("li",{key:h,class:"flex items-start"},[e("span",we,l(h+1),1),e("span",$e,l(b),1)]))),128))])])])]),e("div",Ce,[e("button",{onClick:t[1]||(t[1]=b=>s.$emit("volver")),class:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"}," Volver a la Encuesta "),e("button",{onClick:t[2]||(t[2]=b=>s.$emit("close")),class:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors font-medium"}," Cerrar Demo ")])]))}},je={class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 overflow-y-auto"},ze={class:"bg-white rounded-xl shadow-xl w-full max-w-4xl my-8"},Pe={key:0,class:"p-8"},Ee={class:"mb-8"},De={class:"flex justify-between items-start mb-4"},Re={class:"mb-8"},Le={class:"flex justify-between text-sm text-gray-600 mb-2"},Me={class:"w-full bg-gray-200 rounded-full h-2"},Ve={class:"space-y-6 mb-8"},Be={class:"text-gray-800 font-medium mb-4"},Ie={class:"flex items-center justify-between gap-2"},Te={class:"flex gap-3 flex-1 justify-center"},Ae=["name","value","onUpdate:modelValue"],Oe={class:"font-semibold"},Se={class:"space-y-6 mb-8"},qe={class:"text-gray-800 font-medium mb-4"},Fe={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},Ne=["name","value","onUpdate:modelValue"],Ge={class:"text-sm font-medium"},Ue={class:"flex justify-between items-center pt-6 border-t"},He=["disabled"],We={__name:"DemoClima360",emits:["close"],setup(R,{emit:D}){const p=[{id:1,texto:"La tasa de rotación está dentro de los estándares aceptables.",variable:"rotacion"},{id:2,texto:"El absentismo no afecta significativamente la productividad.",variable:"absentismo"},{id:3,texto:"Los empleados alcanzan consistentemente los objetivos de productividad establecidos.",variable:"productividad"},{id:4,texto:"El liderazgo contribuye positivamente a la retención de talento.",variable:"liderazgo"},{id:5,texto:"La comunicación interna es clara, transparente y efectiva.",variable:"comunicacion"},{id:6,texto:"Ofrecemos oportunidades de desarrollo profesional y movilidad interna.",variable:"desarrollo"},{id:7,texto:"Los empleados reciben reconocimiento oportuno y feedback constructivo.",variable:"reconocimiento"},{id:8,texto:"Promovemos una cultura de bienestar y equilibrio vida-trabajo.",variable:"bienestar"},{id:9,texto:"La empresa se adapta eficazmente a los cambios.",variable:"adaptabilidad"},{id:10,texto:"Los empleados muestran sentido de pertenencia y compromiso.",variable:"pertenencia"}],u=[{id:11,texto:"Tasa de rotación anual",opciones:["<5%","5–10%","11–15%",">15%"],valores:[5,4,3,1]},{id:12,texto:"Tasa de absentismo",opciones:["Bajo","Medio","Alto"],valores:[5,3,1]},{id:13,texto:"Índice de productividad",opciones:["Muy alta","Alta","Media","Baja","Muy baja"],valores:[5,4,3,2,1]}],c=$({}),g=$({}),_=$(!1),z=$(null),w=k(()=>p.length+u.length),x=k(()=>{const d=p.every(o=>c.value[o.variable]!==void 0),a=u.every(o=>g.value[o.id]!==void 0);return d&&a}),n=()=>{const d=Object.values(c.value).reduce((a,o)=>a+o,0)+Object.values(g.value).reduce((a,o)=>a+o,0);z.value={...c.value,metricas:g.value,total:d},_.value=!0};return(d,a)=>(r(),i("div",je,[e("div",ze,[_.value?(r(),M(ke,{key:1,resultados:z.value,onClose:a[2]||(a[2]=o=>d.$emit("close")),onVolver:a[3]||(a[3]=o=>_.value=!1)},null,8,["resultados"])):(r(),i("div",Pe,[e("div",Ee,[e("div",De,[a[4]||(a[4]=e("div",null,[e("h2",{class:"text-3xl font-bold text-gray-800"},"Clima360 Insight"),e("p",{class:"text-gray-600 mt-2"},"Diagnóstico integral del clima laboral y bienestar organizacional")],-1)),e("button",{onClick:a[0]||(a[0]=o=>d.$emit("close")),class:"text-gray-400 hover:text-gray-600"},[f(y(V),{class:"h-6 w-6"})])]),a[5]||(a[5]=e("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[e("p",{class:"text-sm text-blue-800"},[e("span",{class:"font-semibold"},"Modo Demo:"),P(" Esta es una demostración de la plantilla Clima360 Insight. Responde las preguntas para ver cómo funciona el análisis automático. ")])],-1))]),e("div",Re,[e("div",Le,[a[6]||(a[6]=e("span",null,"Progreso",-1)),e("span",null,l(Object.keys(c.value).length)+" / "+l(w.value),1)]),e("div",Me,[e("div",{class:"bg-primary h-2 rounded-full transition-all duration-300",style:S({width:`${Object.keys(c.value).length/w.value*100}%`})},null,4)])]),e("div",Ve,[a[9]||(a[9]=e("h3",{class:"text-xl font-semibold text-gray-800"},"Evaluación del Clima Laboral",-1)),a[10]||(a[10]=e("p",{class:"text-sm text-gray-600"},"Evalúa cada afirmación en una escala del 1 (Totalmente en desacuerdo) al 5 (Totalmente de acuerdo)",-1)),(r(),i(C,null,j(p,o=>e("div",{key:o.id,class:"bg-gray-50 rounded-lg p-6"},[e("p",Be,l(o.id)+". "+l(o.texto),1),e("div",Ie,[a[7]||(a[7]=e("span",{class:"text-xs text-gray-500 w-20"},"Totalmente en desacuerdo",-1)),e("div",Te,[(r(),i(C,null,j([1,2,3,4,5],m=>e("label",{key:m,class:"flex flex-col items-center cursor-pointer group"},[I(e("input",{type:"radio",name:`pregunta-${o.id}`,value:m,"onUpdate:modelValue":s=>c.value[o.variable]=s,class:"hidden"},null,8,Ae),[[T,c.value[o.variable]]]),e("div",{class:v(["w-12 h-12 rounded-full border-2 flex items-center justify-center transition-all duration-200",c.value[o.variable]===m?"bg-primary border-primary text-white scale-110":"border-gray-300 text-gray-600 hover:border-primary hover:scale-105"])},[e("span",Oe,l(m),1)],2)])),64))]),a[8]||(a[8]=e("span",{class:"text-xs text-gray-500 w-20 text-right"},"Totalmente de acuerdo",-1))])])),64))]),e("div",Se,[a[11]||(a[11]=e("h3",{class:"text-xl font-semibold text-gray-800"},"Métricas Organizacionales",-1)),(r(),i(C,null,j(u,o=>e("div",{key:o.id,class:"bg-gray-50 rounded-lg p-6"},[e("p",qe,l(o.texto),1),e("div",Fe,[(r(!0),i(C,null,j(o.opciones,(m,s)=>(r(),i("label",{key:s,class:"cursor-pointer"},[I(e("input",{type:"radio",name:`metrica-${o.id}`,value:o.valores[s],"onUpdate:modelValue":t=>g.value[o.id]=t,class:"hidden"},null,8,Ne),[[T,g.value[o.id]]]),e("div",{class:v(["p-4 rounded-lg border-2 text-center transition-all duration-200",g.value[o.id]===o.valores[s]?"bg-primary border-primary text-white":"border-gray-300 hover:border-primary"])},[e("span",Ge,l(m),1)],2)]))),128))])])),64))]),e("div",Ue,[e("button",{onClick:a[1]||(a[1]=o=>d.$emit("close")),class:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"}," Cancelar "),e("button",{onClick:n,disabled:!x.value,class:v(["px-6 py-2 rounded-lg font-medium transition-colors",x.value?"bg-primary text-white hover:bg-primary-dark":"bg-gray-300 text-gray-500 cursor-not-allowed"])}," Ver Resultados del Diagnóstico ",10,He)])]))])]))}},Qe={class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"},Je={class:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto"},Ke={class:"sticky top-0 bg-white border-b border-gray-200 p-6 z-10"},Xe={class:"flex justify-between items-start"},Ze={class:"p-6"},Ye={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},et={key:0,class:"absolute top-4 right-4 w-6 h-6 bg-primary rounded-full flex items-center justify-center"},tt={key:0,class:"absolute top-4 right-4 w-6 h-6 bg-primary rounded-full flex items-center justify-center"},st={key:0,class:"animate-fadeIn"},at={class:"grid grid-cols-1 gap-4"},ot=["onClick"],rt={class:"flex items-start justify-between"},lt={class:"flex items-start flex-1"},it={class:"flex-shrink-0 text-4xl mr-4"},nt={class:"flex-1"},dt={class:"text-lg font-semibold text-gray-900 mb-1"},ct={class:"text-sm text-gray-600 mb-3"},ut={class:"flex items-center gap-4 text-sm text-gray-500"},mt={class:"flex items-center"},bt={class:"px-2 py-1 bg-indigo-50 text-indigo-800 rounded-full text-xs font-medium"},gt={key:0,class:"flex-shrink-0 w-6 h-6 bg-primary rounded-full flex items-center justify-center ml-4"},pt={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4"},vt={class:"flex justify-between items-center"},xt=["disabled"],yt={__name:"SeleccionTipoEncuesta",emits:["close","seleccionar-desde-cero","seleccionar-plantilla"],setup(R,{emit:D}){const p=D,u=$(null),c=$(null),g=k(()=>!!(u.value==="desde-cero"||u.value==="plantilla"&&c.value)),_=x=>{u.value=x,x==="desde-cero"&&(c.value=null)},z=x=>{c.value=x},w=()=>{u.value==="desde-cero"?p("seleccionar-desde-cero"):u.value==="plantilla"&&c.value&&p("seleccionar-plantilla",c.value)};return(x,n)=>(r(),i("div",Qe,[e("div",Je,[e("div",Ke,[e("div",Xe,[n[4]||(n[4]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900"},"Crear Nueva Encuesta"),e("p",{class:"text-gray-600 mt-1"},"Elige cómo quieres crear tu encuesta")],-1)),e("button",{onClick:n[0]||(n[0]=d=>x.$emit("close")),class:"text-gray-400 hover:text-gray-600 transition-colors"},[f(y(V),{class:"h-6 w-6"})])])]),e("div",Ze,[e("div",Ye,[e("button",{onClick:n[1]||(n[1]=d=>_("desde-cero")),class:v(["group relative bg-white rounded-xl shadow-sm border-2 hover:border-primary hover:shadow-md transition-all duration-200 p-8 text-left",u.value==="desde-cero"?"border-primary ring-2 ring-primary ring-opacity-20":"border-gray-200"])},[n[5]||(n[5]=e("div",{class:"flex flex-col items-center text-center"},[e("div",{class:"w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center text-4xl mb-4 group-hover:bg-primary group-hover:bg-opacity-10 transition-colors"}," 🧱 "),e("h3",{class:"text-xl font-bold text-gray-900 mb-2"},"Crear desde cero"),e("p",{class:"text-sm text-gray-600"}," Diseña una encuesta completamente personalizada con tus propias preguntas ")],-1)),u.value==="desde-cero"?(r(),i("div",et,[f(y(L),{class:"h-4 w-4 text-white"})])):E("",!0)],2),e("button",{onClick:n[2]||(n[2]=d=>_("plantilla")),class:v(["group relative bg-white rounded-xl shadow-sm border-2 hover:border-primary hover:shadow-md transition-all duration-200 p-8 text-left",u.value==="plantilla"?"border-primary ring-2 ring-primary ring-opacity-20":"border-gray-200"])},[n[6]||(n[6]=e("div",{class:"flex flex-col items-center text-center"},[e("div",{class:"w-20 h-20 rounded-full bg-indigo-100 flex items-center justify-center text-4xl mb-4 group-hover:bg-primary group-hover:bg-opacity-10 transition-colors"}," 🧩 "),e("h3",{class:"text-xl font-bold text-gray-900 mb-2"},"Usar plantilla prediseñada"),e("p",{class:"text-sm text-gray-600"}," Ahorra tiempo usando una plantilla profesional que puedes personalizar ")],-1)),u.value==="plantilla"?(r(),i("div",tt,[f(y(L),{class:"h-4 w-4 text-white"})])):E("",!0)],2)]),u.value==="plantilla"?(r(),i("div",st,[n[7]||(n[7]=e("div",{class:"mb-4"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Plantillas Disponibles"),e("p",{class:"text-sm text-gray-600"},"Selecciona una plantilla para comenzar")],-1)),e("div",at,[(r(!0),i(C,null,j(y(Y),d=>{var a,o;return r(),i("div",{key:d.id,onClick:m=>z(d),class:v(["bg-white rounded-xl p-6 border-2 cursor-pointer hover:border-primary hover:shadow-md transition-all duration-200",((a=c.value)==null?void 0:a.id)===d.id?"border-primary ring-2 ring-primary ring-opacity-20":"border-gray-200"])},[e("div",rt,[e("div",lt,[e("div",it,l(d.icon),1),e("div",nt,[e("h4",dt,l(d.nombre),1),e("p",ct,l(d.descripcion),1),e("div",ut,[e("span",mt,[f(y(U),{class:"h-4 w-4 mr-1"}),P(" "+l(d.preguntas.length)+" preguntas ",1)]),e("span",bt,l(d.categoria),1)])])]),((o=c.value)==null?void 0:o.id)===d.id?(r(),i("div",gt,[f(y(L),{class:"h-4 w-4 text-white"})])):E("",!0)])],10,ot)}),128))])])):E("",!0)]),e("div",pt,[e("div",vt,[e("button",{onClick:n[3]||(n[3]=d=>x.$emit("close")),class:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors font-medium"}," Cancelar "),e("button",{onClick:w,disabled:!g.value,class:v(["px-6 py-2 rounded-lg font-medium transition-colors",g.value?"bg-primary text-white hover:bg-primary-dark":"bg-gray-300 text-gray-500 cursor-not-allowed"])},[n[8]||(n[8]=P(" Continuar ")),f(y(H),{class:"h-4 w-4 inline-block ml-2"})],10,xt)])])])]))}},ft=G(yt,[["__scopeId","data-v-18a132ee"]]),ht={class:"space-y-6"},_t={class:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},wt={key:0,class:"text-center py-10"},$t={key:1,class:"space-y-4"},Ct={class:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200"},kt={class:"flex justify-between items-start"},jt={class:"flex-1"},zt={class:"text-xl font-semibold text-gray-900 mb-2"},Pt={class:"flex items-center"},Et={key:0,class:"ml-2 px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium"},Dt={class:"flex items-center space-x-4"},Rt=["onClick","disabled"],Lt=["onClick"],Mt={class:"p-6"},Vt={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Bt={class:"text-center"},It={class:"text-2xl font-bold text-gray-900"},Tt={class:"text-center"},At={class:"text-2xl font-bold text-primary"},Ot={class:"text-center"},St={class:"text-2xl font-bold text-gray-900"},qt={class:"text-center"},Ft={class:"flex justify-center mb-1"},Wt={__name:"EncuestasView",setup(R){const D=$([]),p=$(!0),u=K(),c=$(!1),g=$(!1),_=m=>({"salud-mental":"Salud Mental","carga-laboral":"Carga Laboral",comunicacion:"Comunicación",ergonomia:"Ergonomía",desarrollo:"Desarrollo Profesional",general:"Bienestar General","clima-laboral":"Clima Laboral"})[m]||"General",z=m=>({"salud-mental":"🧠","carga-laboral":"⚖️",comunicacion:"💬",ergonomia:"🪑",desarrollo:"📈",general:"📊","clima-laboral":"🌡️"})[m]||"📊";O(async()=>{p.value=!0;try{D.value=await W()}catch(m){console.error("Error al cargar las encuestas:",m)}finally{p.value=!1}});const w=m=>{u.push({name:"admin-encuesta-resultados",params:{encuestaId:m}})},x=m=>{u.push({name:"admin-editar-encuesta",params:{encuestaId:m}})},n=()=>{c.value=!0},d=()=>{g.value=!0},a=()=>{g.value=!1,u.push("/admin/encuestas/crear")},o=m=>{g.value=!1,u.push({name:"admin-crear-encuesta",query:{plantilla:m.id}})};return(m,s)=>(r(),i("div",ht,[e("header",_t,[s[3]||(s[3]=e("div",null,[e("h1",{class:"text-3xl font-bold text-on-background"},"Gestión de Encuestas"),e("p",{class:"text-on-surface-variant"},"Crea, gestiona y analiza todas las encuestas de tu organización.")],-1)),f(J,{onClick:d,variant:"primary",class:"shadow-lg hover:shadow-xl transition-shadow duration-200"},{default:Q(()=>[f(y(X),{class:"h-5 w-5 mr-2"}),s[2]||(s[2]=P(" Crear Nueva Encuesta "))]),_:1,__:[2]})]),p.value?(r(),i("div",wt,s[4]||(s[4]=[e("p",null,"Cargando encuestas...",-1)]))):(r(),i("div",$t,[(r(!0),i(C,null,j(D.value,t=>{var b;return r(),i("div",{key:t.id,class:v(["bg-white rounded-xl shadow-sm border hover:shadow-md transition-all duration-200 overflow-hidden",t.esPlantilla?"border-blue-300 bg-blue-50/30":"border-gray-100"])},[e("div",Ct,[e("div",kt,[e("div",jt,[e("h2",zt,l(t.titulo),1),e("div",Pt,[e("span",{class:v(["px-3 py-1 rounded-full text-xs font-medium",t.estado==="Activa"?"bg-green-100 text-green-800":t.estado==="Finalizada"?"bg-blue-100 text-blue-800":t.estado==="Borrador"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])},l(t.estado),3),t.categoria?(r(),i("span",Et,l(z(t.categoria))+" "+l(_(t.categoria)),1)):E("",!0)])]),e("div",Dt,[t.esPlantilla?(r(),i("button",{key:0,onClick:n,class:"flex items-center px-4 py-2 rounded-lg text-sm font-medium bg-blue-500 text-white hover:bg-blue-600 transition-all duration-200 shadow-sm"},[f(y(te),{class:"h-4 w-4 mr-2"}),s[5]||(s[5]=P(" Probar Plantilla "))])):(r(),i(C,{key:1},[e("button",{onClick:h=>w(t.id),disabled:t.estado==="Borrador",class:v(["flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200",t.estado==="Borrador"?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-primary/10 hover:text-primary-dark"])},[f(y(Z),{class:"h-4 w-4 mr-2"}),s[6]||(s[6]=P(" Ver Resultados "))],10,Rt),e("button",{onClick:h=>x(t.id),class:"flex items-center px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-all duration-200"},[f(y(ee),{class:"h-4 w-4 mr-2"}),s[7]||(s[7]=P(" Editar "))],8,Lt)],64))])])]),e("div",Mt,[e("div",Vt,[e("div",Bt,[e("div",It,l(t.totalParticipantes),1),s[8]||(s[8]=e("div",{class:"text-sm text-gray-500"},"Participantes",-1))]),e("div",Tt,[e("div",At,l(t.tasaParticipacion),1),s[9]||(s[9]=e("div",{class:"text-sm text-gray-500"},"Tasa de Participación",-1))]),e("div",Ot,[e("div",St,l(((b=t.preguntas)==null?void 0:b.length)||0),1),s[10]||(s[10]=e("div",{class:"text-sm text-gray-500"},"Preguntas",-1))]),e("div",qt,[e("div",Ft,[e("span",{class:v(["px-3 py-1 rounded-full text-xs font-medium",t.creada_desde==="plantilla"?"bg-indigo-50 text-indigo-800":"bg-gray-50 text-gray-800"])},l(t.creada_desde==="plantilla"?"Desde plantilla":"Desde cero"),3)]),s[11]||(s[11]=e("div",{class:"text-sm text-gray-500"},"Origen",-1))])])])],2)}),128))])),c.value?(r(),M(We,{key:2,onClose:s[0]||(s[0]=t=>c.value=!1)})):E("",!0),g.value?(r(),M(ft,{key:3,onClose:s[1]||(s[1]=t=>g.value=!1),onSeleccionarDesdeCero:a,onSeleccionarPlantilla:o})):E("",!0)]))}};export{Wt as default};
