import{u as B,a as C,b as N,c as A,_ as d,d as _}from"./index-C3zR6LNs.js";import{u as j}from"./reservas.store-Fkkdvm54.js";import{Y as u,f as E,o,h as a,j as e,t as l,z as n,c as I,u as t,v as i,J as c,b as P,F as k,y as w}from"./vue-vendor-B77bLtTV.js";import"./supabase-B7V2753y.js";import"./charts-CTwtOHf5.js";const T={class:"space-y-6"},D={class:"flex justify-between items-center"},F={class:"text-3xl font-bold text-on-background"},M={class:"bg-primary text-on-primary font-bold py-2 px-4 rounded-xl shadow-lg"},$={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},z={class:"lg:col-span-2 space-y-6"},G={class:"flex justify-between items-center"},H={key:0,class:"space-y-3"},J={class:"font-bold"},L={class:"text-sm text-on-surface-variant"},U={key:1,class:"text-on-surface-variant"},Y={class:"space-y-6"},q={key:0,class:"space-y-2"},K={key:1,class:"text-on-surface-variant"},O={class:"text-right"},Q={class:"space-y-3"},os={__name:"DashboardView",setup(W){const R=B(),m=j(),p=C(),x=N(),v=A(),{user:y}=u(R),{misReservas:h}=u(m),{puntosUsuario:V}=u(p),{activeSurvey:g}=u(x),{comunicados:b}=u(v);return E(()=>{var s;const f=((s=y.value)==null?void 0:s.id)||"user-empleado-01";f&&(m.fetchMisReservas(f),p.cargarPuntos(f),x.fetchActiveSurvey(),v.cargarComunicados())}),(f,s)=>{var S;return o(),a("div",T,[e("div",D,[e("h1",F,"Hola, "+l(((S=n(y))==null?void 0:S.name)||"Empleado"),1),e("div",M,[e("span",null,l(n(V)||0)+" Puntos de Bienestar",1)])]),e("div",$,[e("div",z,[n(g)?(o(),I(_,{key:0},{header:t(()=>s[0]||(s[0]=[e("h2",{class:"text-xl font-semibold text-on-surface"},"Tienes una encuesta pendiente",-1)])),default:t(()=>[e("div",G,[e("p",null,l(n(g).titulo),1),i(d,{variant:"primary"},{default:t(()=>s[1]||(s[1]=[c("Responder Ahora")])),_:1,__:[1]})])]),_:1})):P("",!0),i(_,null,{header:t(()=>s[2]||(s[2]=[e("h2",{class:"text-xl font-semibold text-on-surface"},"Próximas Sesiones Reservadas",-1)])),default:t(()=>[n(h).length>0?(o(),a("div",H,[(o(!0),a(k,null,w(n(h),r=>(o(),a("div",{key:r.id,class:"bg-background p-3 rounded-lg"},[e("p",J,l(r.sesionInfo.titulo),1),e("p",L,l(r.sesionInfo.fecha)+" a las "+l(r.sesionInfo.hora),1)]))),128))])):(o(),a("p",U,"No tienes próximas sesiones."))]),_:1})]),e("div",Y,[i(_,null,{header:t(()=>s[3]||(s[3]=[e("h2",{class:"text-xl font-semibold text-on-surface"},"Últimos Comunicados",-1)])),footer:t(()=>[e("div",O,[i(d,{variant:"text"},{default:t(()=>s[4]||(s[4]=[c("Ver todos")])),_:1,__:[4]})])]),default:t(()=>[n(b).length>0?(o(),a("div",q,[(o(!0),a(k,null,w(n(b).slice(0,3),r=>(o(),a("p",{key:r.id,class:"text-sm p-2 bg-background rounded-md"},l(r.titulo),1))),128))])):(o(),a("p",K,"No hay comunicados recientes."))]),_:1}),i(_,null,{header:t(()=>s[5]||(s[5]=[e("h2",{class:"text-xl font-semibold text-on-surface"},"Explorar",-1)])),default:t(()=>[e("div",Q,[i(d,{variant:"outline",class:"w-full"},{default:t(()=>s[6]||(s[6]=[c("Ver Actividades")])),_:1,__:[6]}),i(d,{variant:"outline",class:"w-full"},{default:t(()=>s[7]||(s[7]=[c("Canjear Recompensas")])),_:1,__:[7]}),i(d,{variant:"outline",class:"w-full"},{default:t(()=>s[8]||(s[8]=[c("Buscar Apoyo Profesional")])),_:1,__:[8]})])]),_:1})])])])}}};export{os as default};
