import{r as P,d as V,f as U,o as a,h as i,j as e,v as l,z as r,q as d,M as y,L as p,F as c,y as m,t as n,E as g,U as I,b as E,J as v,c as w}from"./vue-vendor-B77bLtTV.js";import{e as k,k as N,z as h,D as G,q as M,C as D,E as L,H as R,I as T,J as S,K as B}from"./index-C3zR6LNs.js";import{c as $,a as F,o as q,g as J,r as A}from"./configuracionMock-FmJAxPZn.js";import"./supabase-B7V2753y.js";import"./charts-CTwtOHf5.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=k("ImagePlusIcon",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=k("PaletteIcon",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),O={class:"min-h-screen bg-gray-50"},Q={class:"py-8"},W={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},X={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Y={class:"lg:col-span-2 space-y-6"},Z={class:"bg-white rounded-xl p-6 shadow-sm space-y-6"},ee={class:"flex items-center border-b pb-4"},se={class:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center mr-3"},te={class:"space-y-4"},oe={class:"flex items-center gap-4"},re={class:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300"},ae=["value"],ie=["value"],ne={class:"bg-white rounded-xl p-6 shadow-sm space-y-6"},le={class:"flex items-center border-b pb-4"},de={class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center mr-3"},ue={class:"space-y-4"},ce=["value"],me={class:"space-y-3"},ge=["value"],be={class:"ml-3"},fe={class:"font-medium text-sm text-gray-900"},pe={class:"text-xs text-gray-600"},xe=["value"],ye={class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},ve={key:0},_e={class:"bg-white rounded-xl p-6 shadow-sm space-y-6"},we={class:"flex items-center border-b pb-4"},he={class:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center mr-3"},ke={class:"space-y-4"},Ce={class:"grid grid-cols-3 gap-3"},ze=["onClick"],je=["value"],Pe={class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},Ve={class:"bg-white rounded-xl p-6 shadow-sm space-y-6"},Ue={class:"flex items-center border-b pb-4"},Ie={class:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center mr-3"},Ee={class:"space-y-4"},Ne={class:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200"},Ge={class:"font-medium text-sm text-blue-900 flex items-center"},Me={class:"lg:col-span-1"},De={class:"sticky top-8 space-y-6"},Le={class:"bg-white rounded-xl p-6 shadow-sm"},Re={class:"flex items-center mb-4"},Te={class:"space-y-4"},Se={class:"text-center p-4 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg border border-indigo-200"},Be={class:"w-16 h-16 bg-white rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm"},$e={class:"font-bold text-gray-900"},Fe={class:"text-xs text-gray-600 mt-1"},qe={class:"space-y-2 text-sm"},Je={class:"flex justify-between py-2 border-b border-gray-200"},Ae={class:"font-medium text-gray-900"},He={class:"flex justify-between py-2 border-b border-gray-200"},Ke={class:"font-medium text-gray-900 text-xs"},Oe={class:"flex justify-between py-2 border-b border-gray-200"},Qe={class:"font-medium text-gray-900"},We={class:"flex justify-between py-2 border-b border-gray-200"},Xe={class:"font-medium text-gray-900"},Ye={class:"flex justify-between py-2"},Ze={class:"font-medium text-gray-900"},es={class:"space-y-3"},ss=["disabled"],ts={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},os={class:"flex items-start"},us={__name:"ConfiguracionGlobal",setup(rs){const x=N(),o=P({...$}),u=q,b=V(!1),C=async()=>{b.value=!0;try{await new Promise(f=>setTimeout(f,1e3)),J(o),x.add({severity:"success",summary:"Configuración actualizada correctamente",detail:"Los cambios se han guardado exitosamente",life:4e3})}catch{x.add({severity:"error",summary:"Error al guardar",detail:"No se pudo guardar la configuración. Intenta de nuevo.",life:4e3})}finally{b.value=!1}},z=()=>{const f=A();Object.assign(o,f),x.add({severity:"info",summary:"Configuración restaurada",detail:"Se han restaurado los valores por defecto",life:3e3})},j=()=>{x.add({severity:"info",summary:"Función de subida de logo",detail:"Mock: En producción se abrirá el selector de archivos",life:3e3})};return U(()=>{F(),console.log("Configuración Global cargada")}),(f,s)=>(a(),i("div",O,[e("div",Q,[e("div",W,[s[44]||(s[44]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Configuración Global"),e("p",{class:"text-gray-600 mt-2"},"Define los parámetros generales de tu organización y del sistema de encuestas")],-1)),e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[e("div",se,[l(r(h),{class:"h-5 w-5 text-white"})]),s[12]||(s[12]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-800"},"Datos de la Empresa"),e("p",{class:"text-sm text-gray-600"},"Información básica de tu organización")],-1))]),e("div",te,[e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Nombre de la empresa ",-1)),d(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.empresa.nombre=t),type:"text",class:"w-full px-4 py-2 rounded-md border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nombre de tu empresa"},null,512),[[y,o.empresa.nombre]])]),e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Logo de la empresa ",-1)),e("div",oe,[e("div",re,[l(r(H),{class:"h-8 w-8 text-gray-400"})]),e("button",{onClick:j,class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors"}," Subir logo "),s[14]||(s[14]=e("p",{class:"text-xs text-gray-500"},"PNG o JPG, máx. 2MB",-1))])]),e("div",null,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," País ",-1)),d(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>o.empresa.pais=t),class:"w-full px-4 py-2 rounded-md border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[(a(!0),i(c,null,m(r(u).paises,t=>(a(),i("option",{key:t,value:t},n(t),9,ae))),128))],512),[[p,o.empresa.pais]])]),e("div",null,[s[17]||(s[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Idioma predeterminado ",-1)),d(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>o.empresa.idioma=t),class:"w-full px-4 py-2 rounded-md border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[(a(!0),i(c,null,m(r(u).idiomas,t=>(a(),i("option",{key:t,value:t},n(t),9,ie))),128))],512),[[p,o.empresa.idioma]])])])]),e("div",ne,[e("div",le,[e("div",de,[l(r(G),{class:"h-5 w-5 text-white"})]),s[18]||(s[18]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-800"},"Parámetros de Encuestas"),e("p",{class:"text-sm text-gray-600"},"Configuración predeterminada para nuevas encuestas")],-1))]),e("div",ue,[e("div",null,[s[19]||(s[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Escala por defecto ",-1)),d(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>o.encuestas.escala=t),class:"w-full px-4 py-2 rounded-md border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[(a(!0),i(c,null,m(r(u).escalas,t=>(a(),i("option",{key:t,value:t},n(t),9,ce))),128))],512),[[p,o.encuestas.escala]]),s[20]||(s[20]=e("p",{class:"text-xs text-gray-500 mt-1"},"Escala de valoración para preguntas numéricas",-1))]),e("div",null,[s[21]||(s[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"}," Nivel de anonimato predeterminado ",-1)),e("div",me,[(a(!0),i(c,null,m(r(u).nivelesAnonimato,t=>(a(),i("label",{key:t.id,class:g(["flex items-start p-3 border-2 rounded-lg cursor-pointer transition-all",o.encuestas.anonimato_predeterminado===t.label?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"])},[d(e("input",{type:"radio",value:t.label,"onUpdate:modelValue":s[4]||(s[4]=_=>o.encuestas.anonimato_predeterminado=_),class:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"},null,8,ge),[[I,o.encuestas.anonimato_predeterminado]]),e("div",be,[e("p",fe,n(t.label),1),e("p",pe,n(t.descripcion),1)])],2))),128))])]),e("div",null,[s[22]||(s[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Umbral mínimo de respuestas ",-1)),d(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>o.encuestas.umbral_resultados=t),type:"number",min:"1",max:"100",class:"w-full px-4 py-2 rounded-md border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[y,o.encuestas.umbral_resultados,void 0,{number:!0}]]),s[23]||(s[23]=e("p",{class:"text-xs text-gray-500 mt-1"},"Número mínimo de respuestas para mostrar resultados",-1))]),e("div",null,[s[24]||(s[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Frecuencia de encuestas pulso ",-1)),d(e("select",{"onUpdate:modelValue":s[6]||(s[6]=t=>o.encuestas.frecuencia_pulso=t),class:"w-full px-4 py-2 rounded-md border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[(a(!0),i(c,null,m(r(u).frecuenciasPulso,t=>(a(),i("option",{key:t,value:t},n(t),9,xe))),128))],512),[[p,o.encuestas.frecuencia_pulso]])]),e("div",ye,[s[25]||(s[25]=e("div",null,[e("p",{class:"font-medium text-sm text-gray-900"},"Recordatorios automáticos"),e("p",{class:"text-xs text-gray-600 mt-1"},"Enviar recordatorios a quienes no han respondido")],-1)),e("button",{onClick:s[7]||(s[7]=t=>o.encuestas.recordatorio_automatico=!o.encuestas.recordatorio_automatico),class:g(["relative inline-flex h-6 w-12 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",o.encuestas.recordatorio_automatico?"bg-indigo-600":"bg-gray-200"])},[e("span",{class:g(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",o.encuestas.recordatorio_automatico?"translate-x-6":"translate-x-0"])},null,2)],2)]),o.encuestas.recordatorio_automatico?(a(),i("div",ve,[s[26]||(s[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Días antes de enviar recordatorio ",-1)),d(e("input",{"onUpdate:modelValue":s[8]||(s[8]=t=>o.encuestas.dias_recordatorio=t),type:"number",min:"1",max:"14",class:"w-full px-4 py-2 rounded-md border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[y,o.encuestas.dias_recordatorio,void 0,{number:!0}]])])):E("",!0)])]),e("div",_e,[e("div",we,[e("div",he,[l(r(K),{class:"h-5 w-5 text-white"})]),s[27]||(s[27]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-800"},"Preferencias de Interfaz"),e("p",{class:"text-sm text-gray-600"},"Personaliza la apariencia del sistema")],-1))]),e("div",ke,[e("div",null,[s[28]||(s[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Tema ",-1)),e("div",Ce,[(a(!0),i(c,null,m(r(u).temas,t=>(a(),i("button",{key:t,onClick:_=>o.interfaz.tema=t,class:g(["p-3 border-2 rounded-lg text-sm font-medium transition-all",o.interfaz.tema===t?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-300 text-gray-700 hover:border-gray-400"])},n(t),11,ze))),128))])]),e("div",null,[s[29]||(s[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Idioma de interfaz ",-1)),d(e("select",{"onUpdate:modelValue":s[9]||(s[9]=t=>o.interfaz.idioma_ui=t),class:"w-full px-4 py-2 rounded-md border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[(a(!0),i(c,null,m(r(u).idiomas,t=>(a(),i("option",{key:t,value:t},n(t),9,je))),128))],512),[[p,o.interfaz.idioma_ui]])]),e("div",Pe,[s[30]||(s[30]=e("div",null,[e("p",{class:"font-medium text-sm text-gray-900"},"Notificaciones por email"),e("p",{class:"text-xs text-gray-600 mt-1"},"Recibir alertas y resúmenes por correo")],-1)),e("button",{onClick:s[10]||(s[10]=t=>o.interfaz.notificaciones_email=!o.interfaz.notificaciones_email),class:g(["relative inline-flex h-6 w-12 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",o.interfaz.notificaciones_email?"bg-indigo-600":"bg-gray-200"])},[e("span",{class:g(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",o.interfaz.notificaciones_email?"translate-x-6":"translate-x-0"])},null,2)],2)])])]),e("div",Ve,[e("div",Ue,[e("div",Ie,[l(r(M),{class:"h-5 w-5 text-white"})]),s[31]||(s[31]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-800"},"Privacidad y Cumplimiento"),e("p",{class:"text-sm text-gray-600"},"Gestión de datos y normativas")],-1))]),e("div",Ee,[e("div",null,[s[32]||(s[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Retención de datos (meses) ",-1)),d(e("input",{"onUpdate:modelValue":s[11]||(s[11]=t=>o.privacidad.retencion_datos_meses=t),type:"number",min:"6",max:"60",class:"w-full px-4 py-2 rounded-md border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[y,o.privacidad.retencion_datos_meses,void 0,{number:!0}]]),s[33]||(s[33]=e("p",{class:"text-xs text-gray-500 mt-1"},"Tiempo que se conservan los datos históricos",-1))]),e("div",Ne,[e("div",null,[e("p",Ge,[l(r(D),{class:"h-4 w-4 mr-2"}),s[34]||(s[34]=v(" Cumplimiento GDPR "))]),s[35]||(s[35]=e("p",{class:"text-xs text-blue-800 mt-1"},"Sistema conforme con normativa europea de protección de datos",-1))])])])])]),e("div",Me,[e("div",De,[e("div",Le,[e("div",Re,[l(r(L),{class:"h-5 w-5 text-gray-600 mr-2"}),s[36]||(s[36]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Vista Previa",-1))]),e("div",Te,[e("div",Se,[e("div",Be,[l(r(h),{class:"h-8 w-8 text-indigo-600"})]),e("h4",$e,n(o.empresa.nombre),1),e("p",Fe,n(o.empresa.pais),1)]),e("div",qe,[e("div",Je,[s[37]||(s[37]=e("span",{class:"text-gray-600"},"Escala:",-1)),e("span",Ae,n(o.encuestas.escala),1)]),e("div",He,[s[38]||(s[38]=e("span",{class:"text-gray-600"},"Anonimato:",-1)),e("span",Ke,n(o.encuestas.anonimato_predeterminado),1)]),e("div",Oe,[s[39]||(s[39]=e("span",{class:"text-gray-600"},"Umbral:",-1)),e("span",Qe,n(o.encuestas.umbral_resultados)+" respuestas",1)]),e("div",We,[s[40]||(s[40]=e("span",{class:"text-gray-600"},"Tema:",-1)),e("span",Xe,n(o.interfaz.tema),1)]),e("div",Ye,[s[41]||(s[41]=e("span",{class:"text-gray-600"},"Idioma:",-1)),e("span",Ze,n(o.interfaz.idioma_ui),1)])])])]),e("div",es,[e("button",{onClick:C,disabled:b.value,class:"w-full flex items-center justify-center gap-2 px-5 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[b.value?(a(),w(r(T),{key:1,class:"h-5 w-5 animate-spin"})):(a(),w(r(R),{key:0,class:"h-5 w-5"})),v(" "+n(b.value?"Guardando...":"Guardar configuración"),1)],8,ss),e("button",{onClick:z,class:"w-full flex items-center justify-center gap-2 px-5 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors"},[l(r(S),{class:"h-5 w-5"}),s[42]||(s[42]=v(" Restaurar valores por defecto "))])]),e("div",ts,[e("div",os,[l(r(B),{class:"h-5 w-5 text-blue-600 mt-0.5 mr-2 flex-shrink-0"}),s[43]||(s[43]=e("div",null,[e("p",{class:"text-xs font-semibold text-blue-900 mb-1"},"Protección de Datos"),e("p",{class:"text-xs text-blue-800"}," Todos los cambios cumplen con GDPR y se almacenan de forma segura. ")],-1))])])])])])])])]))}};export{us as default};
