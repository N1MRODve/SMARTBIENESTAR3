import{l as x,o as h,B as w,d as r,e as t,i,w as C,f as l,_ as k,F as B,r as E,q as P,j as n,P as V,k as u,t as o,v as p,h as N,C as z}from"./index-BNX75qeA.js";import{C as L}from"./credit-card-NDwZM6UJ.js";const $={class:"space-y-6"},j={class:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},F={key:0,class:"text-center py-10"},G={key:1,class:"space-y-4"},I={class:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200"},R={class:"flex justify-between items-start"},D={class:"flex-1"},M={class:"text-xl font-semibold text-gray-900 mb-2"},S={class:"flex items-center"},T={key:0,class:"ml-2 px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium"},q={class:"flex items-center space-x-4"},A=["onClick","disabled"],H=["onClick"],J={class:"p-6"},K={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},O={class:"text-center"},Q={class:"text-2xl font-bold text-gray-900"},U={class:"text-center"},W={class:"text-2xl font-bold text-primary"},X={class:"text-center"},Y={class:"text-2xl font-bold text-gray-900"},st={__name:"EncuestasView",setup(Z){const g=x([]),d=x(!0),c=P(),y=a=>({"salud-mental":"Salud Mental","carga-laboral":"Carga Laboral",comunicacion:"Comunicación",ergonomia:"Ergonomía",desarrollo:"Desarrollo Profesional",general:"Bienestar General"})[a]||"General",v=a=>({"salud-mental":"🧠","carga-laboral":"⚖️",comunicacion:"💬",ergonomia:"🪑",desarrollo:"📈",general:"📊"})[a]||"📊";h(async()=>{d.value=!0;try{g.value=await w()}catch(a){console.error("Error al cargar las encuestas:",a)}finally{d.value=!1}});const _=a=>{c.push({name:"admin-encuesta-resultados",params:{encuestaId:a}})},f=a=>{c.push({name:"admin-editar-encuesta",params:{encuestaId:a}})};return(a,e)=>(n(),r("div",$,[t("header",j,[e[2]||(e[2]=t("div",null,[t("h1",{class:"text-3xl font-bold text-on-background"},"Gestión de Encuestas"),t("p",{class:"text-on-surface-variant"},"Crea, gestiona y analiza todas las encuestas de tu organización.")],-1)),i(k,{onClick:e[0]||(e[0]=s=>l(c).push("/admin/encuestas/crear")),variant:"primary",class:"shadow-lg hover:shadow-xl transition-shadow duration-200"},{default:C(()=>[i(l(V),{class:"h-5 w-5 mr-2"}),e[1]||(e[1]=u(" Crear Nueva Encuesta "))]),_:1,__:[1]})]),d.value?(n(),r("div",F,e[3]||(e[3]=[t("p",null,"Cargando encuestas...",-1)]))):(n(),r("div",G,[(n(!0),r(B,null,E(g.value,s=>{var m;return n(),r("div",{key:s.id,class:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 overflow-hidden"},[t("div",I,[t("div",R,[t("div",D,[t("h2",M,o(s.titulo),1),t("div",S,[t("span",{class:p(["px-3 py-1 rounded-full text-xs font-medium",s.estado==="Activa"?"bg-green-100 text-green-800":s.estado==="Finalizada"?"bg-blue-100 text-blue-800":s.estado==="Borrador"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])},o(s.estado),3),s.categoria?(n(),r("span",T,o(v(s.categoria))+" "+o(y(s.categoria)),1)):N("",!0)])]),t("div",q,[t("button",{onClick:b=>_(s.id),disabled:s.estado==="Borrador",class:p(["flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200",s.estado==="Borrador"?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-primary/10 hover:text-primary-dark"])},[i(l(z),{class:"h-4 w-4 mr-2"}),e[4]||(e[4]=u(" Ver Resultados "))],10,A),t("button",{onClick:b=>f(s.id),class:"flex items-center px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-all duration-200"},[i(l(L),{class:"h-4 w-4 mr-2"}),e[5]||(e[5]=u(" Editar "))],8,H)])])]),t("div",J,[t("div",K,[t("div",O,[t("div",Q,o(s.totalParticipantes),1),e[6]||(e[6]=t("div",{class:"text-sm text-gray-500"},"Participantes",-1))]),t("div",U,[t("div",W,o(s.tasaParticipacion),1),e[7]||(e[7]=t("div",{class:"text-sm text-gray-500"},"Tasa de Participación",-1))]),t("div",X,[t("div",Y,o(((m=s.preguntas)==null?void 0:m.length)||0),1),e[8]||(e[8]=t("div",{class:"text-sm text-gray-500"},"Preguntas",-1))])])])])}),128))]))]))}};export{st as default};
