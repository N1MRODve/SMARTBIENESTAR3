import{x as b,l as c,o as R,d as o,e,t as n,i as a,f as r,w as f,_ as w,F as u,r as _,j as l,k as x,G as S,S as k,v as C,h as T}from"./index-BNX75qeA.js";import{A as j,R as A}from"./refresh-cw-Cn7AM7BE.js";import{X as I}from"./x-BsG9JkZh.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=b("LockIcon",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=b("ShoppingCartIcon",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=b("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),P={class:"space-y-8"},V={class:"mb-8"},E={class:"text-center"},$={class:"inline-flex items-center bg-gradient-to-r from-primary to-primary-dark text-white px-8 py-4 rounded-2xl shadow-lg"},D={class:"text-3xl font-bold"},F={key:0,class:"bg-white rounded-lg shadow-sm p-8 text-center"},H={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-6 text-center"},G={class:"text-red-600 mb-4"},U={key:2,class:"bg-white rounded-lg shadow-sm p-12 text-center"},q={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},K={class:"bg-gradient-to-r from-gray-50 to-gray-100 p-6 text-center"},O={class:"text-4xl mb-3"},X={class:"text-lg font-semibold text-gray-900 mb-2"},Y={class:"text-sm text-gray-600"},J={class:"p-6"},Q={class:"text-center mb-6"},W={class:"inline-flex items-center bg-primary/10 px-4 py-2 rounded-full"},Z={class:"text-2xl font-bold text-primary"},ee={class:"space-y-3 mb-6"},te={class:"flex items-center justify-between text-sm"},se={class:"flex items-center text-gray-500"},oe={class:"font-medium text-gray-900 capitalize"},ae={class:"flex items-center justify-between text-sm"},le={class:"flex items-center text-gray-500"},re={class:"flex"},ie={class:"space-y-3"},ne={key:0,class:"text-center"},de={class:"flex items-center justify-center p-3 bg-red-50 rounded-lg border border-red-200 mb-3"},ce={class:"text-red-800 font-medium text-sm"},ge={__name:"RecompensasView",setup(ue){const g=c(!0),p=c(null),m=c([]),i=c(1250),v=c(null),z=[{id:1,titulo:"Día Libre Extra",descripcion:"Un día libre adicional para descansar",icono:"🏖️",coste:500,categoria:"tiempo libre",popularidad:5,disponible:!0},{id:2,titulo:"Masaje Relajante",descripcion:"Sesión de masaje de 60 minutos",icono:"💆‍♀️",coste:800,categoria:"bienestar",popularidad:4,disponible:!0},{id:3,titulo:"Almuerzo Premium",descripcion:"Almuerzo en restaurante selecto",icono:"🍽️",coste:300,categoria:"gastronomía",popularidad:3,disponible:!0},{id:4,titulo:"Curso Online",descripción:"Acceso a curso de desarrollo personal",icono:"📚",coste:1e3,categoria:"educación",popularidad:4,disponible:!0},{id:5,titulo:"Kit de Bienestar",descripcion:"Set de productos para el cuidado personal",icono:"🧴",coste:600,categoria:"bienestar",popularidad:3,disponible:!1},{id:6,titulo:"Sesión de Yoga",descripcion:"Clase privada de yoga y meditación",icono:"🧘‍♀️",coste:400,categoria:"bienestar",popularidad:5,disponible:!0}],h=async()=>{g.value=!0,p.value=null;try{await new Promise(d=>setTimeout(d,1e3)),m.value=z}catch{p.value="No se pudieron cargar las recompensas. Inténtalo de nuevo."}finally{g.value=!1}},M=async d=>{const t=m.value.find(s=>s.id===d);if(!(!t||i.value<t.coste)){v.value=d;try{await new Promise(s=>setTimeout(s,2e3)),i.value-=t.coste,alert(`¡Felicidades! Has canjeado "${t.titulo}" por ${t.coste} puntos. Te contactaremos pronto con los detalles.`)}catch{alert("Error al procesar el canje. Inténtalo de nuevo.")}finally{v.value=null}}};return R(()=>{h()}),(d,t)=>(l(),o("div",P,[e("div",V,[e("div",E,[t[2]||(t[2]=e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Catálogo de Recompensas",-1)),t[3]||(t[3]=e("p",{class:"text-lg text-gray-600 mb-6"},"Canjea tus puntos de bienestar por increíbles recompensas",-1)),e("div",$,[t[1]||(t[1]=e("div",{class:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mr-4"},[e("svg",{class:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})])],-1)),e("div",null,[t[0]||(t[0]=e("p",{class:"text-sm text-white/80"},"Tu saldo actual",-1)),e("p",D,n(i.value)+" Puntos",1)])])])]),g.value?(l(),o("div",F,t[4]||(t[4]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-2 border-primary border-t-transparent mx-auto mb-4"},null,-1),e("p",{class:"text-gray-600"},"Cargando catálogo de recompensas...",-1)]))):p.value?(l(),o("div",H,[a(r(j),{class:"h-12 w-12 text-red-500 mx-auto mb-4"}),t[6]||(t[6]=e("h3",{class:"text-lg font-medium text-red-800 mb-2"},"Error al cargar las recompensas",-1)),e("p",G,n(p.value),1),a(w,{onClick:h,variant:"outline"},{default:f(()=>[a(r(A),{class:"h-4 w-4 mr-2"}),t[5]||(t[5]=x(" Reintentar "))]),_:1,__:[5]})])):m.value.length===0?(l(),o("div",U,[a(r(S),{class:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t[7]||(t[7]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No hay recompensas disponibles",-1)),t[8]||(t[8]=e("p",{class:"text-gray-500"},"El catálogo de recompensas se actualizará pronto",-1))])):(l(),o("div",q,[(l(!0),o(u,null,_(m.value,s=>(l(),o("div",{key:s.id,class:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200 overflow-hidden"},[e("div",K,[e("div",O,n(s.icono),1),e("h3",X,n(s.titulo),1),e("p",Y,n(s.descripcion),1)]),e("div",J,[e("div",Q,[e("div",W,[t[9]||(t[9]=e("svg",{class:"w-5 h-5 text-primary mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),e("span",Z,n(s.coste),1),t[10]||(t[10]=e("span",{class:"text-sm text-primary ml-1"},"puntos",-1))])]),e("div",ee,[e("div",te,[e("div",se,[a(r(B),{class:"h-4 w-4 mr-2"}),t[11]||(t[11]=e("span",null,"Categoría",-1))]),e("span",oe,n(s.categoria),1)]),e("div",ae,[e("div",le,[a(r(k),{class:"h-4 w-4 mr-2"}),t[12]||(t[12]=e("span",null,"Popularidad",-1))]),e("div",re,[(l(),o(u,null,_(5,y=>a(r(k),{key:y,class:C(["h-4 w-4",y<=s.popularidad?"text-yellow-400 fill-current":"text-gray-300"])},null,8,["class"])),64))])])]),e("div",ie,[i.value<s.coste?(l(),o("div",ne,[e("div",de,[a(r(j),{class:"h-5 w-5 text-red-600 mr-2"}),e("span",ce," Te faltan "+n(s.coste-i.value)+" puntos ",1)])])):T("",!0),a(w,{onClick:y=>M(s.id),loading:v.value===s.id,disabled:i.value<s.coste||!s.disponible,class:C(["w-full",{"opacity-50 cursor-not-allowed":i.value<s.coste}])},{default:f(()=>[s.disponible?i.value<s.coste?(l(),o(u,{key:1},[a(r(L),{class:"h-4 w-4 mr-2"}),t[14]||(t[14]=x(" Puntos Insuficientes "))],64)):(l(),o(u,{key:2},[a(r(N),{class:"h-4 w-4 mr-2"}),t[15]||(t[15]=x(" Canjear Ahora "))],64)):(l(),o(u,{key:0},[a(r(I),{class:"h-4 w-4 mr-2"}),t[13]||(t[13]=x(" No Disponible "))],64))]),_:2},1032,["onClick","loading","disabled","class"])])])]))),128))]))]))}};export{ge as default};
