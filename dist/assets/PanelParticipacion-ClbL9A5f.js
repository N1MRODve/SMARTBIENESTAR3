import{_ as S}from"./Header-CQM0Mtxj.js";import{l as h,o as L,d as b,i as g,e,t as o,f as m,F as w,r as j,k as P,j as p,ag as $,a4 as z,ab as F,P as N,V as I,v as u,K as E,ac as O,ap as U,Z as q}from"./index-9XWXAznh.js";import{B as G}from"./building-2-By194s3q.js";import{A as K}from"./award-ZJglMbeM.js";const f=[{id:"enc-001",encuesta:"Clima360 Insight",enviados:45,respondidos:38,fecha_envio:"2025-10-01",fecha_cierre:"2025-10-15",estado:"activa",departamentos:[{nombre:"RRHH",enviados:8,respondidos:7},{nombre:"Marketing",enviados:12,respondidos:9},{nombre:"Ventas",enviados:15,respondidos:9},{nombre:"Producción",enviados:10,respondidos:8}]},{id:"enc-002",encuesta:"Pulse Bienestar Septiembre",enviados:30,respondidos:18,fecha_envio:"2025-09-15",fecha_cierre:"2025-09-25",estado:"cerrada",departamentos:[{nombre:"RRHH",enviados:6,respondidos:5},{nombre:"Marketing",enviados:8,respondidos:4},{nombre:"Ventas",enviados:10,respondidos:6},{nombre:"Producción",enviados:6,respondidos:3}]},{id:"enc-003",encuesta:"Encuesta de Satisfacción Laboral",enviados:52,respondidos:47,fecha_envio:"2025-08-20",fecha_cierre:"2025-09-05",estado:"cerrada",departamentos:[{nombre:"RRHH",enviados:10,respondidos:9},{nombre:"Marketing",enviados:14,respondidos:13},{nombre:"Ventas",enviados:16,respondidos:14},{nombre:"Producción",enviados:12,respondidos:11}]},{id:"enc-004",encuesta:"Evaluación de Liderazgo Q2",enviados:25,respondidos:21,fecha_envio:"2025-07-10",fecha_cierre:"2025-07-25",estado:"cerrada",departamentos:[{nombre:"RRHH",enviados:5,respondidos:5},{nombre:"Marketing",enviados:7,respondidos:6},{nombre:"Ventas",enviados:8,respondidos:6},{nombre:"Producción",enviados:5,respondidos:4}]},{id:"enc-005",encuesta:"Encuesta de Onboarding",enviados:18,respondidos:14,fecha_envio:"2025-09-30",fecha_cierre:"2025-10-10",estado:"activa",departamentos:[{nombre:"RRHH",enviados:3,respondidos:3},{nombre:"Marketing",enviados:5,respondidos:4},{nombre:"Ventas",enviados:6,respondidos:4},{nombre:"Producción",enviados:4,respondidos:3}]}],C=(r,i)=>r===0?0:Math.round(i/r*100),B=()=>{const r={};return f.forEach(i=>{i.departamentos.forEach(n=>{r[n.nombre]||(r[n.nombre]={nombre:n.nombre,enviados:0,respondidos:0}),r[n.nombre].enviados+=n.enviados,r[n.nombre].respondidos+=n.respondidos})}),Object.values(r).map(i=>({...i,tasa:C(i.enviados,i.respondidos)}))},Q=()=>f.sort((r,i)=>new Date(r.fecha_envio)-new Date(i.fecha_envio)).map(r=>({fecha:r.fecha_envio,encuesta:r.encuesta,tasa:C(r.enviados,r.respondidos),respondidos:r.respondidos,enviados:r.enviados})),Z=()=>{const r=f.reduce((l,c)=>l+c.enviados,0),i=f.reduce((l,c)=>l+c.respondidos,0),n=f.filter(l=>l.estado==="activa").length,x=f.filter(l=>l.estado==="cerrada").length,v=C(r,i);return{totalEnviados:r,totalRespondidos:i,tasaPromedio:v,encuestasActivas:n,encuestasCerradas:x,totalEncuestas:f.length}},J=()=>{const r=B(),i=r.reduce((x,v)=>v.tasa>x.tasa?v:x,r[0]),n=r.reduce((x,v)=>v.tasa<x.tasa?v:x,r[0]);return{mejor:i,peor:n}},W={class:"min-h-screen bg-gray-50"},X={class:"py-8"},Y={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ee={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},se={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},te={class:"flex items-center justify-between"},oe={class:"text-3xl font-bold text-primary"},re={class:"w-14 h-14 rounded-full bg-indigo-100 flex items-center justify-center"},ae={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},ne={class:"flex items-center justify-between"},ie={class:"text-3xl font-bold text-green-600"},de={class:"text-xs text-gray-500 mt-1"},le={class:"w-14 h-14 rounded-full bg-green-100 flex items-center justify-center"},ce={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},ue={class:"flex items-center justify-between"},ge={class:"text-3xl font-bold text-blue-600"},me={class:"w-14 h-14 rounded-full bg-blue-100 flex items-center justify-center"},xe={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},ve={class:"flex items-center justify-between"},be={class:"text-3xl font-bold text-gray-900"},pe={class:"text-xs text-gray-500 mt-1"},fe={class:"w-14 h-14 rounded-full bg-gray-100 flex items-center justify-center"},he={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8"},_e={class:"flex items-center mb-6"},ye={class:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center mr-3"},we={class:"space-y-4"},je={class:"w-32 flex-shrink-0"},Pe={class:"text-xs font-medium text-gray-500"},Ee={class:"flex-1"},Ce={class:"flex items-center justify-between mb-1"},ke={class:"text-sm font-medium text-gray-900"},Re={class:"relative w-full bg-gray-200 rounded-full h-3"},Te={class:"absolute right-2 top-0 text-xs font-semibold text-white leading-3"},He={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8"},Me={class:"flex items-center mb-6"},Be={class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center mr-3"},De={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ve={class:"flex items-center justify-between mb-3"},Ae={class:"flex items-center"},Se={class:"font-semibold text-gray-900"},Le={class:"text-xs text-gray-500"},$e={class:"text-right"},ze={class:"relative w-full bg-gray-200 rounded-full h-2 mb-2"},Fe={class:"text-xs text-gray-600 text-center"},Ne={class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},Ie={class:"px-6 py-5 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100"},Oe={class:"flex items-center"},Ue={class:"w-10 h-10 bg-gradient-to-br from-gray-600 to-gray-800 rounded-lg flex items-center justify-center mr-3"},qe={class:"divide-y divide-gray-200"},Ge={class:"flex items-center justify-between mb-4"},Ke={class:"flex-1"},Qe={class:"flex items-center gap-3 mb-2"},Ze={class:"text-lg font-bold text-gray-900"},Je={class:"text-sm text-gray-600"},We={class:"text-right ml-4"},Xe={class:"text-xs text-gray-500"},Ye={class:"mb-4"},es={class:"relative w-full bg-gray-200 rounded-full h-3"},ss={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},ts={class:"text-xs font-medium text-gray-700 mb-1"},os={class:"flex items-center justify-between"},rs={class:"text-xs text-gray-500"},as={class:"mt-2 w-full bg-gray-200 rounded-full h-1.5"},ns={class:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6"},is={class:"bg-green-50 border-2 border-green-200 rounded-xl p-6"},ds={class:"flex items-start"},ls={class:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mr-4 flex-shrink-0"},cs={class:"text-sm text-green-800 mb-3"},us={class:"bg-orange-50 border-2 border-orange-200 rounded-xl p-6"},gs={class:"flex items-start"},ms={class:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center mr-4 flex-shrink-0"},xs={class:"text-sm text-orange-800 mb-3"},hs={__name:"PanelParticipacion",setup(r){const i=h(f),n=h(Z()),x=h(B()),v=h(Q()),l=h(J()),c=(a,t)=>C(a,t),k=a=>new Date(a).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}),_=a=>a>=80?"text-green-600":a>=60?"text-blue-600":a>=40?"text-orange-600":"text-red-600",y=a=>a>=80?"bg-green-500":a>=60?"bg-blue-500":a>=40?"bg-orange-500":"bg-red-500",D=a=>a>=80?"bg-green-100":a>=60?"bg-blue-100":a>=40?"bg-orange-100":"bg-red-100",V=a=>a>=80?"text-green-600":a>=60?"text-blue-600":a>=40?"text-orange-600":"text-red-600",A=a=>a>=80?"border-green-200 bg-green-50/50":a>=60?"border-blue-200 bg-blue-50/50":a>=40?"border-orange-200 bg-orange-50/50":"border-red-200 bg-red-50/50";return L(()=>{console.log("Panel de Participación cargado")}),(a,t)=>{var R,T,H,M;return p(),b("div",W,[g(S,{subtitulo:"Panel de Participación"}),e("div",X,[e("div",Y,[t[17]||(t[17]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Panel de Participación"),e("p",{class:"text-gray-600 mt-2"},"Monitorea en tiempo real el avance de las encuestas y la tasa de respuesta por área")],-1)),e("div",ee,[e("div",se,[e("div",te,[e("div",null,[t[0]||(t[0]=e("p",{class:"text-sm font-medium text-gray-500 mb-1"},"Tasa Promedio",-1)),e("p",oe,o(n.value.tasaPromedio)+"%",1),t[1]||(t[1]=e("p",{class:"text-xs text-gray-500 mt-1"},"En todas las encuestas",-1))]),e("div",re,[g(m($),{class:"h-7 w-7 text-primary"})])])]),e("div",ae,[e("div",ne,[e("div",null,[t[2]||(t[2]=e("p",{class:"text-sm font-medium text-gray-500 mb-1"},"Total Respuestas",-1)),e("p",ie,o(n.value.totalRespondidos),1),e("p",de,"de "+o(n.value.totalEnviados)+" enviadas",1)]),e("div",le,[g(m(z),{class:"h-7 w-7 text-green-600"})])])]),e("div",ce,[e("div",ue,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-gray-500 mb-1"},"Encuestas Activas",-1)),e("p",ge,o(n.value.encuestasActivas),1),t[4]||(t[4]=e("p",{class:"text-xs text-gray-500 mt-1"},"En curso ahora mismo",-1))]),e("div",me,[g(m(F),{class:"h-7 w-7 text-blue-600"})])])]),e("div",xe,[e("div",ve,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-gray-500 mb-1"},"Total Encuestas",-1)),e("p",be,o(n.value.totalEncuestas),1),e("p",pe,o(n.value.encuestasCerradas)+" cerradas",1)]),e("div",fe,[g(m(N),{class:"h-7 w-7 text-gray-600"})])])])]),e("div",he,[e("div",_e,[e("div",ye,[g(m(I),{class:"h-5 w-5 text-white"})]),t[6]||(t[6]=e("div",null,[e("h2",{class:"text-xl font-semibold text-gray-900"},"Evolución de Participación"),e("p",{class:"text-sm text-gray-600"},"Histórico de tasas de respuesta por encuesta")],-1))]),e("div",we,[(p(!0),b(w,null,j(v.value,(s,d)=>(p(),b("div",{key:d,class:"flex items-center gap-4"},[e("div",je,[e("p",Pe,o(k(s.fecha)),1)]),e("div",Ee,[e("div",Ce,[e("p",ke,o(s.encuesta),1),e("span",{class:u(["text-sm font-bold",_(s.tasa)])},o(s.tasa)+"% ",3)]),e("div",Re,[e("div",{class:u(["h-3 rounded-full transition-all duration-500",y(s.tasa)]),style:E({width:`${s.tasa}%`})},[e("span",Te,o(s.respondidos)+"/"+o(s.enviados),1)],6)])])]))),128))])]),e("div",He,[e("div",Me,[e("div",Be,[g(m(G),{class:"h-5 w-5 text-white"})]),t[7]||(t[7]=e("div",null,[e("h2",{class:"text-xl font-semibold text-gray-900"},"Participación por Departamento"),e("p",{class:"text-sm text-gray-600"},"Consolidado de todas las encuestas")],-1))]),e("div",De,[(p(!0),b(w,null,j(x.value,s=>(p(),b("div",{key:s.nombre,class:u(["border-2 rounded-xl p-5 transition-all hover:shadow-md",A(s.tasa)])},[e("div",Ve,[e("div",Ae,[e("div",{class:u(["w-10 h-10 rounded-lg flex items-center justify-center mr-3",D(s.tasa)])},[g(m(O),{class:u(["h-5 w-5",V(s.tasa)])},null,8,["class"])],2),e("div",null,[e("h3",Se,o(s.nombre),1),e("p",Le,o(s.enviados)+" invitaciones",1)])]),e("div",$e,[e("p",{class:u(["text-2xl font-bold",_(s.tasa)])},o(s.tasa)+"%",3)])]),e("div",ze,[e("div",{class:u(["h-2 rounded-full transition-all duration-500",y(s.tasa)]),style:E({width:`${s.tasa}%`})},null,6)]),e("p",Fe,o(s.respondidos)+" de "+o(s.enviados)+" respuestas ",1)],2))),128))])]),e("div",Ne,[e("div",Ie,[e("div",Oe,[e("div",Ue,[g(m(U),{class:"h-5 w-5 text-white"})]),t[8]||(t[8]=e("div",null,[e("h2",{class:"text-xl font-semibold text-gray-900"},"Detalle por Encuesta"),e("p",{class:"text-sm text-gray-600"},"Vista detallada de participación por departamento")],-1))])]),e("div",qe,[(p(!0),b(w,null,j(i.value,s=>(p(),b("div",{key:s.id,class:"p-6 hover:bg-gray-50 transition-colors"},[e("div",Ge,[e("div",Ke,[e("div",Qe,[e("h3",Ze,o(s.encuesta),1),e("span",{class:u(["px-3 py-1 text-xs font-semibold rounded-full",s.estado==="activa"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},o(s.estado==="activa"?"Activa":"Cerrada"),3)]),e("p",Je," Enviada: "+o(k(s.fecha_envio))+" • Cierre: "+o(k(s.fecha_cierre)),1)]),e("div",We,[e("p",{class:u(["text-3xl font-bold",_(c(s.enviados,s.respondidos))])},o(c(s.enviados,s.respondidos))+"% ",3),e("p",Xe,o(s.respondidos)+"/"+o(s.enviados),1)])]),e("div",Ye,[e("div",es,[e("div",{class:u(["h-3 rounded-full transition-all duration-500",y(c(s.enviados,s.respondidos))]),style:E({width:`${c(s.enviados,s.respondidos)}%`})},null,6)])]),e("div",ss,[(p(!0),b(w,null,j(s.departamentos,d=>(p(),b("div",{key:d.nombre,class:"bg-gray-50 rounded-lg p-3 border border-gray-200"},[e("p",ts,o(d.nombre),1),e("div",os,[e("p",{class:u(["text-lg font-bold",_(c(d.enviados,d.respondidos))])},o(c(d.enviados,d.respondidos))+"% ",3),e("p",rs,o(d.respondidos)+"/"+o(d.enviados),1)]),e("div",as,[e("div",{class:u(["h-1.5 rounded-full transition-all",y(c(d.enviados,d.respondidos))]),style:E({width:`${c(d.enviados,d.respondidos)}%`})},null,6)])]))),128))])]))),128))])]),e("div",ns,[e("div",is,[e("div",ds,[e("div",ls,[g(m(K),{class:"h-6 w-6 text-white"})]),e("div",null,[t[11]||(t[11]=e("h3",{class:"text-lg font-bold text-green-900 mb-2"},"Mejor Participación",-1)),e("p",cs,[e("strong",null,o((R=l.value.mejor)==null?void 0:R.nombre),1),t[9]||(t[9]=P(" lidera con una tasa de ")),e("strong",null,o((T=l.value.mejor)==null?void 0:T.tasa)+"%",1),t[10]||(t[10]=P(" de participación. "))]),t[12]||(t[12]=e("p",{class:"text-xs text-green-700"}," ¡Excelente compromiso! Considera compartir sus prácticas con otros departamentos. ",-1))])])]),e("div",us,[e("div",gs,[e("div",ms,[g(m(q),{class:"h-6 w-6 text-white"})]),e("div",null,[t[15]||(t[15]=e("h3",{class:"text-lg font-bold text-orange-900 mb-2"},"Requiere Atención",-1)),e("p",xs,[e("strong",null,o((H=l.value.peor)==null?void 0:H.nombre),1),t[13]||(t[13]=P(" tiene una tasa de ")),e("strong",null,o((M=l.value.peor)==null?void 0:M.tasa)+"%",1),t[14]||(t[14]=P(" de participación. "))]),t[16]||(t[16]=e("p",{class:"text-xs text-orange-700"}," Considera enviar recordatorios personalizados o investigar posibles barreras de participación. ",-1))])])])])])])])}}};export{hs as default};
