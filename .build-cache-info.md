# Gestión de Caché del Build

## Información General

Este proyecto está configurado para manejar automáticamente el caché durante el proceso de build.

## Scripts Disponibles

- `npm run dev` - Inicia el servidor de desarrollo
- `npm run build` - Limpia el caché y construye el proyecto para producción
- `npm run clean` - Limpia solo el caché y los archivos de build
- `npm run preview` - Previsualiza el build de producción

## Cómo Funciona el Caché

### Limpieza Automática
Cada vez que ejecutas `npm run build`, el script automáticamente:
1. Elimina la carpeta `dist/` (build anterior)
2. Elimina la carpeta `node_modules/.vite` (caché de Vite)
3. Ejecuta un build limpio desde cero

### Optimización de Chunks
El proyecto está configurado para dividir el código en chunks optimizados:
- **vue-vendor**: Vue, Vue Router, Pinia (105 KB)
- **supabase**: Cliente de Supabase (109 KB)
- **charts**: Chart.js y Vue-Chartjs (207 KB)
- **index**: Código de la aplicación principal

### Cache Busting
Todos los archivos generados incluyen un hash único en el nombre:
- `index-ed12IV7K.js`
- `vue-vendor-7TdflDPZ.js`
- `index-CkuLSaK5.css`

Esto garantiza que los navegadores siempre carguen la versión más reciente.

## Solución de Problemas

### Si la plataforma no se visualiza correctamente:

1. **Limpieza manual completa:**
   ```bash
   npm run clean
   npm run build
   ```

2. **Limpiar caché del navegador:**
   - Chrome/Edge: Ctrl+Shift+Delete > Borrar caché
   - Firefox: Ctrl+Shift+Delete > Borrar caché
   - Safari: Cmd+Alt+E

3. **Forzar recarga sin caché:**
   - Chrome/Firefox: Ctrl+Shift+R (Windows/Linux) o Cmd+Shift+R (Mac)
   - Safari: Cmd+Option+R

4. **Verificar que el servidor esté sirviendo los archivos correctos:**
   - Revisa que `dist/index.html` apunte a los archivos con hash
   - Verifica que todos los assets estén presentes en `dist/assets/`

## Configuración Técnica

La configuración de Vite (`vite.config.js`) incluye:
- Resolución de alias para imports limpios
- Separación de vendors en chunks
- Deshabilitación de source maps en producción
- Límite de advertencia de chunk size: 1000 KB

## Notas Importantes

- El build siempre es limpio y fresco
- No se requiere acción manual para limpiar caché antes de deploy
- Los archivos antiguales en `dist/` se eliminan automáticamente
- El caché de desarrollo de Vite se limpia en cada build
