import{x as J,D as K,E as X,b as W,l as q,n as $,d as r,i as n,e as a,w as v,_ as f,H as Y,z as c,A as h,I as k,J as x,f as m,t as l,F as w,r as C,h as b,K as Z,q as ee,j as i,k as y,L as ae,P as S,g as te}from"./index-BNX75qeA.js";import{_ as oe,A as se}from"./Header-DER_1DC1.js";import{H as ie}from"./help-circle-D7Z2R2SG.js";import{T as re}from"./trash-2-DthirgKD.js";import{X as ne}from"./x-BsG9JkZh.js";import{S as le}from"./save-C4Jc161y.js";/**
 * @license lucide-vue-next v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=J("RocketIcon",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),de={class:"min-h-screen bg-gray-50"},ce={class:"py-8"},pe={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},me={class:"mb-8"},ve={class:"flex items-center justify-between"},fe={class:"bg-white rounded-lg shadow-sm overflow-hidden"},be={class:"p-6 border-b border-gray-200"},ge={class:"space-y-6"},xe={class:"form-group"},ye={class:"form-group"},_e={class:"form-group"},he={key:0,class:"form-group"},ke={class:"p-4 bg-blue-50 border border-blue-200 rounded-lg"},we={class:"flex items-start"},Ce={class:"flex-1"},Ee={class:"text-sm font-medium text-blue-800 mb-2"},Se={class:"space-y-2"},je={class:"flex-1"},qe={class:"text-sm text-blue-900 font-medium"},$e={class:"text-xs text-blue-700 mt-1"},Me={class:"text-xs text-blue-600 mt-3"},Pe={class:"p-6"},Ve={class:"flex items-center justify-between mb-6"},Le={class:"text-xl font-semibold text-gray-900"},Re={key:0,class:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg"},Te={key:1,class:"space-y-6"},Ae={class:"flex items-start justify-between mb-4"},De={class:"text-lg font-medium text-gray-900"},ze={class:"form-group mb-4"},Ne=["for"],Ue=["id","onUpdate:modelValue"],Oe={class:"form-group mb-4"},Be=["for"],Qe=["id","onUpdate:modelValue","onChange"],Ie={key:0,class:"form-group"},Fe={class:"space-y-3"},He=["onUpdate:modelValue","placeholder"],Ge={key:1,class:"form-group"},Je={class:"mt-6 p-4 bg-white border border-gray-200 rounded-lg"},Ke={class:"space-y-3"},Xe={class:"font-medium text-gray-900"},We={key:0,class:"space-y-2"},Ye=["name"],Ze={class:"text-gray-700"},ea={key:1,class:"space-y-2"},aa={key:2,class:"space-y-3"},ta={class:"flex items-center justify-between"},oa={class:"text-sm font-medium text-gray-700"},sa={key:3,class:"space-y-3"},ia={class:"form-group"},ra={class:"flex items-center space-x-3 mb-4"},na={key:0,class:"ml-7 space-y-4 p-4 bg-blue-50 border border-blue-200 rounded-lg"},la={class:"grid grid-cols-2 gap-4"},ua={key:0},da={key:1},ca=["value"],pa={class:"grid grid-cols-2 gap-4"},ma=["min"],va={key:0,class:"mt-4 p-3 bg-white border border-blue-300 rounded-lg"},fa={class:"text-sm text-blue-700"},ba={class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},ga={class:"flex justify-between items-center"},xa={class:"text-sm text-gray-500"},ya={key:0},_a={key:1},ha={class:"flex space-x-4"},ka={__name:"CrearEncuestaView",setup(wa){const j=ee(),u=X(),M=W(),_=q(!1),t=q({titulo:"",descripcion:"",categoria:"",preguntas:[],esRecurrente:!1,recurrencia:{frecuencia:"",diaSemana:"",diaMes:"",horaEnvio:"09:00",duracionActiva:"7",fechaInicio:""}}),E=q([]),P={"salud-mental":[{texto:"¿Cómo calificarías tu nivel de estrés en el trabajo durante la última semana?",tipo:"escala_1_5",opciones:[]},{texto:"¿Te sientes emocionalmente agotado al final del día laboral?",tipo:"si_no",opciones:[]},{texto:"¿Qué factores contribuyen más a tu estrés laboral?",tipo:"opcion_multiple",opciones:["Carga de trabajo excesiva","Falta de tiempo","Presión de deadlines","Conflictos interpersonales","Incertidumbre laboral"]},{texto:"¿Qué estrategias o recursos te ayudarían a gestionar mejor el estrés?",tipo:"texto_abierto",opciones:[]}],"carga-laboral":[{texto:"¿Consideras que tu carga de trabajo actual es manejable?",tipo:"escala_1_5",opciones:[]},{texto:"¿Logras mantener un equilibrio saludable entre trabajo y vida personal?",tipo:"si_no",opciones:[]},{texto:"¿Con qué frecuencia trabajas fuera de tu horario habitual?",tipo:"opcion_multiple",opciones:["Nunca","Ocasionalmente","Frecuentemente","Casi siempre","Siempre"]},{texto:"¿Qué cambios en la organización del trabajo mejorarían tu bienestar?",tipo:"texto_abierto",opciones:[]}],comunicacion:[{texto:"¿Qué tan clara y efectiva consideras la comunicación en tu equipo?",tipo:"escala_1_5",opciones:[]},{texto:"¿Te sientes cómodo expresando tus ideas y opiniones en el trabajo?",tipo:"si_no",opciones:[]},{texto:"¿Cuál es el principal desafío en la comunicación de tu equipo?",tipo:"opcion_multiple",opciones:["Falta de claridad en instrucciones","Comunicación tardía","Demasiadas reuniones","Canales inadecuados","Falta de feedback"]},{texto:"¿Cómo podríamos mejorar la comunicación en tu área de trabajo?",tipo:"texto_abierto",opciones:[]}],ergonomia:[{texto:"¿Qué tan cómodo te sientes físicamente en tu puesto de trabajo?",tipo:"escala_1_5",opciones:[]},{texto:"¿Experimentas dolores o molestias físicas relacionadas con tu trabajo?",tipo:"si_no",opciones:[]},{texto:"¿Qué aspectos de tu espacio de trabajo te causan más incomodidad?",tipo:"opcion_multiple",opciones:["Silla inadecuada","Altura del escritorio","Iluminación","Ruido","Temperatura","Espacio insuficiente"]},{texto:"¿Qué mejoras en tu espacio de trabajo tendrían mayor impacto en tu comodidad?",tipo:"texto_abierto",opciones:[]}],desarrollo:[{texto:"¿Sientes que tienes oportunidades de crecimiento profesional en la empresa?",tipo:"escala_1_5",opciones:[]},{texto:"¿Recibes feedback regular sobre tu desempeño y desarrollo?",tipo:"si_no",opciones:[]},{texto:"¿Qué tipo de desarrollo profesional te interesa más?",tipo:"opcion_multiple",opciones:["Capacitación técnica","Habilidades de liderazgo","Certificaciones","Mentoring","Proyectos desafiantes"]},{texto:"¿Qué obstáculos encuentras para tu desarrollo profesional en la empresa?",tipo:"texto_abierto",opciones:[]}],general:[{texto:"¿Cómo calificarías tu satisfacción general con el trabajo?",tipo:"escala_1_5",opciones:[]},{texto:"¿Recomendarías esta empresa como un buen lugar para trabajar?",tipo:"si_no",opciones:[]},{texto:"¿Cuál es el aspecto más positivo de trabajar en esta empresa?",tipo:"opcion_multiple",opciones:["Ambiente de trabajo","Beneficios","Flexibilidad","Oportunidades de crecimiento","Compañeros de trabajo"]},{texto:"¿Qué sugerencias tienes para mejorar el bienestar general en la empresa?",tipo:"texto_abierto",opciones:[]}]},A=$(()=>{if(!(t.value.titulo.trim()&&t.value.categoria&&t.value.preguntas.length>0&&t.value.preguntas.every(e=>e.texto.trim()&&e.tipo&&(e.tipo!=="opcion_multiple"||e.opciones&&e.opciones.every(s=>s.trim())))))return!1;if(t.value.esRecurrente){const e=t.value.recurrencia;return e.frecuencia&&e.horaEnvio&&e.duracionActiva&&e.fechaInicio&&(e.frecuencia==="semanal"||e.frecuencia==="quincenal"?e.diaSemana:e.frecuencia==="mensual"||e.frecuencia==="trimestral"?e.diaMes:!0)}return!0}),D=$(()=>new Date().toISOString().split("T")[0]),V=$(()=>{if(!t.value.esRecurrente||!t.value.recurrencia.frecuencia)return null;const o=t.value.recurrencia;let e="";switch(o.frecuencia){case"semanal":e=`Cada ${o.diaSemana||"[día]"} a las ${o.horaEnvio||"[hora]"}`;break;case"quincenal":e=`Cada dos semanas los ${o.diaSemana||"[día]"} a las ${o.horaEnvio||"[hora]"}`;break;case"mensual":e=`El día ${o.diaMes||"[día]"} de cada mes a las ${o.horaEnvio||"[hora]"}`;break;case"trimestral":e=`El día ${o.diaMes||"[día]"} cada 3 meses a las ${o.horaEnvio||"[hora]"}`;break}return o.duracionActiva&&(e+=`. Estará activa por ${o.duracionActiva} día${o.duracionActiva!=="1"?"s":""}.`),o.fechaInicio&&(e+=` Comenzará el ${new Date(o.fechaInicio).toLocaleDateString("es-ES")}.`),e}),L=o=>({"salud-mental":"Salud Mental","carga-laboral":"Carga Laboral",comunicacion:"Comunicación",ergonomia:"Ergonomía",desarrollo:"Desarrollo Profesional",general:"Bienestar General"})[o]||o,z=o=>({opcion_multiple:"Opción Múltiple",si_no:"Sí / No",escala_1_5:"Escala 1-5",texto_abierto:"Texto Abierto"})[o]||o,N=()=>{t.value.categoria&&P[t.value.categoria]?E.value=P[t.value.categoria]:E.value=[]},U=o=>{const e={id:Date.now()+Math.random(),texto:o.texto,tipo:o.tipo,opciones:[...o.opciones]};t.value.preguntas.push(e),u.add({severity:"success",summary:"Pregunta añadida",detail:"La pregunta sugerida ha sido agregada a tu encuesta",life:3e3})},R=()=>{const o={id:Date.now()+Math.random(),texto:"",tipo:"",opciones:["",""]};t.value.preguntas.push(o)},O=o=>{t.value.preguntas.splice(o,1),u.add({severity:"info",summary:"Pregunta eliminada",detail:"La pregunta ha sido removida de la encuesta",life:3e3})},B=o=>{const e=t.value.preguntas[o];e.tipo==="opcion_multiple"?e.opciones=["",""]:e.opciones=[]},Q=o=>{t.value.preguntas[o].opciones.push("")},I=(o,e)=>{t.value.preguntas[o].opciones.splice(e,1)},F=()=>{j.push("/admin/dashboard")},H=async()=>{if(!t.value.titulo.trim()){u.add({severity:"warn",summary:"Título requerido",detail:"Debes escribir un título para guardar el borrador",life:4e3});return}_.value=!0;try{await M.createNewSurvey({...t.value,estado:"borrador",esRecurrente:t.value.esRecurrente,recurrencia:t.value.esRecurrente?t.value.recurrencia:null}),u.add({severity:"success",summary:"Borrador guardado",detail:"La encuesta ha sido guardada como borrador",life:4e3}),j.push("/admin/dashboard")}catch(o){u.add({severity:"error",summary:"Error al guardar",detail:o.message||"No se pudo guardar el borrador",life:5e3})}finally{_.value=!1}},G=async()=>{if(!t.value.titulo.trim()){u.add({severity:"warn",summary:"Título requerido",detail:"Debes escribir un título para la encuesta",life:4e3});return}if(t.value.preguntas.length===0){u.add({severity:"warn",summary:"Preguntas requeridas",detail:"Debes agregar al menos una pregunta",life:4e3});return}for(let o=0;o<t.value.preguntas.length;o++){const e=t.value.preguntas[o];if(!e.texto.trim()){u.add({severity:"warn",summary:"Pregunta incompleta",detail:`La pregunta ${o+1} necesita un texto`,life:4e3});return}if(!e.tipo){u.add({severity:"warn",summary:"Tipo de pregunta requerido",detail:`Selecciona un tipo para la pregunta ${o+1}`,life:4e3});return}if(e.tipo==="opcion_multiple"){if(!e.opciones||e.opciones.length<2){u.add({severity:"warn",summary:"Opciones insuficientes",detail:`La pregunta ${o+1} necesita al menos 2 opciones`,life:4e3});return}for(let s=0;s<e.opciones.length;s++)if(!e.opciones[s].trim()){u.add({severity:"warn",summary:"Opción vacía",detail:`Completa todas las opciones de la pregunta ${o+1}`,life:4e3});return}}}_.value=!0;try{await M.createNewSurvey({...t.value,estado:"activa",esRecurrente:t.value.esRecurrente,recurrencia:t.value.esRecurrente?t.value.recurrencia:null});const o=t.value.esRecurrente?"recurrente":"única";u.add({severity:"success",summary:"¡Encuesta lanzada!",detail:`La encuesta ${o} está ahora ${t.value.esRecurrente?"programada":"disponible"} para los empleados`,life:5e3}),j.push("/admin/dashboard")}catch(o){console.error("Error al lanzar encuesta:",o),u.add({severity:"error",summary:"Error al lanzar",detail:o.message||"No se pudo lanzar la encuesta",life:5e3})}finally{_.value=!1}};return(o,e)=>(i(),r("div",de,[n(oe,{subtitulo:"Crear Nueva Encuesta"}),a("div",ce,[a("div",pe,[a("div",me,[a("div",ve,[e[11]||(e[11]=a("div",null,[a("h1",{class:"text-3xl font-bold text-gray-900"},"Crear Nueva Encuesta"),a("p",{class:"mt-2 text-lg text-gray-600"},"Diseña una encuesta de bienestar para tus empleados")],-1)),n(f,{onClick:F,variant:"outline"},{default:v(()=>[n(m(se),{class:"h-5 w-5 mr-2"}),e[10]||(e[10]=y(" Volver al Dashboard "))]),_:1,__:[10]})])]),a("div",fe,[a("form",{onSubmit:Y(G,["prevent"]),class:"space-y-8"},[a("div",be,[e[18]||(e[18]=a("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Información Básica",-1)),a("div",ge,[a("div",xe,[e[12]||(e[12]=a("label",{for:"titulo",class:"form-label"}," Título de la Encuesta * ",-1)),c(a("input",{id:"titulo","onUpdate:modelValue":e[0]||(e[0]=s=>t.value.titulo=s),type:"text",class:"input",placeholder:"Ej: Encuesta de Satisfacción Laboral",required:""},null,512),[[h,t.value.titulo]]),e[13]||(e[13]=a("p",{class:"mt-1 text-sm text-gray-500"}," Este será el título principal que verán los empleados ",-1))]),a("div",ye,[e[14]||(e[14]=a("label",{for:"descripcion",class:"form-label"}," Descripción (Opcional) ",-1)),c(a("textarea",{id:"descripcion","onUpdate:modelValue":e[1]||(e[1]=s=>t.value.descripcion=s),rows:"3",class:"input",placeholder:"Describe brevemente el propósito de esta encuesta..."},null,512),[[h,t.value.descripcion]])]),a("div",_e,[e[16]||(e[16]=a("label",{for:"categoria",class:"form-label"}," Categoría de la Encuesta * ",-1)),c(a("select",{id:"categoria","onUpdate:modelValue":e[2]||(e[2]=s=>t.value.categoria=s),class:"input",required:"",onChange:N},e[15]||(e[15]=[x('<option value="" data-v-07369fa7>Selecciona una categoría</option><option value="salud-mental" data-v-07369fa7>🧠 Salud Mental</option><option value="carga-laboral" data-v-07369fa7>⚖️ Carga Laboral</option><option value="comunicacion" data-v-07369fa7>💬 Comunicación</option><option value="ergonomia" data-v-07369fa7>🪑 Ergonomía</option><option value="desarrollo" data-v-07369fa7>📈 Desarrollo Profesional</option><option value="general" data-v-07369fa7>📊 Bienestar General</option>',7)]),544),[[k,t.value.categoria]]),e[17]||(e[17]=a("p",{class:"mt-1 text-sm text-gray-500"}," Selecciona el área principal que evaluará esta encuesta ",-1))]),E.value.length>0?(i(),r("div",he,[a("div",ke,[a("div",we,[n(m(ae),{class:"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),a("div",Ce,[a("h4",Ee,"Preguntas Sugeridas para "+l(L(t.value.categoria)),1),a("div",Se,[(i(!0),r(w,null,C(E.value,(s,p)=>(i(),r("div",{key:p,class:"flex items-start justify-between p-3 bg-white border border-blue-200 rounded-lg"},[a("div",je,[a("p",qe,l(s.texto),1),a("p",$e,"Tipo: "+l(z(s.tipo)),1)]),n(f,{type:"button",onClick:d=>U(s),variant:"outline",class:"ml-3 text-blue-600 border-blue-300 hover:bg-blue-50"},{default:v(()=>[n(m(S),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]))),128))]),a("p",Me," 💡 Estas preguntas están diseñadas específicamente para evaluar "+l(L(t.value.categoria).toLowerCase()),1)])])])])):b("",!0)])]),a("div",Pe,[a("div",Ve,[a("h2",Le," Preguntas ("+l(t.value.preguntas.length)+") ",1),n(f,{type:"button",onClick:R,variant:"outline"},{default:v(()=>[n(m(S),{class:"h-5 w-5 mr-2"}),e[19]||(e[19]=y(" Añadir Pregunta "))]),_:1,__:[19]})]),t.value.preguntas.length===0?(i(),r("div",Re,[n(m(ie),{class:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e[21]||(e[21]=a("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No hay preguntas aún",-1)),e[22]||(e[22]=a("p",{class:"text-gray-500 mb-4"},"Comienza agregando tu primera pregunta",-1)),n(f,{type:"button",onClick:R},{default:v(()=>[n(m(S),{class:"h-5 w-5 mr-2"}),e[20]||(e[20]=y(" Añadir Primera Pregunta "))]),_:1,__:[20]})])):(i(),r("div",Te,[(i(!0),r(w,null,C(t.value.preguntas,(s,p)=>(i(),r("div",{key:s.id,class:"border border-gray-200 rounded-lg p-6 bg-gray-50"},[a("div",Ae,[a("h3",De," Pregunta "+l(p+1),1),n(f,{type:"button",onClick:d=>O(p),variant:"outline",class:"text-red-600 hover:text-red-700 hover:bg-red-50"},{default:v(()=>[n(m(re),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]),a("div",ze,[a("label",{for:`pregunta-texto-${p}`,class:"form-label"}," Texto de la Pregunta * ",8,Ne),c(a("textarea",{id:`pregunta-texto-${p}`,"onUpdate:modelValue":d=>s.texto=d,rows:"2",class:"input",placeholder:"Escribe tu pregunta aquí...",required:""},null,8,Ue),[[h,s.texto]])]),a("div",Oe,[a("label",{for:`pregunta-tipo-${p}`,class:"form-label"}," Tipo de Pregunta * ",8,Be),c(a("select",{id:`pregunta-tipo-${p}`,"onUpdate:modelValue":d=>s.tipo=d,class:"input",required:"",onChange:d=>B(p)},e[23]||(e[23]=[x('<option value="" data-v-07369fa7>Selecciona un tipo</option><option value="opcion_multiple" data-v-07369fa7>Opción Múltiple</option><option value="si_no" data-v-07369fa7>Sí / No</option><option value="escala_1_5" data-v-07369fa7>Escala 1-5</option><option value="texto_abierto" data-v-07369fa7>Texto Abierto (Anónimo)</option>',5)]),40,Qe),[[k,s.tipo]])]),s.tipo==="opcion_multiple"?(i(),r("div",Ie,[e[25]||(e[25]=a("label",{class:"form-label"},"Opciones de Respuesta *",-1)),a("div",Fe,[(i(!0),r(w,null,C(s.opciones,(d,g)=>(i(),r("div",{key:g,class:"flex items-center space-x-3"},[c(a("input",{"onUpdate:modelValue":T=>s.opciones[g]=T,type:"text",class:"input flex-1",placeholder:`Opción ${g+1}`,required:""},null,8,He),[[h,s.opciones[g]]]),s.opciones.length>2?(i(),te(f,{key:0,type:"button",onClick:T=>I(p,g),variant:"outline",class:"text-red-600 hover:text-red-700"},{default:v(()=>[n(m(ne),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):b("",!0)]))),128)),n(f,{type:"button",onClick:d=>Q(p),variant:"outline",class:"w-full"},{default:v(()=>[n(m(S),{class:"h-4 w-4 mr-2"}),e[24]||(e[24]=y(" Agregar Opción "))]),_:2,__:[24]},1032,["onClick"])])])):b("",!0),s.tipo==="texto_abierto"?(i(),r("div",Ge,e[26]||(e[26]=[x('<div class="p-4 bg-blue-50 border border-blue-200 rounded-lg" data-v-07369fa7><div class="flex items-start" data-v-07369fa7><svg class="h-5 w-5 text-blue-500 mt-0.5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-07369fa7><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-07369fa7></path></svg><div data-v-07369fa7><h4 class="text-sm font-medium text-blue-800 mb-1" data-v-07369fa7>Pregunta de Texto Abierto</h4><p class="text-sm text-blue-700" data-v-07369fa7> Los empleados podrán escribir respuestas libres y anónimas. Ideal para recopilar feedback cualitativo y sugerencias. </p></div></div></div>',1)]))):b("",!0),a("div",Je,[e[31]||(e[31]=a("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Vista Previa:",-1)),a("div",Ke,[a("p",Xe,l(s.texto||"Texto de la pregunta..."),1),s.tipo==="opcion_multiple"?(i(),r("div",We,[(i(!0),r(w,null,C(s.opciones,(d,g)=>(i(),r("div",{key:g,class:"flex items-center"},[a("input",{type:"radio",name:`preview-${p}`,class:"mr-2",disabled:""},null,8,Ye),a("span",Ze,l(d||`Opción ${g+1}`),1)]))),128))])):s.tipo==="si_no"?(i(),r("div",ea,e[27]||(e[27]=[x('<div class="flex items-center" data-v-07369fa7><input type="radio" name="preview-sino" class="mr-2" disabled data-v-07369fa7><span class="text-gray-700" data-v-07369fa7>Sí</span></div><div class="flex items-center" data-v-07369fa7><input type="radio" name="preview-sino" class="mr-2" disabled data-v-07369fa7><span class="text-gray-700" data-v-07369fa7>No</span></div>',2)]))):s.tipo==="escala_1_5"?(i(),r("div",aa,[e[29]||(e[29]=a("div",{class:"flex items-center justify-between text-sm text-gray-500"},[a("span",null,"Muy insatisfecho"),a("span",null,"Muy satisfecho")],-1)),a("div",ta,[(i(),r(w,null,C([1,2,3,4,5],d=>a("div",{key:d,class:"flex flex-col items-center"},[e[28]||(e[28]=a("input",{type:"radio",name:"preview-escala",class:"mb-2",disabled:""},null,-1)),a("span",oa,l(d),1)])),64))])])):s.tipo==="texto_abierto"?(i(),r("div",sa,e[30]||(e[30]=[a("textarea",{class:"w-full px-3 py-2 border border-gray-300 rounded-md resize-none",rows:"4",placeholder:"Los empleados podrán escribir su respuesta aquí...",disabled:""},null,-1),a("p",{class:"text-xs text-green-600 flex items-center"},[a("svg",{class:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),y(" Tu respuesta a esta pregunta es 100% anónima ")],-1)]))):b("",!0)])])]))),128)),a("div",ia,[a("div",ra,[c(a("input",{id:"es-recurrente","onUpdate:modelValue":e[3]||(e[3]=s=>t.value.esRecurrente=s),type:"checkbox",class:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"},null,512),[[Z,t.value.esRecurrente]]),e[32]||(e[32]=a("label",{for:"es-recurrente",class:"text-sm font-medium text-gray-700"}," Hacer esta encuesta recurrente ",-1))]),t.value.esRecurrente?(i(),r("div",na,[e[44]||(e[44]=a("h4",{class:"text-sm font-medium text-blue-800 mb-3"},"Configuración de Recurrencia",-1)),a("div",la,[a("div",null,[e[34]||(e[34]=a("label",{for:"frecuencia",class:"block text-sm font-medium text-gray-700 mb-1"}," Frecuencia * ",-1)),c(a("select",{id:"frecuencia","onUpdate:modelValue":e[4]||(e[4]=s=>t.value.recurrencia.frecuencia=s),class:"input",required:""},e[33]||(e[33]=[x('<option value="" data-v-07369fa7>Selecciona frecuencia</option><option value="semanal" data-v-07369fa7>Semanal</option><option value="quincenal" data-v-07369fa7>Quincenal</option><option value="mensual" data-v-07369fa7>Mensual</option><option value="trimestral" data-v-07369fa7>Trimestral</option>',5)]),512),[[k,t.value.recurrencia.frecuencia]])]),t.value.recurrencia.frecuencia==="semanal"||t.value.recurrencia.frecuencia==="quincenal"?(i(),r("div",ua,[e[36]||(e[36]=a("label",{for:"dia-semana",class:"block text-sm font-medium text-gray-700 mb-1"}," Día de la semana * ",-1)),c(a("select",{id:"dia-semana","onUpdate:modelValue":e[5]||(e[5]=s=>t.value.recurrencia.diaSemana=s),class:"input",required:""},e[35]||(e[35]=[x('<option value="" data-v-07369fa7>Selecciona día</option><option value="lunes" data-v-07369fa7>Lunes</option><option value="martes" data-v-07369fa7>Martes</option><option value="miercoles" data-v-07369fa7>Miércoles</option><option value="jueves" data-v-07369fa7>Jueves</option><option value="viernes" data-v-07369fa7>Viernes</option>',6)]),512),[[k,t.value.recurrencia.diaSemana]])])):b("",!0),t.value.recurrencia.frecuencia==="mensual"||t.value.recurrencia.frecuencia==="trimestral"?(i(),r("div",da,[e[38]||(e[38]=a("label",{for:"dia-mes",class:"block text-sm font-medium text-gray-700 mb-1"}," Día del mes * ",-1)),c(a("select",{id:"dia-mes","onUpdate:modelValue":e[6]||(e[6]=s=>t.value.recurrencia.diaMes=s),class:"input",required:""},[e[37]||(e[37]=a("option",{value:""},"Selecciona día",-1)),(i(),r(w,null,C(28,s=>a("option",{key:s,value:s},l(s),9,ca)),64))],512),[[k,t.value.recurrencia.diaMes]])])):b("",!0)]),a("div",pa,[a("div",null,[e[39]||(e[39]=a("label",{for:"hora-envio",class:"block text-sm font-medium text-gray-700 mb-1"}," Hora de envío * ",-1)),c(a("input",{id:"hora-envio","onUpdate:modelValue":e[7]||(e[7]=s=>t.value.recurrencia.horaEnvio=s),type:"time",class:"input",required:""},null,512),[[h,t.value.recurrencia.horaEnvio]])]),a("div",null,[e[41]||(e[41]=a("label",{for:"duracion-activa",class:"block text-sm font-medium text-gray-700 mb-1"}," Días activa * ",-1)),c(a("select",{id:"duracion-activa","onUpdate:modelValue":e[8]||(e[8]=s=>t.value.recurrencia.duracionActiva=s),class:"input",required:""},e[40]||(e[40]=[x('<option value="" data-v-07369fa7>Selecciona duración</option><option value="1" data-v-07369fa7>1 día</option><option value="3" data-v-07369fa7>3 días</option><option value="7" data-v-07369fa7>7 días</option><option value="14" data-v-07369fa7>14 días</option>',5)]),512),[[k,t.value.recurrencia.duracionActiva]])])]),a("div",null,[e[42]||(e[42]=a("label",{for:"fecha-inicio",class:"block text-sm font-medium text-gray-700 mb-1"}," Fecha de inicio * ",-1)),c(a("input",{id:"fecha-inicio","onUpdate:modelValue":e[9]||(e[9]=s=>t.value.recurrencia.fechaInicio=s),type:"date",class:"input",min:D.value,required:""},null,8,ma),[[h,t.value.recurrencia.fechaInicio]])]),V.value?(i(),r("div",va,[e[43]||(e[43]=a("h5",{class:"text-sm font-medium text-blue-800 mb-2"},"Vista previa del cronograma:",-1)),a("p",fa,l(V.value),1)])):b("",!0)])):b("",!0)])]))]),a("div",ba,[a("div",ga,[a("div",xa,[t.value.preguntas.length===0?(i(),r("span",ya," Agrega al menos una pregunta para lanzar la encuesta ")):(i(),r("span",_a,l(t.value.preguntas.length)+" pregunta"+l(t.value.preguntas.length!==1?"s":"")+" lista"+l(t.value.preguntas.length!==1?"s":""),1))]),a("div",ha,[n(f,{type:"button",onClick:H,variant:"outline",disabled:_.value||!t.value.titulo.trim()},{default:v(()=>[n(m(le),{class:"h-4 w-4 mr-2"}),e[45]||(e[45]=y(" Guardar Borrador "))]),_:1,__:[45]},8,["disabled"]),n(f,{type:"submit",loading:_.value,disabled:!A.value},{default:v(()=>[n(m(ue),{class:"h-4 w-4 mr-2"}),e[46]||(e[46]=y(" Lanzar Encuesta "))]),_:1,__:[46]},8,["loading","disabled"])])])])],32)])])])]))}},Ma=K(ka,[["__scopeId","data-v-07369fa7"]]);export{Ma as default};
