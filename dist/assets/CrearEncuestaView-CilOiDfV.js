import{O as ae,W as te,b as se,l as P,o as oe,n as q,d as r,i as n,e as a,w as b,_ as g,t as u,h as v,D as ie,z as c,C as h,B as w,E as x,f as d,F as k,r as C,v as $,N as M,X as re,q as ne,p as le,j as i,k as y,M as de,U as N,V as ue,L as ce,Y as pe,Z as me,g as ve,Q as be}from"./index-9XWXAznh.js";import{_ as ge}from"./Header-CQM0Mtxj.js";import{p as fe}from"./plantillasMock-BxGfXcfz.js";import{A as xe}from"./arrow-left-Q60brOqV.js";import{S as ye}from"./shield-DpWnIVyF.js";import{S as _e}from"./shield-check-CtW9Ljbn.js";import{H as he}from"./heart-DtgRDiCS.js";import{H as we}from"./help-circle-BHYMPTC1.js";import{T as ke}from"./trash-2-CjVyO1Nz.js";import{X as Ce}from"./x-BqrVQl_H.js";import{S as Se}from"./save-YtNVuqqx.js";const je={class:"min-h-screen bg-gray-50"},Ee={class:"py-8"},Pe={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},Ne={class:"mb-8"},qe={class:"flex items-center justify-between"},$e={key:0,class:"bg-indigo-50 border border-indigo-200 rounded-lg p-4 mb-6"},Me={class:"flex items-start"},Ve={class:"flex-shrink-0 text-2xl mr-3"},Te={class:"flex-1"},Ae={class:"text-sm font-semibold text-indigo-900"},De={class:"text-sm text-indigo-700 mt-1"},Le={class:"bg-white rounded-lg shadow-sm overflow-hidden"},Re={class:"p-6 border-b border-gray-200"},ze={class:"space-y-6"},Ue={class:"form-group"},Oe={class:"form-group"},Be={class:"form-group"},Ie={key:0,class:"form-group"},Qe={class:"p-4 bg-blue-50 border border-blue-200 rounded-lg"},Fe={class:"flex items-start"},He={class:"flex-1"},Ge={class:"text-sm font-medium text-blue-800 mb-2"},Je={class:"space-y-2"},Xe={class:"flex-1"},We={class:"text-sm text-blue-900 font-medium"},Ye={class:"text-xs text-blue-700 mt-1"},Ze={class:"text-xs text-blue-600 mt-3"},Ke={class:"p-6 border-b border-gray-200 bg-gradient-to-br from-blue-50 to-indigo-50"},ea={class:"flex items-center mb-6"},aa={class:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center mr-4"},ta={class:"space-y-4"},sa={class:"flex items-start flex-1"},oa={class:"flex-1"},ia={class:"flex items-center justify-between mb-2"},ra={class:"flex items-center"},na={class:"flex items-start bg-white/70 border border-green-200 rounded-lg p-3"},la={class:"flex items-start flex-1"},da={class:"flex-1"},ua={class:"flex items-center mb-2"},ca={class:"space-y-2"},pa={class:"flex items-start bg-white/70 border border-orange-200 rounded-lg p-3"},ma={class:"flex items-start bg-white/70 border border-orange-200 rounded-lg p-3"},va={class:"flex items-start flex-1"},ba={class:"flex-1"},ga={class:"flex items-center mb-2"},fa={class:"space-y-2"},xa={class:"flex items-start bg-white/70 border border-blue-200 rounded-lg p-3"},ya={class:"flex items-start bg-yellow-50 border border-yellow-300 rounded-lg p-3"},_a={class:"mt-6 bg-white border-2 border-indigo-200 rounded-xl p-5"},ha={class:"flex items-start"},wa={class:"flex-shrink-0"},ka={class:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center"},Ca={class:"p-6"},Sa={class:"flex items-center justify-between mb-6"},ja={class:"text-xl font-semibold text-gray-900"},Ea={key:0,class:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg"},Pa={key:1,class:"space-y-6"},Na={class:"flex items-start justify-between mb-4"},qa={class:"text-lg font-medium text-gray-900"},$a={class:"form-group mb-4"},Ma=["for"],Va=["id","onUpdate:modelValue"],Ta={class:"form-group mb-4"},Aa=["for"],Da=["id","onUpdate:modelValue","onChange"],La={key:0,class:"form-group"},Ra={class:"space-y-3"},za=["onUpdate:modelValue","placeholder"],Ua={key:1,class:"form-group"},Oa={class:"mt-6 p-4 bg-white border border-gray-200 rounded-lg"},Ba={class:"space-y-3"},Ia={class:"font-medium text-gray-900"},Qa={key:0,class:"space-y-2"},Fa=["name"],Ha={class:"text-gray-700"},Ga={key:1,class:"space-y-2"},Ja={key:2,class:"space-y-3"},Xa={class:"flex items-center justify-between"},Wa={class:"text-sm font-medium text-gray-700"},Ya={key:3,class:"space-y-3"},Za={class:"form-group"},Ka={class:"flex items-center space-x-3 mb-4"},et={key:0,class:"ml-7 space-y-4 p-4 bg-blue-50 border border-blue-200 rounded-lg"},at={class:"grid grid-cols-2 gap-4"},tt={key:0},st={key:1},ot=["value"],it={class:"grid grid-cols-2 gap-4"},rt=["min"],nt={key:0,class:"mt-4 p-3 bg-white border border-blue-300 rounded-lg"},lt={class:"text-sm text-blue-700"},dt={class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},ut={class:"flex justify-between items-center"},ct={class:"text-sm text-gray-500"},pt={key:0},mt={key:1},vt={class:"flex space-x-4"},bt={__name:"CrearEncuestaView",setup(gt){const j=ne(),z=le(),l=te(),V=se(),S=P(null),_=P(!1),t=P({titulo:"",descripcion:"",categoria:"",privacidadNivel:"anonimato_completo",preguntas:[],esRecurrente:!1,creada_desde:"custom",recurrencia:{frecuencia:"",diaSemana:"",diaMes:"",horaEnvio:"09:00",duracionActiva:"7",fechaInicio:""}});oe(()=>{const o=z.query.plantilla;o&&U(o)});const U=o=>{const e=fe.find(s=>s.id===o);e&&(S.value=e,t.value.titulo=e.nombre,t.value.descripcion=e.descripcion,t.value.categoria=O(e.categoria),t.value.creada_desde="plantilla",t.value.preguntas=e.preguntas.map(s=>({id:Date.now()+Math.random(),texto:s.texto,tipo:s.tipo,opciones:s.opciones?[...s.opciones]:[]})),e.metricas&&e.metricas.length>0&&e.metricas.forEach(s=>{t.value.preguntas.push({id:Date.now()+Math.random(),texto:s.texto,tipo:s.tipo,opciones:s.opciones?[...s.opciones]:[]})}),l.add({severity:"info",summary:"Plantilla cargada",detail:`Plantilla "${e.nombre}" cargada. Puedes editar y personalizar las preguntas.`,life:5e3}))},O=o=>({"Clima laboral":"general","Bienestar emocional":"salud-mental","Satisfacción general":"general"})[o]||"general",E=P([]),T={"salud-mental":[{texto:"¿Cómo calificarías tu nivel de estrés en el trabajo durante la última semana?",tipo:"escala_1_5",opciones:[]},{texto:"¿Te sientes emocionalmente agotado al final del día laboral?",tipo:"si_no",opciones:[]},{texto:"¿Qué factores contribuyen más a tu estrés laboral?",tipo:"opcion_multiple",opciones:["Carga de trabajo excesiva","Falta de tiempo","Presión de deadlines","Conflictos interpersonales","Incertidumbre laboral"]},{texto:"¿Qué estrategias o recursos te ayudarían a gestionar mejor el estrés?",tipo:"texto_abierto",opciones:[]}],"carga-laboral":[{texto:"¿Consideras que tu carga de trabajo actual es manejable?",tipo:"escala_1_5",opciones:[]},{texto:"¿Logras mantener un equilibrio saludable entre trabajo y vida personal?",tipo:"si_no",opciones:[]},{texto:"¿Con qué frecuencia trabajas fuera de tu horario habitual?",tipo:"opcion_multiple",opciones:["Nunca","Ocasionalmente","Frecuentemente","Casi siempre","Siempre"]},{texto:"¿Qué cambios en la organización del trabajo mejorarían tu bienestar?",tipo:"texto_abierto",opciones:[]}],comunicacion:[{texto:"¿Qué tan clara y efectiva consideras la comunicación en tu equipo?",tipo:"escala_1_5",opciones:[]},{texto:"¿Te sientes cómodo expresando tus ideas y opiniones en el trabajo?",tipo:"si_no",opciones:[]},{texto:"¿Cuál es el principal desafío en la comunicación de tu equipo?",tipo:"opcion_multiple",opciones:["Falta de claridad en instrucciones","Comunicación tardía","Demasiadas reuniones","Canales inadecuados","Falta de feedback"]},{texto:"¿Cómo podríamos mejorar la comunicación en tu área de trabajo?",tipo:"texto_abierto",opciones:[]}],ergonomia:[{texto:"¿Qué tan cómodo te sientes físicamente en tu puesto de trabajo?",tipo:"escala_1_5",opciones:[]},{texto:"¿Experimentas dolores o molestias físicas relacionadas con tu trabajo?",tipo:"si_no",opciones:[]},{texto:"¿Qué aspectos de tu espacio de trabajo te causan más incomodidad?",tipo:"opcion_multiple",opciones:["Silla inadecuada","Altura del escritorio","Iluminación","Ruido","Temperatura","Espacio insuficiente"]},{texto:"¿Qué mejoras en tu espacio de trabajo tendrían mayor impacto en tu comodidad?",tipo:"texto_abierto",opciones:[]}],desarrollo:[{texto:"¿Sientes que tienes oportunidades de crecimiento profesional en la empresa?",tipo:"escala_1_5",opciones:[]},{texto:"¿Recibes feedback regular sobre tu desempeño y desarrollo?",tipo:"si_no",opciones:[]},{texto:"¿Qué tipo de desarrollo profesional te interesa más?",tipo:"opcion_multiple",opciones:["Capacitación técnica","Habilidades de liderazgo","Certificaciones","Mentoring","Proyectos desafiantes"]},{texto:"¿Qué obstáculos encuentras para tu desarrollo profesional en la empresa?",tipo:"texto_abierto",opciones:[]}],general:[{texto:"¿Cómo calificarías tu satisfacción general con el trabajo?",tipo:"escala_1_5",opciones:[]},{texto:"¿Recomendarías esta empresa como un buen lugar para trabajar?",tipo:"si_no",opciones:[]},{texto:"¿Cuál es el aspecto más positivo de trabajar en esta empresa?",tipo:"opcion_multiple",opciones:["Ambiente de trabajo","Beneficios","Flexibilidad","Oportunidades de crecimiento","Compañeros de trabajo"]},{texto:"¿Qué sugerencias tienes para mejorar el bienestar general en la empresa?",tipo:"texto_abierto",opciones:[]}]},B=q(()=>{if(!(t.value.titulo.trim()&&t.value.categoria&&t.value.privacidadNivel&&t.value.preguntas.length>0&&t.value.preguntas.every(e=>e.texto.trim()&&e.tipo&&(e.tipo!=="opcion_multiple"||e.opciones&&e.opciones.every(s=>s.trim())))))return!1;if(t.value.esRecurrente){const e=t.value.recurrencia;return e.frecuencia&&e.horaEnvio&&e.duracionActiva&&e.fechaInicio&&(e.frecuencia==="semanal"||e.frecuencia==="quincenal"?e.diaSemana:e.frecuencia==="mensual"||e.frecuencia==="trimestral"?e.diaMes:!0)}return!0}),I=q(()=>new Date().toISOString().split("T")[0]),A=q(()=>{if(!t.value.esRecurrente||!t.value.recurrencia.frecuencia)return null;const o=t.value.recurrencia;let e="";switch(o.frecuencia){case"semanal":e=`Cada ${o.diaSemana||"[día]"} a las ${o.horaEnvio||"[hora]"}`;break;case"quincenal":e=`Cada dos semanas los ${o.diaSemana||"[día]"} a las ${o.horaEnvio||"[hora]"}`;break;case"mensual":e=`El día ${o.diaMes||"[día]"} de cada mes a las ${o.horaEnvio||"[hora]"}`;break;case"trimestral":e=`El día ${o.diaMes||"[día]"} cada 3 meses a las ${o.horaEnvio||"[hora]"}`;break}return o.duracionActiva&&(e+=`. Estará activa por ${o.duracionActiva} día${o.duracionActiva!=="1"?"s":""}.`),o.fechaInicio&&(e+=` Comenzará el ${new Date(o.fechaInicio).toLocaleDateString("es-ES")}.`),e}),D=o=>({"salud-mental":"Salud Mental","carga-laboral":"Carga Laboral",comunicacion:"Comunicación",ergonomia:"Ergonomía",desarrollo:"Desarrollo Profesional",general:"Bienestar General"})[o]||o,Q=o=>({opcion_multiple:"Opción Múltiple",si_no:"Sí / No",escala_1_5:"Escala 1-5",texto_abierto:"Texto Abierto"})[o]||o,F=()=>{t.value.categoria&&T[t.value.categoria]?E.value=T[t.value.categoria]:E.value=[]},H=o=>{const e={id:Date.now()+Math.random(),texto:o.texto,tipo:o.tipo,opciones:[...o.opciones]};t.value.preguntas.push(e),l.add({severity:"success",summary:"Pregunta añadida",detail:"La pregunta sugerida ha sido agregada a tu encuesta",life:3e3})},L=()=>{const o={id:Date.now()+Math.random(),texto:"",tipo:"",opciones:["",""]};t.value.preguntas.push(o)},G=o=>{t.value.preguntas.splice(o,1),l.add({severity:"info",summary:"Pregunta eliminada",detail:"La pregunta ha sido removida de la encuesta",life:3e3})},J=o=>{const e=t.value.preguntas[o];e.tipo==="opcion_multiple"?e.opciones=["",""]:e.opciones=[]},X=o=>{t.value.preguntas[o].opciones.push("")},W=(o,e)=>{t.value.preguntas[o].opciones.splice(e,1)},Y=()=>{j.push("/admin/dashboard")},Z=async()=>{if(!t.value.titulo.trim()){l.add({severity:"warn",summary:"Título requerido",detail:"Debes escribir un título para la encuesta",life:4e3});return}if(t.value.preguntas.length===0){l.add({severity:"warn",summary:"Preguntas requeridas",detail:"Debes agregar al menos una pregunta",life:4e3});return}for(let o=0;o<t.value.preguntas.length;o++){const e=t.value.preguntas[o];if(!e.texto.trim()){l.add({severity:"warn",summary:"Pregunta incompleta",detail:`La pregunta ${o+1} necesita un texto`,life:4e3});return}if(!e.tipo){l.add({severity:"warn",summary:"Tipo de pregunta requerido",detail:`Selecciona un tipo para la pregunta ${o+1}`,life:4e3});return}if(e.tipo==="opcion_multiple"){if(!e.opciones||e.opciones.length<2){l.add({severity:"warn",summary:"Opciones insuficientes",detail:`La pregunta ${o+1} necesita al menos 2 opciones`,life:4e3});return}for(let s=0;s<e.opciones.length;s++)if(!e.opciones[s].trim()){l.add({severity:"warn",summary:"Opción vacía",detail:`Completa todas las opciones de la pregunta ${o+1}`,life:4e3});return}}}sessionStorage.setItem("encuesta_preview",JSON.stringify(t.value)),j.push("/admin/encuestas/preview-envio")},K=async()=>{if(!t.value.titulo.trim()){l.add({severity:"warn",summary:"Título requerido",detail:"Debes escribir un título para guardar el borrador",life:4e3});return}_.value=!0;try{await V.createNewSurvey({...t.value,estado:"borrador",privacidadNivel:t.value.privacidadNivel,esRecurrente:t.value.esRecurrente,recurrencia:t.value.esRecurrente?t.value.recurrencia:null}),l.add({severity:"success",summary:"Borrador guardado",detail:"La encuesta ha sido guardada como borrador",life:4e3}),j.push("/admin/dashboard")}catch(o){l.add({severity:"error",summary:"Error al guardar",detail:o.message||"No se pudo guardar el borrador",life:5e3})}finally{_.value=!1}},ee=async()=>{if(!t.value.titulo.trim()){l.add({severity:"warn",summary:"Título requerido",detail:"Debes escribir un título para la encuesta",life:4e3});return}if(t.value.preguntas.length===0){l.add({severity:"warn",summary:"Preguntas requeridas",detail:"Debes agregar al menos una pregunta",life:4e3});return}for(let o=0;o<t.value.preguntas.length;o++){const e=t.value.preguntas[o];if(!e.texto.trim()){l.add({severity:"warn",summary:"Pregunta incompleta",detail:`La pregunta ${o+1} necesita un texto`,life:4e3});return}if(!e.tipo){l.add({severity:"warn",summary:"Tipo de pregunta requerido",detail:`Selecciona un tipo para la pregunta ${o+1}`,life:4e3});return}if(e.tipo==="opcion_multiple"){if(!e.opciones||e.opciones.length<2){l.add({severity:"warn",summary:"Opciones insuficientes",detail:`La pregunta ${o+1} necesita al menos 2 opciones`,life:4e3});return}for(let s=0;s<e.opciones.length;s++)if(!e.opciones[s].trim()){l.add({severity:"warn",summary:"Opción vacía",detail:`Completa todas las opciones de la pregunta ${o+1}`,life:4e3});return}}}_.value=!0;try{await V.createNewSurvey({...t.value,estado:"activa",privacidadNivel:t.value.privacidadNivel,esRecurrente:t.value.esRecurrente,recurrencia:t.value.esRecurrente?t.value.recurrencia:null});const o=t.value.esRecurrente?"recurrente":"única";l.add({severity:"success",summary:"¡Encuesta lanzada!",detail:`La encuesta ${o} está ahora ${t.value.esRecurrente?"programada":"disponible"} para los empleados`,life:5e3}),j.push("/admin/dashboard")}catch(o){console.error("Error al lanzar encuesta:",o),l.add({severity:"error",summary:"Error al lanzar",detail:o.message||"No se pudo lanzar la encuesta",life:5e3})}finally{_.value=!1}};return(o,e)=>(i(),r("div",je,[n(ge,{subtitulo:"Crear Nueva Encuesta"}),a("div",Ee,[a("div",Pe,[a("div",Ne,[a("div",qe,[e[14]||(e[14]=a("div",null,[a("h1",{class:"text-3xl font-bold text-gray-900"},"Crear Nueva Encuesta"),a("p",{class:"mt-2 text-lg text-gray-600"},"Diseña una encuesta de bienestar para tus empleados")],-1)),n(g,{onClick:Y,variant:"outline"},{default:b(()=>[n(d(xe),{class:"h-5 w-5 mr-2"}),e[13]||(e[13]=y(" Volver al Dashboard "))]),_:1,__:[13]})])]),S.value?(i(),r("div",$e,[a("div",Me,[a("div",Ve,u(S.value.icon),1),a("div",Te,[a("h3",Ae," Basado en la plantilla: "+u(S.value.nombre),1),a("p",De,u(S.value.descripcion)+" Puedes editar las preguntas o agregar nuevas antes de lanzar la encuesta. ",1)])])])):v("",!0),a("div",Le,[a("form",{onSubmit:ie(ee,["prevent"]),class:"space-y-8"},[a("div",Re,[e[21]||(e[21]=a("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Información Básica",-1)),a("div",ze,[a("div",Ue,[e[15]||(e[15]=a("label",{for:"titulo",class:"form-label"}," Título de la Encuesta * ",-1)),c(a("input",{id:"titulo","onUpdate:modelValue":e[0]||(e[0]=s=>t.value.titulo=s),type:"text",class:"input",placeholder:"Ej: Encuesta de Satisfacción Laboral",required:""},null,512),[[h,t.value.titulo]]),e[16]||(e[16]=a("p",{class:"mt-1 text-sm text-gray-500"}," Este será el título principal que verán los empleados ",-1))]),a("div",Oe,[e[17]||(e[17]=a("label",{for:"descripcion",class:"form-label"}," Descripción (Opcional) ",-1)),c(a("textarea",{id:"descripcion","onUpdate:modelValue":e[1]||(e[1]=s=>t.value.descripcion=s),rows:"3",class:"input",placeholder:"Describe brevemente el propósito de esta encuesta..."},null,512),[[h,t.value.descripcion]])]),a("div",Be,[e[19]||(e[19]=a("label",{for:"categoria",class:"form-label"}," Categoría de la Encuesta * ",-1)),c(a("select",{id:"categoria","onUpdate:modelValue":e[2]||(e[2]=s=>t.value.categoria=s),class:"input",required:"",onChange:F},e[18]||(e[18]=[x('<option value="" data-v-7cefe2b0>Selecciona una categoría</option><option value="salud-mental" data-v-7cefe2b0>🧠 Salud Mental</option><option value="carga-laboral" data-v-7cefe2b0>⚖️ Carga Laboral</option><option value="comunicacion" data-v-7cefe2b0>💬 Comunicación</option><option value="ergonomia" data-v-7cefe2b0>🪑 Ergonomía</option><option value="desarrollo" data-v-7cefe2b0>📈 Desarrollo Profesional</option><option value="general" data-v-7cefe2b0>📊 Bienestar General</option>',7)]),544),[[w,t.value.categoria]]),e[20]||(e[20]=a("p",{class:"mt-1 text-sm text-gray-500"}," Selecciona el área principal que evaluará esta encuesta ",-1))]),E.value.length>0?(i(),r("div",Ie,[a("div",Qe,[a("div",Fe,[n(d(de),{class:"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),a("div",He,[a("h4",Ge,"Preguntas Sugeridas para "+u(D(t.value.categoria)),1),a("div",Je,[(i(!0),r(k,null,C(E.value,(s,m)=>(i(),r("div",{key:m,class:"flex items-start justify-between p-3 bg-white border border-blue-200 rounded-lg"},[a("div",Xe,[a("p",We,u(s.texto),1),a("p",Ye,"Tipo: "+u(Q(s.tipo)),1)]),n(g,{type:"button",onClick:p=>H(s),variant:"outline",class:"ml-3 text-blue-600 border-blue-300 hover:bg-blue-50"},{default:b(()=>[n(d(N),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]))),128))]),a("p",Ze," 💡 Estas preguntas están diseñadas específicamente para evaluar "+u(D(t.value.categoria).toLowerCase()),1)])])])])):v("",!0)])]),a("div",Ke,[a("div",ea,[a("div",aa,[n(d(ye),{class:"h-6 w-6 text-white"})]),e[22]||(e[22]=a("div",null,[a("h2",{class:"text-xl font-semibold text-gray-900"},"Configuración de Privacidad y Anonimato"),a("p",{class:"text-sm text-gray-600 mt-1"}," Define cómo se gestionarán las respuestas y qué nivel de anonimato tendrán los participantes ")],-1))]),a("div",ta,[a("label",{class:$(["flex items-start p-5 border-2 rounded-xl cursor-pointer transition-all shadow-sm hover:shadow-md",{"border-green-500 bg-green-50 ring-2 ring-green-200":t.value.privacidadNivel==="anonimato_completo","border-gray-300 bg-white":t.value.privacidadNivel!=="anonimato_completo"}])},[a("div",sa,[e[27]||(e[27]=a("div",{class:"flex-shrink-0 mr-4"},[a("div",{class:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center"},[a("span",{class:"text-2xl"},"🟢")])],-1)),a("div",oa,[a("div",ia,[a("div",ra,[c(a("input",{type:"radio","onUpdate:modelValue":e[3]||(e[3]=s=>t.value.privacidadNivel=s),value:"anonimato_completo",class:"h-5 w-5 text-green-600 focus:ring-green-500 border-gray-300"},null,512),[[M,t.value.privacidadNivel]]),e[23]||(e[23]=a("span",{class:"ml-3 text-lg font-bold text-gray-900"},"Anónimo completo",-1))]),e[24]||(e[24]=a("span",{class:"px-3 py-1 text-xs font-semibold bg-green-100 text-green-800 rounded-full border border-green-300"}," Recomendado ",-1))]),e[26]||(e[26]=a("p",{class:"text-sm text-gray-700 leading-relaxed mb-3"}," No se guarda ningún identificador personal. Solo se muestran resultados agregados globales. ",-1)),a("div",na,[n(d(_e),{class:"h-5 w-5 text-green-600 mt-0.5 mr-2 flex-shrink-0"}),e[25]||(e[25]=a("p",{class:"text-xs text-green-800 font-medium"}," Máxima confianza: Los empleados se sentirán seguros compartiendo su opinión honesta ",-1))])])])],2),a("label",{class:$(["flex items-start p-5 border-2 rounded-xl cursor-pointer transition-all shadow-sm hover:shadow-md",{"border-orange-500 bg-orange-50 ring-2 ring-orange-200":t.value.privacidadNivel==="anonimato_parcial","border-gray-300 bg-white":t.value.privacidadNivel!=="anonimato_parcial"}])},[a("div",la,[e[32]||(e[32]=a("div",{class:"flex-shrink-0 mr-4"},[a("div",{class:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center"},[a("span",{class:"text-2xl"},"🟠")])],-1)),a("div",da,[a("div",ua,[c(a("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=s=>t.value.privacidadNivel=s),value:"anonimato_parcial",class:"h-5 w-5 text-orange-600 focus:ring-orange-500 border-gray-300"},null,512),[[M,t.value.privacidadNivel]]),e[28]||(e[28]=a("span",{class:"ml-3 text-lg font-bold text-gray-900"},"Anónimo parcial",-1))]),e[31]||(e[31]=a("p",{class:"text-sm text-gray-700 leading-relaxed mb-3"}," Se agrupan las respuestas por departamento, sin mostrar datos individuales. ",-1)),a("div",ca,[a("div",pa,[n(d(ue),{class:"h-5 w-5 text-orange-600 mt-0.5 mr-2 flex-shrink-0"}),e[29]||(e[29]=a("p",{class:"text-xs text-orange-800 font-medium"}," Análisis por área: Identifica departamentos con oportunidades de mejora ",-1))]),a("div",ma,[n(d(ce),{class:"h-5 w-5 text-orange-600 mt-0.5 mr-2 flex-shrink-0"}),e[30]||(e[30]=a("p",{class:"text-xs text-orange-800 font-medium"}," Protección garantizada: No se revelan identidades individuales ",-1))])])])])],2),a("label",{class:$(["flex items-start p-5 border-2 rounded-xl cursor-pointer transition-all shadow-sm hover:shadow-md",{"border-blue-500 bg-blue-50 ring-2 ring-blue-200":t.value.privacidadNivel==="identificado","border-gray-300 bg-white":t.value.privacidadNivel!=="identificado"}])},[a("div",va,[e[37]||(e[37]=a("div",{class:"flex-shrink-0 mr-4"},[a("div",{class:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center"},[a("span",{class:"text-2xl"},"🔵")])],-1)),a("div",ba,[a("div",ga,[c(a("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=s=>t.value.privacidadNivel=s),value:"identificado",class:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[M,t.value.privacidadNivel]]),e[33]||(e[33]=a("span",{class:"ml-3 text-lg font-bold text-gray-900"},"Identificado (con propósito)",-1))]),e[36]||(e[36]=a("p",{class:"text-sm text-gray-700 leading-relaxed mb-3"}," Las respuestas se asocian al usuario solo con fines de seguimiento interno. Requiere consentimiento. ",-1)),a("div",fa,[a("div",xa,[n(d(pe),{class:"h-5 w-5 text-blue-600 mt-0.5 mr-2 flex-shrink-0"}),e[34]||(e[34]=a("p",{class:"text-xs text-blue-800 font-medium"}," Seguimiento personalizado: Permite dar feedback directo y apoyo individualizado ",-1))]),a("div",ya,[n(d(me),{class:"h-5 w-5 text-yellow-600 mt-0.5 mr-2 flex-shrink-0"}),e[35]||(e[35]=a("p",{class:"text-xs text-yellow-800 font-medium"}," Importante: Puede reducir la sinceridad de las respuestas. Comunica claramente el propósito ",-1))])])])])],2)]),a("div",_a,[a("div",ha,[a("div",wa,[a("div",ka,[n(d(he),{class:"h-5 w-5 text-indigo-600"})])]),e[38]||(e[38]=a("div",{class:"ml-4"},[a("h4",{class:"text-sm font-bold text-gray-900 mb-1"},"Compromiso con la privacidad"),a("p",{class:"text-xs text-gray-700 leading-relaxed"}," SMART Bienestar cumple con las normativas de protección de datos (GDPR). Todas las respuestas se cifran y almacenan de forma segura. Tu configuración será visible para los empleados antes de responder. ")],-1))])])]),a("div",Ca,[a("div",Sa,[a("h2",ja," Preguntas ("+u(t.value.preguntas.length)+") ",1),n(g,{type:"button",onClick:L,variant:"outline"},{default:b(()=>[n(d(N),{class:"h-5 w-5 mr-2"}),e[39]||(e[39]=y(" Añadir Pregunta "))]),_:1,__:[39]})]),t.value.preguntas.length===0?(i(),r("div",Ea,[n(d(we),{class:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e[41]||(e[41]=a("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No hay preguntas aún",-1)),e[42]||(e[42]=a("p",{class:"text-gray-500 mb-4"},"Comienza agregando tu primera pregunta",-1)),n(g,{type:"button",onClick:L},{default:b(()=>[n(d(N),{class:"h-5 w-5 mr-2"}),e[40]||(e[40]=y(" Añadir Primera Pregunta "))]),_:1,__:[40]})])):(i(),r("div",Pa,[(i(!0),r(k,null,C(t.value.preguntas,(s,m)=>(i(),r("div",{key:s.id,class:"border border-gray-200 rounded-lg p-6 bg-gray-50"},[a("div",Na,[a("h3",qa," Pregunta "+u(m+1),1),n(g,{type:"button",onClick:p=>G(m),variant:"outline",class:"text-red-600 hover:text-red-700 hover:bg-red-50"},{default:b(()=>[n(d(ke),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]),a("div",$a,[a("label",{for:`pregunta-texto-${m}`,class:"form-label"}," Texto de la Pregunta * ",8,Ma),c(a("textarea",{id:`pregunta-texto-${m}`,"onUpdate:modelValue":p=>s.texto=p,rows:"2",class:"input",placeholder:"Escribe tu pregunta aquí...",required:""},null,8,Va),[[h,s.texto]])]),a("div",Ta,[a("label",{for:`pregunta-tipo-${m}`,class:"form-label"}," Tipo de Pregunta * ",8,Aa),c(a("select",{id:`pregunta-tipo-${m}`,"onUpdate:modelValue":p=>s.tipo=p,class:"input",required:"",onChange:p=>J(m)},e[43]||(e[43]=[x('<option value="" data-v-7cefe2b0>Selecciona un tipo</option><option value="opcion_multiple" data-v-7cefe2b0>Opción Múltiple</option><option value="si_no" data-v-7cefe2b0>Sí / No</option><option value="escala_1_5" data-v-7cefe2b0>Escala 1-5</option><option value="texto_abierto" data-v-7cefe2b0>Texto Abierto (Anónimo)</option>',5)]),40,Da),[[w,s.tipo]])]),s.tipo==="opcion_multiple"?(i(),r("div",La,[e[45]||(e[45]=a("label",{class:"form-label"},"Opciones de Respuesta *",-1)),a("div",Ra,[(i(!0),r(k,null,C(s.opciones,(p,f)=>(i(),r("div",{key:f,class:"flex items-center space-x-3"},[c(a("input",{"onUpdate:modelValue":R=>s.opciones[f]=R,type:"text",class:"input flex-1",placeholder:`Opción ${f+1}`,required:""},null,8,za),[[h,s.opciones[f]]]),s.opciones.length>2?(i(),ve(g,{key:0,type:"button",onClick:R=>W(m,f),variant:"outline",class:"text-red-600 hover:text-red-700"},{default:b(()=>[n(d(Ce),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):v("",!0)]))),128)),n(g,{type:"button",onClick:p=>X(m),variant:"outline",class:"w-full"},{default:b(()=>[n(d(N),{class:"h-4 w-4 mr-2"}),e[44]||(e[44]=y(" Agregar Opción "))]),_:2,__:[44]},1032,["onClick"])])])):v("",!0),s.tipo==="texto_abierto"?(i(),r("div",Ua,e[46]||(e[46]=[x('<div class="p-4 bg-blue-50 border border-blue-200 rounded-lg" data-v-7cefe2b0><div class="flex items-start" data-v-7cefe2b0><svg class="h-5 w-5 text-blue-500 mt-0.5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7cefe2b0><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-7cefe2b0></path></svg><div data-v-7cefe2b0><h4 class="text-sm font-medium text-blue-800 mb-1" data-v-7cefe2b0>Pregunta de Texto Abierto</h4><p class="text-sm text-blue-700" data-v-7cefe2b0> Los empleados podrán escribir respuestas libres y anónimas. Ideal para recopilar feedback cualitativo y sugerencias. </p></div></div></div>',1)]))):v("",!0),a("div",Oa,[e[51]||(e[51]=a("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Vista Previa:",-1)),a("div",Ba,[a("p",Ia,u(s.texto||"Texto de la pregunta..."),1),s.tipo==="opcion_multiple"?(i(),r("div",Qa,[(i(!0),r(k,null,C(s.opciones,(p,f)=>(i(),r("div",{key:f,class:"flex items-center"},[a("input",{type:"radio",name:`preview-${m}`,class:"mr-2",disabled:""},null,8,Fa),a("span",Ha,u(p||`Opción ${f+1}`),1)]))),128))])):s.tipo==="si_no"?(i(),r("div",Ga,e[47]||(e[47]=[x('<div class="flex items-center" data-v-7cefe2b0><input type="radio" name="preview-sino" class="mr-2" disabled data-v-7cefe2b0><span class="text-gray-700" data-v-7cefe2b0>Sí</span></div><div class="flex items-center" data-v-7cefe2b0><input type="radio" name="preview-sino" class="mr-2" disabled data-v-7cefe2b0><span class="text-gray-700" data-v-7cefe2b0>No</span></div>',2)]))):s.tipo==="escala_1_5"?(i(),r("div",Ja,[e[49]||(e[49]=a("div",{class:"flex items-center justify-between text-sm text-gray-500"},[a("span",null,"Muy insatisfecho"),a("span",null,"Muy satisfecho")],-1)),a("div",Xa,[(i(),r(k,null,C([1,2,3,4,5],p=>a("div",{key:p,class:"flex flex-col items-center"},[e[48]||(e[48]=a("input",{type:"radio",name:"preview-escala",class:"mb-2",disabled:""},null,-1)),a("span",Wa,u(p),1)])),64))])])):s.tipo==="texto_abierto"?(i(),r("div",Ya,e[50]||(e[50]=[a("textarea",{class:"w-full px-3 py-2 border border-gray-300 rounded-md resize-none",rows:"4",placeholder:"Los empleados podrán escribir su respuesta aquí...",disabled:""},null,-1),a("p",{class:"text-xs text-green-600 flex items-center"},[a("svg",{class:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),y(" Tu respuesta a esta pregunta es 100% anónima ")],-1)]))):v("",!0)])])]))),128)),a("div",Za,[a("div",Ka,[c(a("input",{id:"es-recurrente","onUpdate:modelValue":e[6]||(e[6]=s=>t.value.esRecurrente=s),type:"checkbox",class:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"},null,512),[[re,t.value.esRecurrente]]),e[52]||(e[52]=a("label",{for:"es-recurrente",class:"text-sm font-medium text-gray-700"}," Hacer esta encuesta recurrente ",-1))]),t.value.esRecurrente?(i(),r("div",et,[e[64]||(e[64]=a("h4",{class:"text-sm font-medium text-blue-800 mb-3"},"Configuración de Recurrencia",-1)),a("div",at,[a("div",null,[e[54]||(e[54]=a("label",{for:"frecuencia",class:"block text-sm font-medium text-gray-700 mb-1"}," Frecuencia * ",-1)),c(a("select",{id:"frecuencia","onUpdate:modelValue":e[7]||(e[7]=s=>t.value.recurrencia.frecuencia=s),class:"input",required:""},e[53]||(e[53]=[x('<option value="" data-v-7cefe2b0>Selecciona frecuencia</option><option value="semanal" data-v-7cefe2b0>Semanal</option><option value="quincenal" data-v-7cefe2b0>Quincenal</option><option value="mensual" data-v-7cefe2b0>Mensual</option><option value="trimestral" data-v-7cefe2b0>Trimestral</option>',5)]),512),[[w,t.value.recurrencia.frecuencia]])]),t.value.recurrencia.frecuencia==="semanal"||t.value.recurrencia.frecuencia==="quincenal"?(i(),r("div",tt,[e[56]||(e[56]=a("label",{for:"dia-semana",class:"block text-sm font-medium text-gray-700 mb-1"}," Día de la semana * ",-1)),c(a("select",{id:"dia-semana","onUpdate:modelValue":e[8]||(e[8]=s=>t.value.recurrencia.diaSemana=s),class:"input",required:""},e[55]||(e[55]=[x('<option value="" data-v-7cefe2b0>Selecciona día</option><option value="lunes" data-v-7cefe2b0>Lunes</option><option value="martes" data-v-7cefe2b0>Martes</option><option value="miercoles" data-v-7cefe2b0>Miércoles</option><option value="jueves" data-v-7cefe2b0>Jueves</option><option value="viernes" data-v-7cefe2b0>Viernes</option>',6)]),512),[[w,t.value.recurrencia.diaSemana]])])):v("",!0),t.value.recurrencia.frecuencia==="mensual"||t.value.recurrencia.frecuencia==="trimestral"?(i(),r("div",st,[e[58]||(e[58]=a("label",{for:"dia-mes",class:"block text-sm font-medium text-gray-700 mb-1"}," Día del mes * ",-1)),c(a("select",{id:"dia-mes","onUpdate:modelValue":e[9]||(e[9]=s=>t.value.recurrencia.diaMes=s),class:"input",required:""},[e[57]||(e[57]=a("option",{value:""},"Selecciona día",-1)),(i(),r(k,null,C(28,s=>a("option",{key:s,value:s},u(s),9,ot)),64))],512),[[w,t.value.recurrencia.diaMes]])])):v("",!0)]),a("div",it,[a("div",null,[e[59]||(e[59]=a("label",{for:"hora-envio",class:"block text-sm font-medium text-gray-700 mb-1"}," Hora de envío * ",-1)),c(a("input",{id:"hora-envio","onUpdate:modelValue":e[10]||(e[10]=s=>t.value.recurrencia.horaEnvio=s),type:"time",class:"input",required:""},null,512),[[h,t.value.recurrencia.horaEnvio]])]),a("div",null,[e[61]||(e[61]=a("label",{for:"duracion-activa",class:"block text-sm font-medium text-gray-700 mb-1"}," Días activa * ",-1)),c(a("select",{id:"duracion-activa","onUpdate:modelValue":e[11]||(e[11]=s=>t.value.recurrencia.duracionActiva=s),class:"input",required:""},e[60]||(e[60]=[x('<option value="" data-v-7cefe2b0>Selecciona duración</option><option value="1" data-v-7cefe2b0>1 día</option><option value="3" data-v-7cefe2b0>3 días</option><option value="7" data-v-7cefe2b0>7 días</option><option value="14" data-v-7cefe2b0>14 días</option>',5)]),512),[[w,t.value.recurrencia.duracionActiva]])])]),a("div",null,[e[62]||(e[62]=a("label",{for:"fecha-inicio",class:"block text-sm font-medium text-gray-700 mb-1"}," Fecha de inicio * ",-1)),c(a("input",{id:"fecha-inicio","onUpdate:modelValue":e[12]||(e[12]=s=>t.value.recurrencia.fechaInicio=s),type:"date",class:"input",min:I.value,required:""},null,8,rt),[[h,t.value.recurrencia.fechaInicio]])]),A.value?(i(),r("div",nt,[e[63]||(e[63]=a("h5",{class:"text-sm font-medium text-blue-800 mb-2"},"Vista previa del cronograma:",-1)),a("p",lt,u(A.value),1)])):v("",!0)])):v("",!0)])]))]),a("div",dt,[a("div",ut,[a("div",ct,[t.value.preguntas.length===0?(i(),r("span",pt," Agrega al menos una pregunta para continuar ")):(i(),r("span",mt,u(t.value.preguntas.length)+" pregunta"+u(t.value.preguntas.length!==1?"s":"")+" lista"+u(t.value.preguntas.length!==1?"s":""),1))]),a("div",vt,[n(g,{type:"button",onClick:K,variant:"outline",disabled:_.value||!t.value.titulo.trim()},{default:b(()=>[n(d(Se),{class:"h-4 w-4 mr-2"}),e[65]||(e[65]=y(" Guardar Borrador "))]),_:1,__:[65]},8,["disabled"]),n(g,{type:"button",onClick:Z,loading:_.value,disabled:!B.value,class:"bg-indigo-600 text-white hover:bg-indigo-700"},{default:b(()=>[e[66]||(e[66]=y(" Continuar a envío ")),n(d(be),{class:"h-4 w-4 ml-2"})]),_:1,__:[66]},8,["loading","disabled"])])])])],32)])])])]))}},Pt=ae(bt,[["__scopeId","data-v-7cefe2b0"]]);export{Pt as default};
